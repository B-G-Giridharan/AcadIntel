(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))b(E);new MutationObserver(E=>{for(const w of E)if(w.type==="childList")for(const T of w.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&b(T)}).observe(document,{childList:!0,subtree:!0});function h(E){const w={};return E.integrity&&(w.integrity=E.integrity),E.referrerPolicy&&(w.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?w.credentials="include":E.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function b(E){if(E.ep)return;E.ep=!0;const w=h(E);fetch(E.href,w)}})();var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ah(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var tf={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function gg(){if(Od)return bs;Od=1;var f=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function h(b,E,w){var T=null;if(w!==void 0&&(T=""+w),E.key!==void 0&&(T=""+E.key),"key"in E){w={};for(var D in E)D!=="key"&&(w[D]=E[D])}else w=E;return E=w.ref,{$$typeof:f,type:b,key:T,ref:E!==void 0?E:null,props:w}}return bs.Fragment=m,bs.jsx=h,bs.jsxs=h,bs}var Id;function mg(){return Id||(Id=1,tf.exports=gg()),tf.exports}var y=mg(),nf={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function pg(){if(Dd)return Ge;Dd=1;var f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),G=Symbol.iterator;function Y(H){return H===null||typeof H!="object"?null:(H=G&&H[G]||H["@@iterator"],typeof H=="function"?H:null)}var oe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le=Object.assign,ie={};function be(H,re,we){this.props=H,this.context=re,this.refs=ie,this.updater=we||oe}be.prototype.isReactComponent={},be.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},be.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function xe(){}xe.prototype=be.prototype;function ae(H,re,we){this.props=H,this.context=re,this.refs=ie,this.updater=we||oe}var Ee=ae.prototype=new xe;Ee.constructor=ae,le(Ee,be.prototype),Ee.isPureReactComponent=!0;var Re=Array.isArray;function Ie(){}var ee={H:null,A:null,T:null,S:null},Ce=Object.prototype.hasOwnProperty;function ue(H,re,we){var Ae=we.ref;return{$$typeof:f,type:H,key:re,ref:Ae!==void 0?Ae:null,props:we}}function Me(H,re){return ue(H.type,re,H.props)}function We(H){return typeof H=="object"&&H!==null&&H.$$typeof===f}function ve(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(we){return re[we]})}var Qe=/\/+/g;function xt(H,re){return typeof H=="object"&&H!==null&&H.key!=null?ve(""+H.key):re.toString(36)}function te(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Ie,Ie):(H.status="pending",H.then(function(re){H.status==="pending"&&(H.status="fulfilled",H.value=re)},function(re){H.status==="pending"&&(H.status="rejected",H.reason=re)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function $(H,re,we,Ae,ze){var ye=typeof H;(ye==="undefined"||ye==="boolean")&&(H=null);var ct=!1;if(H===null)ct=!0;else switch(ye){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(H.$$typeof){case f:case m:ct=!0;break;case L:return ct=H._init,$(ct(H._payload),re,we,Ae,ze)}}if(ct)return ze=ze(H),ct=Ae===""?"."+xt(H,0):Ae,Re(ze)?(we="",ct!=null&&(we=ct.replace(Qe,"$&/")+"/"),$(ze,re,we,"",function(va){return va})):ze!=null&&(We(ze)&&(ze=Me(ze,we+(ze.key==null||H&&H.key===ze.key?"":(""+ze.key).replace(Qe,"$&/")+"/")+ct)),re.push(ze)),1;ct=0;var ut=Ae===""?".":Ae+":";if(Re(H))for(var Dt=0;Dt<H.length;Dt++)Ae=H[Dt],ye=ut+xt(Ae,Dt),ct+=$(Ae,re,we,ye,ze);else if(Dt=Y(H),typeof Dt=="function")for(H=Dt.call(H),Dt=0;!(Ae=H.next()).done;)Ae=Ae.value,ye=ut+xt(Ae,Dt++),ct+=$(Ae,re,we,ye,ze);else if(ye==="object"){if(typeof H.then=="function")return $(te(H),re,we,Ae,ze);throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ct}function K(H,re,we){if(H==null)return H;var Ae=[],ze=0;return $(H,Ae,"","",function(ye){return re.call(we,ye,ze++)}),Ae}function Be(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(we){(H._status===0||H._status===-1)&&(H._status=1,H._result=we)},function(we){(H._status===0||H._status===-1)&&(H._status=2,H._result=we)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var Ve=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Je={map:K,forEach:function(H,re,we){K(H,function(){re.apply(this,arguments)},we)},count:function(H){var re=0;return K(H,function(){re++}),re},toArray:function(H){return K(H,function(re){return re})||[]},only:function(H){if(!We(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ge.Activity=I,Ge.Children=Je,Ge.Component=be,Ge.Fragment=h,Ge.Profiler=E,Ge.PureComponent=ae,Ge.StrictMode=b,Ge.Suspense=O,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(H){return ee.H.useMemoCache(H)}},Ge.cache=function(H){return function(){return H.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(H,re,we){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Ae=le({},H.props),ze=H.key;if(re!=null)for(ye in re.key!==void 0&&(ze=""+re.key),re)!Ce.call(re,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&re.ref===void 0||(Ae[ye]=re[ye]);var ye=arguments.length-2;if(ye===1)Ae.children=we;else if(1<ye){for(var ct=Array(ye),ut=0;ut<ye;ut++)ct[ut]=arguments[ut+2];Ae.children=ct}return ue(H.type,ze,Ae)},Ge.createContext=function(H){return H={$$typeof:T,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:w,_context:H},H},Ge.createElement=function(H,re,we){var Ae,ze={},ye=null;if(re!=null)for(Ae in re.key!==void 0&&(ye=""+re.key),re)Ce.call(re,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(ze[Ae]=re[Ae]);var ct=arguments.length-2;if(ct===1)ze.children=we;else if(1<ct){for(var ut=Array(ct),Dt=0;Dt<ct;Dt++)ut[Dt]=arguments[Dt+2];ze.children=ut}if(H&&H.defaultProps)for(Ae in ct=H.defaultProps,ct)ze[Ae]===void 0&&(ze[Ae]=ct[Ae]);return ue(H,ye,ze)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(H){return{$$typeof:D,render:H}},Ge.isValidElement=We,Ge.lazy=function(H){return{$$typeof:L,_payload:{_status:-1,_result:H},_init:Be}},Ge.memo=function(H,re){return{$$typeof:v,type:H,compare:re===void 0?null:re}},Ge.startTransition=function(H){var re=ee.T,we={};ee.T=we;try{var Ae=H(),ze=ee.S;ze!==null&&ze(we,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(Ie,Ve)}catch(ye){Ve(ye)}finally{re!==null&&we.types!==null&&(re.types=we.types),ee.T=re}},Ge.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ge.use=function(H){return ee.H.use(H)},Ge.useActionState=function(H,re,we){return ee.H.useActionState(H,re,we)},Ge.useCallback=function(H,re){return ee.H.useCallback(H,re)},Ge.useContext=function(H){return ee.H.useContext(H)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(H,re){return ee.H.useDeferredValue(H,re)},Ge.useEffect=function(H,re){return ee.H.useEffect(H,re)},Ge.useEffectEvent=function(H){return ee.H.useEffectEvent(H)},Ge.useId=function(){return ee.H.useId()},Ge.useImperativeHandle=function(H,re,we){return ee.H.useImperativeHandle(H,re,we)},Ge.useInsertionEffect=function(H,re){return ee.H.useInsertionEffect(H,re)},Ge.useLayoutEffect=function(H,re){return ee.H.useLayoutEffect(H,re)},Ge.useMemo=function(H,re){return ee.H.useMemo(H,re)},Ge.useOptimistic=function(H,re){return ee.H.useOptimistic(H,re)},Ge.useReducer=function(H,re,we){return ee.H.useReducer(H,re,we)},Ge.useRef=function(H){return ee.H.useRef(H)},Ge.useState=function(H){return ee.H.useState(H)},Ge.useSyncExternalStore=function(H,re,we){return ee.H.useSyncExternalStore(H,re,we)},Ge.useTransition=function(){return ee.H.useTransition()},Ge.version="19.2.4",Ge}var Md;function mf(){return Md||(Md=1,nf.exports=pg()),nf.exports}var F=mf();const Ch=Ah(F);var af={exports:{}},ys={},rf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function bg(){return Bd||(Bd=1,(function(f){function m($,K){var Be=$.length;$.push(K);e:for(;0<Be;){var Ve=Be-1>>>1,Je=$[Ve];if(0<E(Je,K))$[Ve]=K,$[Be]=Je,Be=Ve;else break e}}function h($){return $.length===0?null:$[0]}function b($){if($.length===0)return null;var K=$[0],Be=$.pop();if(Be!==K){$[0]=Be;e:for(var Ve=0,Je=$.length,H=Je>>>1;Ve<H;){var re=2*(Ve+1)-1,we=$[re],Ae=re+1,ze=$[Ae];if(0>E(we,Be))Ae<Je&&0>E(ze,we)?($[Ve]=ze,$[Ae]=Be,Ve=Ae):($[Ve]=we,$[re]=Be,Ve=re);else if(Ae<Je&&0>E(ze,Be))$[Ve]=ze,$[Ae]=Be,Ve=Ae;else break e}}return K}function E($,K){var Be=$.sortIndex-K.sortIndex;return Be!==0?Be:$.id-K.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;f.unstable_now=function(){return w.now()}}else{var T=Date,D=T.now();f.unstable_now=function(){return T.now()-D}}var O=[],v=[],L=1,I=null,G=3,Y=!1,oe=!1,le=!1,ie=!1,be=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Ee($){for(var K=h(v);K!==null;){if(K.callback===null)b(v);else if(K.startTime<=$)b(v),K.sortIndex=K.expirationTime,m(O,K);else break;K=h(v)}}function Re($){if(le=!1,Ee($),!oe)if(h(O)!==null)oe=!0,Ie||(Ie=!0,ve());else{var K=h(v);K!==null&&te(Re,K.startTime-$)}}var Ie=!1,ee=-1,Ce=5,ue=-1;function Me(){return ie?!0:!(f.unstable_now()-ue<Ce)}function We(){if(ie=!1,Ie){var $=f.unstable_now();ue=$;var K=!0;try{e:{oe=!1,le&&(le=!1,xe(ee),ee=-1),Y=!0;var Be=G;try{t:{for(Ee($),I=h(O);I!==null&&!(I.expirationTime>$&&Me());){var Ve=I.callback;if(typeof Ve=="function"){I.callback=null,G=I.priorityLevel;var Je=Ve(I.expirationTime<=$);if($=f.unstable_now(),typeof Je=="function"){I.callback=Je,Ee($),K=!0;break t}I===h(O)&&b(O),Ee($)}else b(O);I=h(O)}if(I!==null)K=!0;else{var H=h(v);H!==null&&te(Re,H.startTime-$),K=!1}}break e}finally{I=null,G=Be,Y=!1}K=void 0}}finally{K?ve():Ie=!1}}}var ve;if(typeof ae=="function")ve=function(){ae(We)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,xt=Qe.port2;Qe.port1.onmessage=We,ve=function(){xt.postMessage(null)}}else ve=function(){be(We,0)};function te($,K){ee=be(function(){$(f.unstable_now())},K)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function($){$.callback=null},f.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<$?Math.floor(1e3/$):5},f.unstable_getCurrentPriorityLevel=function(){return G},f.unstable_next=function($){switch(G){case 1:case 2:case 3:var K=3;break;default:K=G}var Be=G;G=K;try{return $()}finally{G=Be}},f.unstable_requestPaint=function(){ie=!0},f.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Be=G;G=$;try{return K()}finally{G=Be}},f.unstable_scheduleCallback=function($,K,Be){var Ve=f.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?Ve+Be:Ve):Be=Ve,$){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Be+Je,$={id:L++,callback:K,priorityLevel:$,startTime:Be,expirationTime:Je,sortIndex:-1},Be>Ve?($.sortIndex=Be,m(v,$),h(O)===null&&$===h(v)&&(le?(xe(ee),ee=-1):le=!0,te(Re,Be-Ve))):($.sortIndex=Je,m(O,$),oe||Y||(oe=!0,Ie||(Ie=!0,ve()))),$},f.unstable_shouldYield=Me,f.unstable_wrapCallback=function($){var K=G;return function(){var Be=G;G=K;try{return $.apply(this,arguments)}finally{G=Be}}}})(lf)),lf}var Ld;function yg(){return Ld||(Ld=1,rf.exports=bg()),rf.exports}var sf={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function wg(){if(kd)return _n;kd=1;var f=mf();function m(O){var v="https://react.dev/errors/"+O;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var L=2;L<arguments.length;L++)v+="&args[]="+encodeURIComponent(arguments[L])}return"Minified React error #"+O+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var b={d:{f:h,r:function(){throw Error(m(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},E=Symbol.for("react.portal");function w(O,v,L){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:I==null?null:""+I,children:O,containerInfo:v,implementation:L}}var T=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function D(O,v){if(O==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,_n.createPortal=function(O,v){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(m(299));return w(O,v,null,L)},_n.flushSync=function(O){var v=T.T,L=b.p;try{if(T.T=null,b.p=2,O)return O()}finally{T.T=v,b.p=L,b.d.f()}},_n.preconnect=function(O,v){typeof O=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,b.d.C(O,v))},_n.prefetchDNS=function(O){typeof O=="string"&&b.d.D(O)},_n.preinit=function(O,v){if(typeof O=="string"&&v&&typeof v.as=="string"){var L=v.as,I=D(L,v.crossOrigin),G=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;L==="style"?b.d.S(O,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:G,fetchPriority:Y}):L==="script"&&b.d.X(O,{crossOrigin:I,integrity:G,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},_n.preinitModule=function(O,v){if(typeof O=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var L=D(v.as,v.crossOrigin);b.d.M(O,{crossOrigin:L,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&b.d.M(O)},_n.preload=function(O,v){if(typeof O=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var L=v.as,I=D(L,v.crossOrigin);b.d.L(O,L,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},_n.preloadModule=function(O,v){if(typeof O=="string")if(v){var L=D(v.as,v.crossOrigin);b.d.m(O,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:L,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else b.d.m(O)},_n.requestFormReset=function(O){b.d.r(O)},_n.unstable_batchedUpdates=function(O,v){return O(v)},_n.useFormState=function(O,v,L){return T.H.useFormState(O,v,L)},_n.useFormStatus=function(){return T.H.useHostTransitionStatus()},_n.version="19.2.4",_n}var jd;function Eg(){if(jd)return sf.exports;jd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(m){console.error(m)}}return f(),sf.exports=wg(),sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function Ag(){if(Ud)return ys;Ud=1;var f=yg(),m=mf(),h=Eg();function b(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function T(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function D(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(w(e)!==e)throw Error(b(188))}function v(e){var n=e.alternate;if(!n){if(n=w(e),n===null)throw Error(b(188));return n!==e?null:e}for(var r=e,o=n;;){var d=r.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===r)return O(d),e;if(g===o)return O(d),n;g=g.sibling}throw Error(b(188))}if(r.return!==o.return)r=d,o=g;else{for(var C=!1,R=d.child;R;){if(R===r){C=!0,r=d,o=g;break}if(R===o){C=!0,o=d,r=g;break}R=R.sibling}if(!C){for(R=g.child;R;){if(R===r){C=!0,r=g,o=d;break}if(R===o){C=!0,o=g,r=d;break}R=R.sibling}if(!C)throw Error(b(189))}}if(r.alternate!==o)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?e:n}function L(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=L(e),n!==null)return n;e=e.sibling}return null}var I=Object.assign,G=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),oe=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),xe=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),Me=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=We&&e[We]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case be:return"Profiler";case ie:return"StrictMode";case Re:return"Suspense";case Ie:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case oe:return"Portal";case ae:return e.displayName||"Context";case xe:return(e._context.displayName||"Context")+".Consumer";case Ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:xt(e.type)||"Memo";case Ce:n=e._payload,e=e._init;try{return xt(e(n))}catch{}}return null}var te=Array.isArray,$=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Ve=[],Je=-1;function H(e){return{current:e}}function re(e){0>Je||(e.current=Ve[Je],Ve[Je]=null,Je--)}function we(e,n){Je++,Ve[Je]=e.current,e.current=n}var Ae=H(null),ze=H(null),ye=H(null),ct=H(null);function ut(e,n){switch(we(ye,n),we(ze,e),we(Ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?$1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=$1(n),e=ed(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(Ae),we(Ae,e)}function Dt(){re(Ae),re(ze),re(ye)}function va(e){e.memoizedState!==null&&we(ct,e);var n=Ae.current,r=ed(n,e.type);n!==r&&(we(ze,e),we(Ae,r))}function dn(e){ze.current===e&&(re(Ae),re(ze)),ct.current===e&&(re(ct),xs._currentValue=Be)}var Ai,ft;function kn(e){if(Ai===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ai=n&&n[1]||"",ft=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+e+ft}var jn=!1;function Za(e,n){if(!e||jn)return"";jn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ne){var Q=ne}Reflect.construct(e,[],fe)}else{try{fe.call()}catch(ne){Q=ne}e.call(fe.prototype)}}else{try{throw Error()}catch(ne){Q=ne}(fe=e())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ne){if(ne&&Q&&typeof ne.stack=="string")return[ne.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),C=g[0],R=g[1];if(C&&R){var k=C.split(`
`),Z=R.split(`
`);for(d=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;if(o===k.length||d===Z.length)for(o=k.length-1,d=Z.length-1;1<=o&&0<=d&&k[o]!==Z[d];)d--;for(;1<=o&&0<=d;o--,d--)if(k[o]!==Z[d]){if(o!==1||d!==1)do if(o--,d--,0>d||k[o]!==Z[d]){var se=`
`+k[o].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=o&&0<=d);break}}}finally{jn=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?kn(r):""}function hn(e,n){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Za(e.type,!1);case 11:return Za(e.type.render,!1);case 1:return Za(e.type,!0);case 31:return kn("Activity");default:return""}}function vt(e){try{var n="",r=null;do n+=hn(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var et=Object.prototype.hasOwnProperty,Ci=f.unstable_scheduleCallback,Te=f.unstable_cancelCallback,kr=f.unstable_shouldYield,Rs=f.unstable_requestPaint,Yt=f.unstable_now,Sl=f.unstable_getCurrentPriorityLevel,Un=f.unstable_ImmediatePriority,Nl=f.unstable_UserBlockingPriority,Qn=f.unstable_NormalPriority,En=f.unstable_LowPriority,Tl=f.unstable_IdlePriority,jr=f.log,lc=f.unstable_setDisableYieldValue,jt=null,pe=null;function _t(e){if(typeof jr=="function"&&lc(e),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(jt,e)}catch{}}var Ye=Math.clz32?Math.clz32:_l,Pt=Math.log,cr=Math.LN2;function _l(e){return e>>>=0,e===0?32:31-(Pt(e)/cr|0)|0}var ur=256,it=262144,ua=4194304;function La(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fr(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var d=0,g=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var R=o&134217727;return R!==0?(o=R&~g,o!==0?d=La(o):(C&=R,C!==0?d=La(C):r||(r=R&~e,r!==0&&(d=La(r))))):(R=o&~g,R!==0?d=La(R):C!==0?d=La(C):r||(r=o&~e,r!==0&&(d=La(r)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,r=n&-n,g>=r||g===32&&(r&4194048)!==0)?n:d}function An(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var e=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),e}function ka(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ja(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fa(e,n,r,o,d,g){var C=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var R=e.entanglements,k=e.expirationTimes,Z=e.hiddenUpdates;for(r=C&~r;0<r;){var se=31-Ye(r),fe=1<<se;R[se]=0,k[se]=-1;var Q=Z[se];if(Q!==null)for(Z[se]=null,se=0;se<Q.length;se++){var ne=Q[se];ne!==null&&(ne.lane&=-536870913)}r&=~fe}o!==0&&Os(e,o,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(C&~n))}function Os(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ye(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Ua(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ye(r),d=1<<o;d&n|e[o]&n&&(e[o]|=n),r&=~d}}function Ur(e,n){var r=n&-n;return r=(r&42)!==0?1:yn(r),(r&(e.suspendedLanes|n))!==0?0:r}function yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rn(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function Se(e,n){var r=K.p;try{return K.p=e,n()}finally{K.p=r}}var On=Math.random().toString(36).slice(2),en="__reactFiber$"+On,St="__reactProps$"+On,Kn="__reactContainer$"+On,vi="__reactEvents$"+On,Fr="__reactListeners$"+On,da="__reactHandles$"+On,Is="__reactResources$"+On,dr="__reactMarker$"+On;function Fn(e){delete e[en],delete e[St],delete e[vi],delete e[Fr],delete e[da]}function Zt(e){var n=e[en];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Kn]||r[en]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=sd(e);e!==null;){if(r=e[en])return r;e=sd(e)}return n}e=r,r=e.parentNode}return null}function bt(e){if(e=e[en]||e[Kn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Si(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(b(33))}function In(e){var n=e[Is];return n||(n=e[Is]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qt(e){e[dr]=!0}var de=new Set,Ds={};function Et(e,n){Wn(e,n),Wn(e+"Capture",n)}function Wn(e,n){for(Ds[e]=n,e=0;e<n.length;e++)de.add(n[e])}var sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ht={},dt={};function tt(e){return et.call(dt,e)?!0:et.call(ht,e)?!1:sc.test(e)?dt[e]=!0:(ht[e]=!0,!1)}function Ni(e,n,r){if(tt(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ti(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Jn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Na(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oc(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(C){r=""+C,g.call(this,C)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(C){r=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ut(e){if(!e._valueTracker){var n=Na(e)?"checked":"value";e._valueTracker=oc(e,n,""+e[n])}}function Ta(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Na(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function $e(e){return e.replace(_i,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,r,o,d,g,C,R){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+gt(n)):e.value!==""+gt(n)&&(e.value=""+gt(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?M(e,C,gt(n)):r!=null?M(e,C,gt(r)):o!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+gt(R):e.removeAttribute("name")}function X(e,n,r,o,d,g,C,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){Ut(e);return}r=r!=null?""+gt(r):"",n=n!=null?""+gt(n):r,R||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=R?e.checked:!!o,e.defaultChecked=!!o,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Ut(e)}function M(e,n,r){n==="number"&&zr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Oe(e,n,r,o){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&o&&(e[r].defaultSelected=!0)}else{for(r=""+gt(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function tn(e,n,r){if(n!=null&&(n=""+gt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+gt(r):""}function Dn(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(b(92));if(te(o)){if(1<o.length)throw Error(b(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=gt(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ut(e)}function Ri(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Ol=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mn(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Ol.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Le(e,n,r){if(n!=null&&typeof n!="object")throw Error(b(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&r[d]!==o&&Mn(e,d,o)}else for(var g in n)n.hasOwnProperty(g)&&Mn(e,g,n[g])}function Mt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(e){return cc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var hr=null;function Il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ft=null,ha=null;function _a(e){var n=bt(e);if(n&&(e=n.stateNode)){var r=e[St]||null;e:switch(e=n.stateNode,n.type){case"input":if(ln(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var d=o[St]||null;if(!d)throw Error(b(90));ln(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ta(o)}break e;case"textarea":tn(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Oe(e,!!r.multiple,n,!1)}}}var je=!1;function Bs(e,n,r){if(je)return e(n,r);je=!0;try{var o=e(n);return o}finally{if(je=!1,(Ft!==null||ha!==null)&&(No(),Ft&&(n=Ft,e=ha,ha=Ft=null,_a(n),e)))for(n=0;n<e.length;n++)_a(e[n])}}function He(e,n){var r=e.stateNode;if(r===null)return null;var o=r[St]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(b(231,n,typeof r));return r}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=!1;if(Bt)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Dl=!1}var Ra=null,Oa=null,Hr=null;function Ii(){if(Hr)return Hr;var e,n=Oa,r=n.length,o,d="value"in Ra?Ra.value:Ra.textContent,g=d.length;for(e=0;e<r&&n[e]===d[e];e++);var C=r-e;for(o=1;o<=C&&n[r-o]===d[g-o];o++);return Hr=d.slice(e,1<o?1-o:void 0)}function Fa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function za(){return!0}function Ml(){return!1}function sn(e){function n(r,o,d,g,C){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=C,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(r=e[R],this[R]=r?r(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?za:Ml,this.isPropagationStopped=Ml,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),n}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gn=sn($n),Di=I({},$n,{view:0,detail:0}),Ls=sn(Di),Pr,Bl,xr,Gr=I({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Pr=e.screenX-xr.screenX,Bl=e.screenY-xr.screenY):Bl=Pr=0,xr=e),Pr)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),yt=sn(Gr),ks=I({},Gr,{dataTransfer:0}),Vr=sn(ks),Ha=I({},Di,{relatedTarget:0}),Ll=sn(Ha),J=I({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),qe=sn(J),mn=I({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=sn(mn),js=I({},$n,{data:0}),Us=sn(js),uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nn(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=kl[e])?!!n[e]:!1}function gr(){return nn}var Gt=I({},Di,{key:function(e){if(e.key){var n=uc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?Fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yr=sn(Gt),Ka=I({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),At=sn(Ka),Ue=I({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),dc=sn(Ue),Lt=I({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wa=sn(Lt),Mi=I({},Gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hc=sn(Mi),xa=I({},$n,{newState:0,oldState:0}),jl=sn(xa),Fs=[9,13,27,32],mr=Bt&&"CompositionEvent"in window,Bi=null;Bt&&"documentMode"in document&&(Bi=document.documentMode);var zs=Bt&&"TextEvent"in window&&!Bi,Hs=Bt&&(!mr||Bi&&8<Bi&&11>=Bi),Ja=" ",qr=!1;function Ps(e,n){switch(e){case"keyup":return Fs.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Li(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ki=!1;function Pa(e,n){switch(e){case"compositionend":return Li(n);case"keypress":return n.which!==32?null:(qr=!0,Ja);case"textInput":return e=n.data,e===Ja&&qr?null:e;default:return null}}function Zr(e,n){if(ki)return e==="compositionend"||!mr&&Ps(e,n)?(e=Ii(),Hr=Oa=Ra=null,ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hs&&n.locale!=="ko"?null:n.data;default:return null}}var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Hn[e.type]:n==="textarea"}function ea(e,n,r,o){Ft?ha?ha.push(o):ha=[o]:Ft=o,n=Mo(n,"onChange"),0<n.length&&(r=new gn("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var pr=null,$a=null;function xc(e){q1(e,0)}function br(e){var n=Si(e);if(Ta(n))return e}function ta(e,n){if(e==="change")return n}var Gs=!1;if(Bt){var yr;if(Bt){var ei="oninput"in document;if(!ei){var rt=document.createElement("div");rt.setAttribute("oninput","return;"),ei=typeof rt.oninput=="function"}yr=ei}else yr=!1;Gs=yr&&(!document.documentMode||9<document.documentMode)}function wr(){pr&&(pr.detachEvent("onpropertychange",S),$a=pr=null)}function S(e){if(e.propertyName==="value"&&br($a)){var n=[];ea(n,$a,e,Il(e)),Bs(xc,n)}}function t(e,n,r){e==="focusin"?(wr(),pr=n,$a=r,pr.attachEvent("onpropertychange",S)):e==="focusout"&&wr()}function a(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return br($a)}function i(e,n){if(e==="click")return br(n)}function l(e,n){if(e==="input"||e==="change")return br(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var c=typeof Object.is=="function"?Object.is:s;function u(e,n){if(c(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!et.call(n,d)||!c(e[d],n[d]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,n){var r=x(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=x(r)}}function A(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=zr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=zr(e.document)}return n}function _(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var B=Bt&&"documentMode"in document&&11>=document.documentMode,j=null,U=null,V=null,W=!1;function me(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;W||j==null||j!==zr(o)||(o=j,"selectionStart"in o&&_(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),V&&u(V,o)||(V=o,o=Mo(U,"onSelect"),0<o.length&&(n=new gn("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=j)))}function ge(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var he={animationend:ge("Animation","AnimationEnd"),animationiteration:ge("Animation","AnimationIteration"),animationstart:ge("Animation","AnimationStart"),transitionrun:ge("Transition","TransitionRun"),transitionstart:ge("Transition","TransitionStart"),transitioncancel:ge("Transition","TransitionCancel"),transitionend:ge("Transition","TransitionEnd")},Ke={},Pe={};Bt&&(Pe=document.createElement("div").style,"AnimationEvent"in window||(delete he.animationend.animation,delete he.animationiteration.animation,delete he.animationstart.animation),"TransitionEvent"in window||delete he.transitionend.transition);function Kt(e){if(Ke[e])return Ke[e];if(!he[e])return e;var n=he[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pe)return Ke[e]=n[r];return e}var Pn=Kt("animationend"),Cn=Kt("animationiteration"),Ct=Kt("animationstart"),pn=Kt("transitionrun"),Bn=Kt("transitionstart"),ji=Kt("transitioncancel"),ti=Kt("transitionend"),Vs=new Map,Fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fl.push("scrollEnd");function Ia(e,n){Vs.set(e,n),Et(n,[e])}var Xs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ga=[],Qr=0,gc=0;function Ys(){for(var e=Qr,n=gc=Qr=0;n<e;){var r=ga[n];ga[n++]=null;var o=ga[n];ga[n++]=null;var d=ga[n];ga[n++]=null;var g=ga[n];if(ga[n++]=null,o!==null&&d!==null){var C=o.pending;C===null?d.next=d:(d.next=C.next,C.next=d),o.pending=d}g!==0&&_f(r,d,g)}}function qs(e,n,r,o){ga[Qr++]=e,ga[Qr++]=n,ga[Qr++]=r,ga[Qr++]=o,gc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function mc(e,n,r,o){return qs(e,n,r,o),Zs(e)}function Er(e,n){return qs(e,null,null,n),Zs(e)}function _f(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var d=!1,g=e.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&n!==null&&(d=31-Ye(r),e=g.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=r|536870912),g):null}function Zs(e){if(50<ss)throw ss=0,Su=null,Error(b(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Kr={};function Jh(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,n,r,o){return new Jh(e,n,r,o)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ni(e,n){var r=e.alternate;return r===null?(r=na(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Rf(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Qs(e,n,r,o,d,g){var C=0;if(o=e,typeof e=="function")pc(e)&&(C=1);else if(typeof e=="string")C=ag(e,r,Ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=na(31,r,n,d),e.elementType=ue,e.lanes=g,e;case le:return Ar(r.children,d,g,n);case ie:C=8,d|=24;break;case be:return e=na(12,r,n,d|2),e.elementType=be,e.lanes=g,e;case Re:return e=na(13,r,n,d),e.elementType=Re,e.lanes=g,e;case Ie:return e=na(19,r,n,d),e.elementType=Ie,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:C=10;break e;case xe:C=9;break e;case Ee:C=11;break e;case ee:C=14;break e;case Ce:C=16,o=null;break e}C=29,r=Error(b(130,e===null?"null":typeof e,"")),o=null}return n=na(C,r,n,d),n.elementType=e,n.type=o,n.lanes=g,n}function Ar(e,n,r,o){return e=na(7,e,o,n),e.lanes=r,e}function bc(e,n,r){return e=na(6,e,null,n),e.lanes=r,e}function Of(e){var n=na(18,null,null,0);return n.stateNode=e,n}function yc(e,n,r){return n=na(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var If=new WeakMap;function ma(e,n){if(typeof e=="object"&&e!==null){var r=If.get(e);return r!==void 0?r:(n={value:e,source:n,stack:vt(n)},If.set(e,n),n)}return{value:e,source:n,stack:vt(n)}}var Wr=[],Jr=0,Ks=null,zl=0,pa=[],ba=0,Ui=null,Ga=1,Va="";function ai(e,n){Wr[Jr++]=zl,Wr[Jr++]=Ks,Ks=e,zl=n}function Df(e,n,r){pa[ba++]=Ga,pa[ba++]=Va,pa[ba++]=Ui,Ui=e;var o=Ga;e=Va;var d=32-Ye(o)-1;o&=~(1<<d),r+=1;var g=32-Ye(n)+d;if(30<g){var C=d-d%5;g=(o&(1<<C)-1).toString(32),o>>=C,d-=C,Ga=1<<32-Ye(n)+d|r<<d|o,Va=g+e}else Ga=1<<g|r<<d|o,Va=e}function wc(e){e.return!==null&&(ai(e,1),Df(e,1,0))}function Ec(e){for(;e===Ks;)Ks=Wr[--Jr],Wr[Jr]=null,zl=Wr[--Jr],Wr[Jr]=null;for(;e===Ui;)Ui=pa[--ba],pa[ba]=null,Va=pa[--ba],pa[ba]=null,Ga=pa[--ba],pa[ba]=null}function Mf(e,n){pa[ba++]=Ga,pa[ba++]=Va,pa[ba++]=Ui,Ga=n.id,Va=n.overflow,Ui=e}var vn=null,zt=null,ot=!1,Fi=null,ya=!1,Ac=Error(b(519));function zi(e){var n=Error(b(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(ma(n,e)),Ac}function Bf(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[en]=e,n[St]=o,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(r=0;r<cs.length;r++)at(cs[r],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":at("invalid",n),X(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":at("invalid",n);break;case"textarea":at("invalid",n),Dn(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||W1(n.textContent,r)?(o.popover!=null&&(at("beforetoggle",n),at("toggle",n)),o.onScroll!=null&&at("scroll",n),o.onScrollEnd!=null&&at("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||zi(e,!0)}function Lf(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:vn=vn.return}}function $r(e){if(e!==vn)return!1;if(!ot)return Lf(e),ot=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||zu(e.type,e.memoizedProps)),r=!r),r&&zt&&zi(e),Lf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));zt=ld(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));zt=ld(e)}else n===27?(n=zt,er(e.type)?(e=Xu,Xu=null,zt=e):zt=n):zt=vn?Ea(e.stateNode.nextSibling):null;return!0}function Cr(){zt=vn=null,ot=!1}function Cc(){var e=Fi;return e!==null&&(Yn===null?Yn=e:Yn.push.apply(Yn,e),Fi=null),e}function Hl(e){Fi===null?Fi=[e]:Fi.push(e)}var vc=H(null),vr=null,ii=null;function Hi(e,n,r){we(vc,n._currentValue),n._currentValue=r}function ri(e){e._currentValue=vc.current,re(vc)}function Sc(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Nc(e,n,r,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var C=d.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=d;for(var k=0;k<n.length;k++)if(R.context===n[k]){g.lanes|=r,R=g.alternate,R!==null&&(R.lanes|=r),Sc(g.return,r,e),o||(C=null);break e}g=R.next}}else if(d.tag===18){if(C=d.return,C===null)throw Error(b(341));C.lanes|=r,g=C.alternate,g!==null&&(g.lanes|=r),Sc(C,r,e),C=null}else C=d.child;if(C!==null)C.return=d;else for(C=d;C!==null;){if(C===e){C=null;break}if(d=C.sibling,d!==null){d.return=C.return,C=d;break}C=C.return}d=C}}function el(e,n,r,o){e=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var C=d.alternate;if(C===null)throw Error(b(387));if(C=C.memoizedProps,C!==null){var R=d.type;c(d.pendingProps.value,C.value)||(e!==null?e.push(R):e=[R])}}else if(d===ct.current){if(C=d.alternate,C===null)throw Error(b(387));C.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(xs):e=[xs])}d=d.return}e!==null&&Nc(n,e,r,o),n.flags|=262144}function Ws(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){vr=e,ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return kf(vr,e)}function Js(e,n){return vr===null&&Sr(e),kf(e,n)}function kf(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ii===null){if(e===null)throw Error(b(308));ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ii=ii.next=n;return r}var $h=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ex=f.unstable_scheduleCallback,tx=f.unstable_NormalPriority,on={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new $h,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&ex(tx,function(){e.controller.abort()})}var Gl=null,_c=0,tl=0,nl=null;function nx(e,n){if(Gl===null){var r=Gl=[];_c=0,tl=Iu(),nl={status:"pending",value:void 0,then:function(o){r.push(o)}}}return _c++,n.then(jf,jf),n}function jf(){if(--_c===0&&Gl!==null){nl!==null&&(nl.status="fulfilled");var e=Gl;Gl=null,tl=0,nl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ax(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<r.length;d++)(0,r[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var Uf=$.S;$.S=function(e,n){E1=Yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nx(e,n),Uf!==null&&Uf(e,n)};var Nr=H(null);function Rc(){var e=Nr.current;return e!==null?e:kt.pooledCache}function $s(e,n){n===null?we(Nr,Nr.current):we(Nr,n.pool)}function Ff(){var e=Rc();return e===null?null:{parent:on._currentValue,pool:e}}var al=Error(b(460)),Oc=Error(b(474)),eo=Error(b(542)),to={then:function(){}};function zf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hf(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gf(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(b(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gf(e),e}throw _r=n,al}}function Tr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(_r=r,al):r}}var _r=null;function Pf(){if(_r===null)throw Error(b(459));var e=_r;return _r=null,e}function Gf(e){if(e===al||e===eo)throw Error(b(483))}var il=null,Vl=0;function no(e){var n=Vl;return Vl+=1,il===null&&(il=[]),Hf(il,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ao(e,n){throw n.$$typeof===G?Error(b(525)):(e=Object.prototype.toString.call(n),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vf(e){function n(P,z){if(e){var q=P.deletions;q===null?(P.deletions=[z],P.flags|=16):q.push(z)}}function r(P,z){if(!e)return null;for(;z!==null;)n(P,z),z=z.sibling;return null}function o(P){for(var z=new Map;P!==null;)P.key!==null?z.set(P.key,P):z.set(P.index,P),P=P.sibling;return z}function d(P,z){return P=ni(P,z),P.index=0,P.sibling=null,P}function g(P,z,q){return P.index=q,e?(q=P.alternate,q!==null?(q=q.index,q<z?(P.flags|=67108866,z):q):(P.flags|=67108866,z)):(P.flags|=1048576,z)}function C(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function R(P,z,q,ce){return z===null||z.tag!==6?(z=bc(q,P.mode,ce),z.return=P,z):(z=d(z,q),z.return=P,z)}function k(P,z,q,ce){var ke=q.type;return ke===le?se(P,z,q.props.children,ce,q.key):z!==null&&(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Ce&&Tr(ke)===z.type)?(z=d(z,q.props),Xl(z,q),z.return=P,z):(z=Qs(q.type,q.key,q.props,null,P.mode,ce),Xl(z,q),z.return=P,z)}function Z(P,z,q,ce){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=yc(q,P.mode,ce),z.return=P,z):(z=d(z,q.children||[]),z.return=P,z)}function se(P,z,q,ce,ke){return z===null||z.tag!==7?(z=Ar(q,P.mode,ce,ke),z.return=P,z):(z=d(z,q),z.return=P,z)}function fe(P,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=bc(""+z,P.mode,q),z.return=P,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return q=Qs(z.type,z.key,z.props,null,P.mode,q),Xl(q,z),q.return=P,q;case oe:return z=yc(z,P.mode,q),z.return=P,z;case Ce:return z=Tr(z),fe(P,z,q)}if(te(z)||ve(z))return z=Ar(z,P.mode,q,null),z.return=P,z;if(typeof z.then=="function")return fe(P,no(z),q);if(z.$$typeof===ae)return fe(P,Js(P,z),q);ao(P,z)}return null}function Q(P,z,q,ce){var ke=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ke!==null?null:R(P,z,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===ke?k(P,z,q,ce):null;case oe:return q.key===ke?Z(P,z,q,ce):null;case Ce:return q=Tr(q),Q(P,z,q,ce)}if(te(q)||ve(q))return ke!==null?null:se(P,z,q,ce,null);if(typeof q.then=="function")return Q(P,z,no(q),ce);if(q.$$typeof===ae)return Q(P,z,Js(P,q),ce);ao(P,q)}return null}function ne(P,z,q,ce,ke){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return P=P.get(q)||null,R(z,P,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Y:return P=P.get(ce.key===null?q:ce.key)||null,k(z,P,ce,ke);case oe:return P=P.get(ce.key===null?q:ce.key)||null,Z(z,P,ce,ke);case Ce:return ce=Tr(ce),ne(P,z,q,ce,ke)}if(te(ce)||ve(ce))return P=P.get(q)||null,se(z,P,ce,ke,null);if(typeof ce.then=="function")return ne(P,z,q,no(ce),ke);if(ce.$$typeof===ae)return ne(P,z,q,Js(z,ce),ke);ao(z,ce)}return null}function _e(P,z,q,ce){for(var ke=null,mt=null,De=z,Ze=z=0,st=null;De!==null&&Ze<q.length;Ze++){De.index>Ze?(st=De,De=null):st=De.sibling;var pt=Q(P,De,q[Ze],ce);if(pt===null){De===null&&(De=st);break}e&&De&&pt.alternate===null&&n(P,De),z=g(pt,z,Ze),mt===null?ke=pt:mt.sibling=pt,mt=pt,De=st}if(Ze===q.length)return r(P,De),ot&&ai(P,Ze),ke;if(De===null){for(;Ze<q.length;Ze++)De=fe(P,q[Ze],ce),De!==null&&(z=g(De,z,Ze),mt===null?ke=De:mt.sibling=De,mt=De);return ot&&ai(P,Ze),ke}for(De=o(De);Ze<q.length;Ze++)st=ne(De,P,Ze,q[Ze],ce),st!==null&&(e&&st.alternate!==null&&De.delete(st.key===null?Ze:st.key),z=g(st,z,Ze),mt===null?ke=st:mt.sibling=st,mt=st);return e&&De.forEach(function(rr){return n(P,rr)}),ot&&ai(P,Ze),ke}function Fe(P,z,q,ce){if(q==null)throw Error(b(151));for(var ke=null,mt=null,De=z,Ze=z=0,st=null,pt=q.next();De!==null&&!pt.done;Ze++,pt=q.next()){De.index>Ze?(st=De,De=null):st=De.sibling;var rr=Q(P,De,pt.value,ce);if(rr===null){De===null&&(De=st);break}e&&De&&rr.alternate===null&&n(P,De),z=g(rr,z,Ze),mt===null?ke=rr:mt.sibling=rr,mt=rr,De=st}if(pt.done)return r(P,De),ot&&ai(P,Ze),ke;if(De===null){for(;!pt.done;Ze++,pt=q.next())pt=fe(P,pt.value,ce),pt!==null&&(z=g(pt,z,Ze),mt===null?ke=pt:mt.sibling=pt,mt=pt);return ot&&ai(P,Ze),ke}for(De=o(De);!pt.done;Ze++,pt=q.next())pt=ne(De,P,Ze,pt.value,ce),pt!==null&&(e&&pt.alternate!==null&&De.delete(pt.key===null?Ze:pt.key),z=g(pt,z,Ze),mt===null?ke=pt:mt.sibling=pt,mt=pt);return e&&De.forEach(function(xg){return n(P,xg)}),ot&&ai(P,Ze),ke}function It(P,z,q,ce){if(typeof q=="object"&&q!==null&&q.type===le&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var ke=q.key;z!==null;){if(z.key===ke){if(ke=q.type,ke===le){if(z.tag===7){r(P,z.sibling),ce=d(z,q.props.children),ce.return=P,P=ce;break e}}else if(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Ce&&Tr(ke)===z.type){r(P,z.sibling),ce=d(z,q.props),Xl(ce,q),ce.return=P,P=ce;break e}r(P,z);break}else n(P,z);z=z.sibling}q.type===le?(ce=Ar(q.props.children,P.mode,ce,q.key),ce.return=P,P=ce):(ce=Qs(q.type,q.key,q.props,null,P.mode,ce),Xl(ce,q),ce.return=P,P=ce)}return C(P);case oe:e:{for(ke=q.key;z!==null;){if(z.key===ke)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){r(P,z.sibling),ce=d(z,q.children||[]),ce.return=P,P=ce;break e}else{r(P,z);break}else n(P,z);z=z.sibling}ce=yc(q,P.mode,ce),ce.return=P,P=ce}return C(P);case Ce:return q=Tr(q),It(P,z,q,ce)}if(te(q))return _e(P,z,q,ce);if(ve(q)){if(ke=ve(q),typeof ke!="function")throw Error(b(150));return q=ke.call(q),Fe(P,z,q,ce)}if(typeof q.then=="function")return It(P,z,no(q),ce);if(q.$$typeof===ae)return It(P,z,Js(P,q),ce);ao(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(r(P,z.sibling),ce=d(z,q),ce.return=P,P=ce):(r(P,z),ce=bc(q,P.mode,ce),ce.return=P,P=ce),C(P)):r(P,z)}return function(P,z,q,ce){try{Vl=0;var ke=It(P,z,q,ce);return il=null,ke}catch(De){if(De===al||De===eo)throw De;var mt=na(29,De,null,P.mode);return mt.lanes=ce,mt.return=P,mt}finally{}}}var Rr=Vf(!0),Xf=Vf(!1),Pi=!1;function Ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(wt&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Zs(e),_f(e,null,r),n}return qs(e,o,n,r),Zs(e)}function Yl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ua(e,r)}}function Mc(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var C={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?d=g=C:g=g.next=C,r=r.next}while(r!==null);g===null?d=g=n:g=g.next=n}else d=g=n;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Bc=!1;function ql(){if(Bc){var e=nl;if(e!==null)throw e}}function Zl(e,n,r,o){Bc=!1;var d=e.updateQueue;Pi=!1;var g=d.firstBaseUpdate,C=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var k=R,Z=k.next;k.next=null,C===null?g=Z:C.next=Z,C=k;var se=e.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==C&&(R===null?se.firstBaseUpdate=Z:R.next=Z,se.lastBaseUpdate=k))}if(g!==null){var fe=d.baseState;C=0,se=Z=k=null,R=g;do{var Q=R.lane&-536870913,ne=Q!==R.lane;if(ne?(lt&Q)===Q:(o&Q)===Q){Q!==0&&Q===tl&&(Bc=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var _e=e,Fe=R;Q=n;var It=r;switch(Fe.tag){case 1:if(_e=Fe.payload,typeof _e=="function"){fe=_e.call(It,fe,Q);break e}fe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Fe.payload,Q=typeof _e=="function"?_e.call(It,fe,Q):_e,Q==null)break e;fe=I({},fe,Q);break e;case 2:Pi=!0}}Q=R.callback,Q!==null&&(e.flags|=64,ne&&(e.flags|=8192),ne=d.callbacks,ne===null?d.callbacks=[Q]:ne.push(Q))}else ne={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(Z=se=ne,k=fe):se=se.next=ne,C|=Q;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,d.lastBaseUpdate=ne,d.shared.pending=null}}while(!0);se===null&&(k=fe),d.baseState=k,d.firstBaseUpdate=Z,d.lastBaseUpdate=se,g===null&&(d.shared.lanes=0),Qi|=C,e.lanes=C,e.memoizedState=fe}}function Yf(e,n){if(typeof e!="function")throw Error(b(191,e));e.call(n)}function qf(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Yf(r[e],n)}var rl=H(null),io=H(0);function Zf(e,n){e=xi,we(io,e),we(rl,n),xi=e|n.baseLanes}function Lc(){we(io,xi),we(rl,rl.current)}function kc(){xi=io.current,re(rl),re(io)}var aa=H(null),wa=null;function Xi(e){var n=e.alternate;we(an,an.current&1),we(aa,e),wa===null&&(n===null||rl.current!==null||n.memoizedState!==null)&&(wa=e)}function jc(e){we(an,an.current),we(aa,e),wa===null&&(wa=e)}function Qf(e){e.tag===22?(we(an,an.current),we(aa,e),wa===null&&(wa=e)):Yi()}function Yi(){we(an,an.current),we(aa,aa.current)}function ia(e){re(aa),wa===e&&(wa=null),re(an)}var an=H(0);function ro(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Gu(r)||Vu(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var li=0,Xe=null,Rt=null,cn=null,lo=!1,ll=!1,Or=!1,so=0,Ql=0,sl=null,ix=0;function Wt(){throw Error(b(321))}function Uc(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!c(e[r],n[r]))return!1;return!0}function Fc(e,n,r,o,d,g){return li=g,Xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?D0:eu,Or=!1,g=r(o,d),Or=!1,ll&&(g=Wf(n,r,o,d)),Kf(e),g}function Kf(e){$.H=Jl;var n=Rt!==null&&Rt.next!==null;if(li=0,cn=Rt=Xe=null,lo=!1,Ql=0,sl=null,n)throw Error(b(300));e===null||un||(e=e.dependencies,e!==null&&Ws(e)&&(un=!0))}function Wf(e,n,r,o){Xe=e;var d=0;do{if(ll&&(sl=null),Ql=0,ll=!1,25<=d)throw Error(b(301));if(d+=1,cn=Rt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=M0,g=n(r,o)}while(ll);return g}function rx(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Kl(n):n,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(Xe.flags|=1024),n}function zc(){var e=so!==0;return so=0,e}function Hc(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Pc(e){if(lo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}lo=!1}li=0,cn=Rt=Xe=null,ll=!1,Ql=so=0,sl=null}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Xe.memoizedState=cn=e:cn=cn.next=e,cn}function rn(){if(Rt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var n=cn===null?Xe.memoizedState:cn.next;if(n!==null)cn=n,Rt=e;else{if(e===null)throw Xe.alternate===null?Error(b(467)):Error(b(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},cn===null?Xe.memoizedState=cn=e:cn=cn.next=e}return cn}function oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var n=Ql;return Ql+=1,sl===null&&(sl=[]),e=Hf(sl,e,n),n=Xe,(cn===null?n.memoizedState:cn.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?D0:eu),e}function co(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===ae)return Sn(e)}throw Error(b(438,String(e)))}function Gc(e){var n=null,r=Xe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=oo(),Xe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=Me;return n.index++,r}function si(e,n){return typeof n=="function"?n(e):n}function uo(e){var n=rn();return Vc(n,Rt,e)}function Vc(e,n,r){var o=e.queue;if(o===null)throw Error(b(311));o.lastRenderedReducer=r;var d=e.baseQueue,g=o.pending;if(g!==null){if(d!==null){var C=d.next;d.next=g.next,g.next=C}n.baseQueue=d=g,o.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{n=d.next;var R=C=null,k=null,Z=n,se=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(lt&fe)===fe:(li&fe)===fe){var Q=Z.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===tl&&(se=!0);else if((li&Q)===Q){Z=Z.next,Q===tl&&(se=!0);continue}else fe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},k===null?(R=k=fe,C=g):k=k.next=fe,Xe.lanes|=Q,Qi|=Q;fe=Z.action,Or&&r(g,fe),g=Z.hasEagerState?Z.eagerState:r(g,fe)}else Q={lane:fe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},k===null?(R=k=Q,C=g):k=k.next=Q,Xe.lanes|=fe,Qi|=fe;Z=Z.next}while(Z!==null&&Z!==n);if(k===null?C=g:k.next=R,!c(g,e.memoizedState)&&(un=!0,se&&(r=nl,r!==null)))throw r;e.memoizedState=g,e.baseState=C,e.baseQueue=k,o.lastRenderedState=g}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Xc(e){var n=rn(),r=n.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=e;var o=r.dispatch,d=r.pending,g=n.memoizedState;if(d!==null){r.pending=null;var C=d=d.next;do g=e(g,C.action),C=C.next;while(C!==d);c(g,n.memoizedState)||(un=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),r.lastRenderedState=g}return[g,o]}function Jf(e,n,r){var o=Xe,d=rn(),g=ot;if(g){if(r===void 0)throw Error(b(407));r=r()}else r=n();var C=!c((Rt||d).memoizedState,r);if(C&&(d.memoizedState=r,un=!0),d=d.queue,Zc(t0.bind(null,o,d,e),[e]),d.getSnapshot!==n||C||cn!==null&&cn.memoizedState.tag&1){if(o.flags|=2048,ol(9,{destroy:void 0},e0.bind(null,o,d,r,n),null),kt===null)throw Error(b(349));g||(li&127)!==0||$f(o,n,r)}return r}function $f(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Xe.updateQueue,n===null?(n=oo(),Xe.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function e0(e,n,r,o){n.value=r,n.getSnapshot=o,n0(n)&&a0(e)}function t0(e,n,r){return r(function(){n0(n)&&a0(e)})}function n0(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!c(e,r)}catch{return!0}}function a0(e){var n=Er(e,2);n!==null&&qn(n,e,2)}function Yc(e){var n=Ln();if(typeof e=="function"){var r=e;if(e=r(),Or){_t(!0);try{r()}finally{_t(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},n}function i0(e,n,r,o){return e.baseState=r,Vc(e,Rt,typeof o=="function"?o:si)}function lx(e,n,r,o,d){if(xo(e))throw Error(b(485));if(e=n.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){g.listeners.push(C)}};$.T!==null?r(!0):g.isTransition=!1,o(g),r=n.pending,r===null?(g.next=n.pending=g,r0(n,g)):(g.next=r.next,n.pending=r.next=g)}}function r0(e,n){var r=n.action,o=n.payload,d=e.state;if(n.isTransition){var g=$.T,C={};$.T=C;try{var R=r(d,o),k=$.S;k!==null&&k(C,R),l0(e,n,R)}catch(Z){qc(e,n,Z)}finally{g!==null&&C.types!==null&&(g.types=C.types),$.T=g}}else try{g=r(d,o),l0(e,n,g)}catch(Z){qc(e,n,Z)}}function l0(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){s0(e,n,o)},function(o){return qc(e,n,o)}):s0(e,n,r)}function s0(e,n,r){n.status="fulfilled",n.value=r,o0(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,r0(e,r)))}function qc(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,o0(n),n=n.next;while(n!==o)}e.action=null}function o0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function c0(e,n){return n}function u0(e,n){if(ot){var r=kt.formState;if(r!==null){e:{var o=Xe;if(ot){if(zt){t:{for(var d=zt,g=ya;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ea(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){zt=Ea(d.nextSibling),o=d.data==="F!";break e}}zi(o)}o=!1}o&&(n=r[0])}}return r=Ln(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:n},r.queue=o,r=R0.bind(null,Xe,o),o.dispatch=r,o=Yc(!1),g=$c.bind(null,Xe,!1,o.queue),o=Ln(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,r=lx.bind(null,Xe,d,g,r),d.dispatch=r,o.memoizedState=e,[n,r,!1]}function f0(e){var n=rn();return d0(n,Rt,e)}function d0(e,n,r){if(n=Vc(e,n,c0)[0],e=uo(si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Kl(n)}catch(C){throw C===al?eo:C}else o=n;n=rn();var d=n.queue,g=d.dispatch;return r!==n.memoizedState&&(Xe.flags|=2048,ol(9,{destroy:void 0},sx.bind(null,d,r),null)),[o,g,e]}function sx(e,n){e.action=n}function h0(e){var n=rn(),r=Rt;if(r!==null)return d0(n,r,e);rn(),n=n.memoizedState,r=rn();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ol(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Xe.updateQueue,n===null&&(n=oo(),Xe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function x0(){return rn().memoizedState}function fo(e,n,r,o){var d=Ln();Xe.flags|=e,d.memoizedState=ol(1|n,{destroy:void 0},r,o===void 0?null:o)}function ho(e,n,r,o){var d=rn();o=o===void 0?null:o;var g=d.memoizedState.inst;Rt!==null&&o!==null&&Uc(o,Rt.memoizedState.deps)?d.memoizedState=ol(n,g,r,o):(Xe.flags|=e,d.memoizedState=ol(1|n,g,r,o))}function g0(e,n){fo(8390656,8,e,n)}function Zc(e,n){ho(2048,8,e,n)}function ox(e){Xe.flags|=4;var n=Xe.updateQueue;if(n===null)n=oo(),Xe.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function m0(e){var n=rn().memoizedState;return ox({ref:n,nextImpl:e}),function(){if((wt&2)!==0)throw Error(b(440));return n.impl.apply(void 0,arguments)}}function p0(e,n){return ho(4,2,e,n)}function b0(e,n){return ho(4,4,e,n)}function y0(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function w0(e,n,r){r=r!=null?r.concat([e]):null,ho(4,4,y0.bind(null,n,e),r)}function Qc(){}function E0(e,n){var r=rn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Uc(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function A0(e,n){var r=rn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Uc(n,o[1]))return o[0];if(o=e(),Or){_t(!0);try{e()}finally{_t(!1)}}return r.memoizedState=[o,n],o}function Kc(e,n,r){return r===void 0||(li&1073741824)!==0&&(lt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=C1(),Xe.lanes|=e,Qi|=e,r)}function C0(e,n,r,o){return c(r,n)?r:rl.current!==null?(e=Kc(e,r,o),c(e,n)||(un=!0),e):(li&42)===0||(li&1073741824)!==0&&(lt&261930)===0?(un=!0,e.memoizedState=r):(e=C1(),Xe.lanes|=e,Qi|=e,n)}function v0(e,n,r,o,d){var g=K.p;K.p=g!==0&&8>g?g:8;var C=$.T,R={};$.T=R,$c(e,!1,n,r);try{var k=d(),Z=$.S;if(Z!==null&&Z(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var se=ax(k,o);Wl(e,n,se,sa(e))}else Wl(e,n,o,sa(e))}catch(fe){Wl(e,n,{then:function(){},status:"rejected",reason:fe},sa())}finally{K.p=g,C!==null&&R.types!==null&&(C.types=R.types),$.T=C}}function cx(){}function Wc(e,n,r,o){if(e.tag!==5)throw Error(b(476));var d=S0(e).queue;v0(e,d,n,Be,r===null?cx:function(){return N0(e),r(o)})}function S0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:Be},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function N0(e){var n=S0(e);n.next===null&&(n=e.alternate.memoizedState),Wl(e,n.next.queue,{},sa())}function Jc(){return Sn(xs)}function T0(){return rn().memoizedState}function _0(){return rn().memoizedState}function ux(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=sa();e=Gi(r);var o=Vi(n,e,r);o!==null&&(qn(o,n,r),Yl(o,n,r)),n={cache:Tc()},e.payload=n;return}n=n.return}}function fx(e,n,r){var o=sa();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xo(e)?O0(n,r):(r=mc(e,n,r,o),r!==null&&(qn(r,e,o),I0(r,n,o)))}function R0(e,n,r){var o=sa();Wl(e,n,r,o)}function Wl(e,n,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xo(e))O0(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var C=n.lastRenderedState,R=g(C,r);if(d.hasEagerState=!0,d.eagerState=R,c(R,C))return qs(e,n,d,0),kt===null&&Ys(),!1}catch{}finally{}if(r=mc(e,n,d,o),r!==null)return qn(r,e,o),I0(r,n,o),!0}return!1}function $c(e,n,r,o){if(o={lane:2,revertLane:Iu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xo(e)){if(n)throw Error(b(479))}else n=mc(e,r,o,2),n!==null&&qn(n,e,2)}function xo(e){var n=e.alternate;return e===Xe||n!==null&&n===Xe}function O0(e,n){ll=lo=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function I0(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ua(e,r)}}var Jl={readContext:Sn,use:co,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};Jl.useEffectEvent=Wt;var D0={readContext:Sn,use:co,useCallback:function(e,n){return Ln().memoizedState=[e,n===void 0?null:n],e},useContext:Sn,useEffect:g0,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,fo(4194308,4,y0.bind(null,n,e),r)},useLayoutEffect:function(e,n){return fo(4194308,4,e,n)},useInsertionEffect:function(e,n){fo(4,2,e,n)},useMemo:function(e,n){var r=Ln();n=n===void 0?null:n;var o=e();if(Or){_t(!0);try{e()}finally{_t(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Ln();if(r!==void 0){var d=r(n);if(Or){_t(!0);try{r(n)}finally{_t(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=fx.bind(null,Xe,e),[o.memoizedState,e]},useRef:function(e){var n=Ln();return e={current:e},n.memoizedState=e},useState:function(e){e=Yc(e);var n=e.queue,r=R0.bind(null,Xe,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Qc,useDeferredValue:function(e,n){var r=Ln();return Kc(r,e,n)},useTransition:function(){var e=Yc(!1);return e=v0.bind(null,Xe,e.queue,!0,!1),Ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Xe,d=Ln();if(ot){if(r===void 0)throw Error(b(407));r=r()}else{if(r=n(),kt===null)throw Error(b(349));(lt&127)!==0||$f(o,n,r)}d.memoizedState=r;var g={value:r,getSnapshot:n};return d.queue=g,g0(t0.bind(null,o,g,e),[e]),o.flags|=2048,ol(9,{destroy:void 0},e0.bind(null,o,g,r,n),null),r},useId:function(){var e=Ln(),n=kt.identifierPrefix;if(ot){var r=Va,o=Ga;r=(o&~(1<<32-Ye(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=so++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=ix++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Jc,useFormState:u0,useActionState:u0,useOptimistic:function(e){var n=Ln();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=$c.bind(null,Xe,!0,r),r.dispatch=n,[e,n]},useMemoCache:Gc,useCacheRefresh:function(){return Ln().memoizedState=ux.bind(null,Xe)},useEffectEvent:function(e){var n=Ln(),r={impl:e};return n.memoizedState=r,function(){if((wt&2)!==0)throw Error(b(440));return r.impl.apply(void 0,arguments)}}},eu={readContext:Sn,use:co,useCallback:E0,useContext:Sn,useEffect:Zc,useImperativeHandle:w0,useInsertionEffect:p0,useLayoutEffect:b0,useMemo:A0,useReducer:uo,useRef:x0,useState:function(){return uo(si)},useDebugValue:Qc,useDeferredValue:function(e,n){var r=rn();return C0(r,Rt.memoizedState,e,n)},useTransition:function(){var e=uo(si)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:Jf,useId:T0,useHostTransitionStatus:Jc,useFormState:f0,useActionState:f0,useOptimistic:function(e,n){var r=rn();return i0(r,Rt,e,n)},useMemoCache:Gc,useCacheRefresh:_0};eu.useEffectEvent=m0;var M0={readContext:Sn,use:co,useCallback:E0,useContext:Sn,useEffect:Zc,useImperativeHandle:w0,useInsertionEffect:p0,useLayoutEffect:b0,useMemo:A0,useReducer:Xc,useRef:x0,useState:function(){return Xc(si)},useDebugValue:Qc,useDeferredValue:function(e,n){var r=rn();return Rt===null?Kc(r,e,n):C0(r,Rt.memoizedState,e,n)},useTransition:function(){var e=Xc(si)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:Jf,useId:T0,useHostTransitionStatus:Jc,useFormState:h0,useActionState:h0,useOptimistic:function(e,n){var r=rn();return Rt!==null?i0(r,Rt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:_0};M0.useEffectEvent=m0;function tu(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:I({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nu={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=sa(),d=Gi(o);d.payload=n,r!=null&&(d.callback=r),n=Vi(e,d,o),n!==null&&(qn(n,e,o),Yl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=sa(),d=Gi(o);d.tag=1,d.payload=n,r!=null&&(d.callback=r),n=Vi(e,d,o),n!==null&&(qn(n,e,o),Yl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=sa(),o=Gi(r);o.tag=2,n!=null&&(o.callback=n),n=Vi(e,o,r),n!==null&&(qn(n,e,r),Yl(n,e,r))}};function B0(e,n,r,o,d,g,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,C):n.prototype&&n.prototype.isPureReactComponent?!u(r,o)||!u(d,g):!0}function L0(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&nu.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=I({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function k0(e){Xs(e)}function j0(e){console.error(e)}function U0(e){Xs(e)}function go(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function F0(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function au(e,n,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){go(e,n)},r}function z0(e){return e=Gi(e),e.tag=3,e}function H0(e,n,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;e.payload=function(){return d(g)},e.callback=function(){F0(n,r,o)}}var C=r.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){F0(n,r,o),typeof d!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function dx(e,n,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&el(n,r,d,!0),r=aa.current,r!==null){switch(r.tag){case 31:case 13:return wa===null?To():r.alternate===null&&Jt===0&&(Jt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===to?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),_u(e,o,d)),!1;case 22:return r.flags|=65536,o===to?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),_u(e,o,d)),!1}throw Error(b(435,r.tag))}return _u(e,o,d),To(),!1}if(ot)return n=aa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Ac&&(e=Error(b(422),{cause:o}),Hl(ma(e,r)))):(o!==Ac&&(n=Error(b(423),{cause:o}),Hl(ma(n,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=ma(o,r),d=au(e.stateNode,o,d),Mc(e,d),Jt!==4&&(Jt=2)),!1;var g=Error(b(520),{cause:o});if(g=ma(g,r),ls===null?ls=[g]:ls.push(g),Jt!==4&&(Jt=2),n===null)return!0;o=ma(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=au(r.stateNode,o,e),Mc(r,e),!1;case 1:if(n=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ki===null||!Ki.has(g))))return r.flags|=65536,d&=-d,r.lanes|=d,d=z0(d),H0(d,e,r,o),Mc(r,d),!1}r=r.return}while(r!==null);return!1}var iu=Error(b(461)),un=!1;function Nn(e,n,r,o){n.child=e===null?Xf(n,null,r,o):Rr(n,e.child,r,o)}function P0(e,n,r,o,d){r=r.render;var g=n.ref;if("ref"in o){var C={};for(var R in o)R!=="ref"&&(C[R]=o[R])}else C=o;return Sr(n),o=Fc(e,n,r,C,g,d),R=zc(),e!==null&&!un?(Hc(e,n,d),oi(e,n,d)):(ot&&R&&wc(n),n.flags|=1,Nn(e,n,o,d),n.child)}function G0(e,n,r,o,d){if(e===null){var g=r.type;return typeof g=="function"&&!pc(g)&&g.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=g,V0(e,n,g,o,d)):(e=Qs(r.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!du(e,d)){var C=g.memoizedProps;if(r=r.compare,r=r!==null?r:u,r(C,o)&&e.ref===n.ref)return oi(e,n,d)}return n.flags|=1,e=ni(g,o),e.ref=n.ref,e.return=n,n.child=e}function V0(e,n,r,o,d){if(e!==null){var g=e.memoizedProps;if(u(g,o)&&e.ref===n.ref)if(un=!1,n.pendingProps=o=g,du(e,d))(e.flags&131072)!==0&&(un=!0);else return n.lanes=e.lanes,oi(e,n,d)}return ru(e,n,r,o,d)}function X0(e,n,r,o){var d=o.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(o=n.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~g}else o=0,n.child=null;return Y0(e,n,g,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$s(n,g!==null?g.cachePool:null),g!==null?Zf(n,g):Lc(),Qf(n);else return o=n.lanes=536870912,Y0(e,n,g!==null?g.baseLanes|r:r,r,o)}else g!==null?($s(n,g.cachePool),Zf(n,g),Yi(),n.memoizedState=null):(e!==null&&$s(n,null),Lc(),Yi());return Nn(e,n,d,r),n.child}function $l(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Y0(e,n,r,o,d){var g=Rc();return g=g===null?null:{parent:on._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},e!==null&&$s(n,null),Lc(),Qf(n),e!==null&&el(e,n,o,!0),n.childLanes=d,null}function mo(e,n){return n=bo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function q0(e,n,r){return Rr(n,e.child,null,r),e=mo(n,n.pendingProps),e.flags|=2,ia(n),n.memoizedState=null,e}function hx(e,n,r){var o=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ot){if(o.mode==="hidden")return e=mo(n,o),n.lanes=536870912,$l(null,e);if(jc(n),(e=zt)?(e=rd(e,ya),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Ga,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},r=Of(e),r.return=n,n.child=r,vn=n,zt=null)):e=null,e===null)throw zi(n);return n.lanes=536870912,null}return mo(n,o)}var g=e.memoizedState;if(g!==null){var C=g.dehydrated;if(jc(n),d)if(n.flags&256)n.flags&=-257,n=q0(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(b(558));else if(un||el(e,n,r,!1),d=(r&e.childLanes)!==0,un||d){if(o=kt,o!==null&&(C=Ur(o,r),C!==0&&C!==g.retryLane))throw g.retryLane=C,Er(e,C),qn(o,e,C),iu;To(),n=q0(e,n,r)}else e=g.treeContext,zt=Ea(C.nextSibling),vn=n,ot=!0,Fi=null,ya=!1,e!==null&&Mf(n,e),n=mo(n,o),n.flags|=4096;return n}return e=ni(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function po(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(b(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function ru(e,n,r,o,d){return Sr(n),r=Fc(e,n,r,o,void 0,d),o=zc(),e!==null&&!un?(Hc(e,n,d),oi(e,n,d)):(ot&&o&&wc(n),n.flags|=1,Nn(e,n,r,d),n.child)}function Z0(e,n,r,o,d,g){return Sr(n),n.updateQueue=null,r=Wf(n,o,r,d),Kf(e),o=zc(),e!==null&&!un?(Hc(e,n,g),oi(e,n,g)):(ot&&o&&wc(n),n.flags|=1,Nn(e,n,r,g),n.child)}function Q0(e,n,r,o,d){if(Sr(n),n.stateNode===null){var g=Kr,C=r.contextType;typeof C=="object"&&C!==null&&(g=Sn(C)),g=new r(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=nu,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},Ic(n),C=r.contextType,g.context=typeof C=="object"&&C!==null?Sn(C):Kr,g.state=n.memoizedState,C=r.getDerivedStateFromProps,typeof C=="function"&&(tu(n,r,C,o),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(C=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),C!==g.state&&nu.enqueueReplaceState(g,g.state,null),Zl(n,o,g,d),ql(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var R=n.memoizedProps,k=Ir(r,R);g.props=k;var Z=g.context,se=r.contextType;C=Kr,typeof se=="object"&&se!==null&&(C=Sn(se));var fe=r.getDerivedStateFromProps;se=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||Z!==C)&&L0(n,g,o,C),Pi=!1;var Q=n.memoizedState;g.state=Q,Zl(n,o,g,d),ql(),Z=n.memoizedState,R||Q!==Z||Pi?(typeof fe=="function"&&(tu(n,r,fe,o),Z=n.memoizedState),(k=Pi||B0(n,r,k,o,Q,Z,C))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Z),g.props=o,g.state=Z,g.context=C,o=k):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,Dc(e,n),C=n.memoizedProps,se=Ir(r,C),g.props=se,fe=n.pendingProps,Q=g.context,Z=r.contextType,k=Kr,typeof Z=="object"&&Z!==null&&(k=Sn(Z)),R=r.getDerivedStateFromProps,(Z=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==fe||Q!==k)&&L0(n,g,o,k),Pi=!1,Q=n.memoizedState,g.state=Q,Zl(n,o,g,d),ql();var ne=n.memoizedState;C!==fe||Q!==ne||Pi||e!==null&&e.dependencies!==null&&Ws(e.dependencies)?(typeof R=="function"&&(tu(n,r,R,o),ne=n.memoizedState),(se=Pi||B0(n,r,se,o,Q,ne,k)||e!==null&&e.dependencies!==null&&Ws(e.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,ne,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,ne,k)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ne),g.props=o,g.state=ne,g.context=k,o=se):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,po(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Rr(n,e.child,null,d),n.child=Rr(n,null,r,d)):Nn(e,n,r,d),n.memoizedState=g.state,e=n.child):e=oi(e,n,d),e}function K0(e,n,r,o){return Cr(),n.flags|=256,Nn(e,n,r,o),n.child}var lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(e){return{baseLanes:e,cachePool:Ff()}}function ou(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=la),e}function W0(e,n,r){var o=n.pendingProps,d=!1,g=(n.flags&128)!==0,C;if((C=g)||(C=e!==null&&e.memoizedState===null?!1:(an.current&2)!==0),C&&(d=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(ot){if(d?Xi(n):Yi(),(e=zt)?(e=rd(e,ya),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Ga,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},r=Of(e),r.return=n,n.child=r,vn=n,zt=null)):e=null,e===null)throw zi(n);return Vu(e)?n.lanes=32:n.lanes=536870912,null}var R=o.children;return o=o.fallback,d?(Yi(),d=n.mode,R=bo({mode:"hidden",children:R},d),o=Ar(o,d,r,null),R.return=n,o.return=n,R.sibling=o,n.child=R,o=n.child,o.memoizedState=su(r),o.childLanes=ou(e,C,r),n.memoizedState=lu,$l(null,o)):(Xi(n),cu(n,R))}var k=e.memoizedState;if(k!==null&&(R=k.dehydrated,R!==null)){if(g)n.flags&256?(Xi(n),n.flags&=-257,n=uu(e,n,r)):n.memoizedState!==null?(Yi(),n.child=e.child,n.flags|=128,n=null):(Yi(),R=o.fallback,d=n.mode,o=bo({mode:"visible",children:o.children},d),R=Ar(R,d,r,null),R.flags|=2,o.return=n,R.return=n,o.sibling=R,n.child=o,Rr(n,e.child,null,r),o=n.child,o.memoizedState=su(r),o.childLanes=ou(e,C,r),n.memoizedState=lu,n=$l(null,o));else if(Xi(n),Vu(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var Z=C.dgst;C=Z,o=Error(b(419)),o.stack="",o.digest=C,Hl({value:o,source:null,stack:null}),n=uu(e,n,r)}else if(un||el(e,n,r,!1),C=(r&e.childLanes)!==0,un||C){if(C=kt,C!==null&&(o=Ur(C,r),o!==0&&o!==k.retryLane))throw k.retryLane=o,Er(e,o),qn(C,e,o),iu;Gu(R)||To(),n=uu(e,n,r)}else Gu(R)?(n.flags|=192,n.child=e.child,n=null):(e=k.treeContext,zt=Ea(R.nextSibling),vn=n,ot=!0,Fi=null,ya=!1,e!==null&&Mf(n,e),n=cu(n,o.children),n.flags|=4096);return n}return d?(Yi(),R=o.fallback,d=n.mode,k=e.child,Z=k.sibling,o=ni(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,Z!==null?R=ni(Z,R):(R=Ar(R,d,r,null),R.flags|=2),R.return=n,o.return=n,o.sibling=R,n.child=o,$l(null,o),o=n.child,R=e.child.memoizedState,R===null?R=su(r):(d=R.cachePool,d!==null?(k=on._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=Ff(),R={baseLanes:R.baseLanes|r,cachePool:d}),o.memoizedState=R,o.childLanes=ou(e,C,r),n.memoizedState=lu,$l(e.child,o)):(Xi(n),r=e.child,e=r.sibling,r=ni(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=r,n.memoizedState=null,r)}function cu(e,n){return n=bo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function bo(e,n){return e=na(22,e,null,n),e.lanes=0,e}function uu(e,n,r){return Rr(n,e.child,null,r),e=cu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function J0(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Sc(e.return,n,r)}function fu(e,n,r,o,d,g){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:g}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=o,C.tail=r,C.tailMode=d,C.treeForkCount=g)}function $0(e,n,r){var o=n.pendingProps,d=o.revealOrder,g=o.tail;o=o.children;var C=an.current,R=(C&2)!==0;if(R?(C=C&1|2,n.flags|=128):C&=1,we(an,C),Nn(e,n,o,r),o=ot?zl:0,!R&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J0(e,r,n);else if(e.tag===19)J0(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&ro(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),fu(n,!1,d,r,g,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ro(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}fu(n,!0,r,null,g,o);break;case"together":fu(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function oi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Qi|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(el(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(b(153));if(n.child!==null){for(e=n.child,r=ni(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=ni(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function du(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ws(e)))}function xx(e,n,r){switch(n.tag){case 3:ut(n,n.stateNode.containerInfo),Hi(n,on,e.memoizedState.cache),Cr();break;case 27:case 5:va(n);break;case 4:ut(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jc(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?W0(e,n,r):(Xi(n),e=oi(e,n,r),e!==null?e.sibling:null);Xi(n);break;case 19:var d=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(el(e,n,r,!1),o=(r&n.childLanes)!==0),d){if(o)return $0(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),we(an,an.current),o)break;return null;case 22:return n.lanes=0,X0(e,n,r,n.pendingProps);case 24:Hi(n,on,e.memoizedState.cache)}return oi(e,n,r)}function e1(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)un=!0;else{if(!du(e,r)&&(n.flags&128)===0)return un=!1,xx(e,n,r);un=(e.flags&131072)!==0}else un=!1,ot&&(n.flags&1048576)!==0&&Df(n,zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Tr(n.elementType),n.type=e,typeof e=="function")pc(e)?(o=Ir(e,o),n.tag=1,n=Q0(null,n,e,o,r)):(n.tag=0,n=ru(null,n,e,o,r));else{if(e!=null){var d=e.$$typeof;if(d===Ee){n.tag=11,n=P0(null,n,e,o,r);break e}else if(d===ee){n.tag=14,n=G0(null,n,e,o,r);break e}}throw n=xt(e)||e,Error(b(306,n,""))}}return n;case 0:return ru(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,d=Ir(o,n.pendingProps),Q0(e,n,o,d,r);case 3:e:{if(ut(n,n.stateNode.containerInfo),e===null)throw Error(b(387));o=n.pendingProps;var g=n.memoizedState;d=g.element,Dc(e,n),Zl(n,o,null,r);var C=n.memoizedState;if(o=C.cache,Hi(n,on,o),o!==g.cache&&Nc(n,[on],r,!0),ql(),o=C.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=K0(e,n,o,r);break e}else if(o!==d){d=ma(Error(b(424)),n),Hl(d),n=K0(e,n,o,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(zt=Ea(e.firstChild),vn=n,ot=!0,Fi=null,ya=!0,r=Xf(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Cr(),o===d){n=oi(e,n,r);break e}Nn(e,n,o,r)}n=n.child}return n;case 26:return po(e,n),e===null?(r=fd(n.type,null,n.pendingProps,null))?n.memoizedState=r:ot||(r=n.type,e=n.pendingProps,o=Bo(ye.current).createElement(r),o[en]=n,o[St]=e,Tn(o,r,e),Qt(o),n.stateNode=o):n.memoizedState=fd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return va(n),e===null&&ot&&(o=n.stateNode=od(n.type,n.pendingProps,ye.current),vn=n,ya=!0,d=zt,er(n.type)?(Xu=d,zt=Ea(o.firstChild)):zt=d),Nn(e,n,n.pendingProps.children,r),po(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ot&&((d=o=zt)&&(o=Vx(o,n.type,n.pendingProps,ya),o!==null?(n.stateNode=o,vn=n,zt=Ea(o.firstChild),ya=!1,d=!0):d=!1),d||zi(n)),va(n),d=n.type,g=n.pendingProps,C=e!==null?e.memoizedProps:null,o=g.children,zu(d,g)?o=null:C!==null&&zu(d,C)&&(n.flags|=32),n.memoizedState!==null&&(d=Fc(e,n,rx,null,null,r),xs._currentValue=d),po(e,n),Nn(e,n,o,r),n.child;case 6:return e===null&&ot&&((e=r=zt)&&(r=Xx(r,n.pendingProps,ya),r!==null?(n.stateNode=r,vn=n,zt=null,e=!0):e=!1),e||zi(n)),null;case 13:return W0(e,n,r);case 4:return ut(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rr(n,null,o,r):Nn(e,n,o,r),n.child;case 11:return P0(e,n,n.type,n.pendingProps,r);case 7:return Nn(e,n,n.pendingProps,r),n.child;case 8:return Nn(e,n,n.pendingProps.children,r),n.child;case 12:return Nn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Hi(n,n.type,o.value),Nn(e,n,o.children,r),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,Sr(n),d=Sn(d),o=o(d),n.flags|=1,Nn(e,n,o,r),n.child;case 14:return G0(e,n,n.type,n.pendingProps,r);case 15:return V0(e,n,n.type,n.pendingProps,r);case 19:return $0(e,n,r);case 31:return hx(e,n,r);case 22:return X0(e,n,r,n.pendingProps);case 24:return Sr(n),o=Sn(on),e===null?(d=Rc(),d===null&&(d=kt,g=Tc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=r),d=g),n.memoizedState={parent:o,cache:d},Ic(n),Hi(n,on,d)):((e.lanes&r)!==0&&(Dc(e,n),Zl(n,null,null,r),ql()),d=e.memoizedState,g=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Hi(n,on,o)):(o=g.cache,Hi(n,on,o),o!==d.cache&&Nc(n,[on],r,!0))),Nn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(b(156,n.tag))}function ci(e){e.flags|=4}function hu(e,n,r,o,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(T1())e.flags|=8192;else throw _r=to,Oc}else e.flags&=-16777217}function t1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!md(n))if(T1())e.flags|=8192;else throw _r=to,Oc}function yo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?xn():536870912,e.lanes|=n,dl|=n)}function es(e,n){if(!ot)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ht(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function gx(e,n,r){var o=n.pendingProps;switch(Ec(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(n),null;case 1:return Ht(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ri(on),Dt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($r(n)?ci(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cc())),Ht(n),null;case 26:var d=n.type,g=n.memoizedState;return e===null?(ci(n),g!==null?(Ht(n),t1(n,g)):(Ht(n),hu(n,d,null,o,r))):g?g!==e.memoizedState?(ci(n),Ht(n),t1(n,g)):(Ht(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ci(n),Ht(n),hu(n,d,e,o,r)),null;case 27:if(dn(n),r=ye.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ci(n);else{if(!o){if(n.stateNode===null)throw Error(b(166));return Ht(n),null}e=Ae.current,$r(n)?Bf(n):(e=od(d,o,r),n.stateNode=e,ci(n))}return Ht(n),null;case 5:if(dn(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ci(n);else{if(!o){if(n.stateNode===null)throw Error(b(166));return Ht(n),null}if(g=Ae.current,$r(n))Bf(n);else{var C=Bo(ye.current);switch(g){case 1:g=C.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=C.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=C.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=C.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=C.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof o.is=="string"?C.createElement("select",{is:o.is}):C.createElement("select"),o.multiple?g.multiple=!0:o.size&&(g.size=o.size);break;default:g=typeof o.is=="string"?C.createElement(d,{is:o.is}):C.createElement(d)}}g[en]=n,g[St]=o;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)g.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=g;e:switch(Tn(g,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ci(n)}}return Ht(n),hu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ci(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(b(166));if(e=ye.current,$r(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,d=vn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[en]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||W1(e.nodeValue,r)),e||zi(n,!0)}else e=Bo(e).createTextNode(o),e[en]=n,n.stateNode=e}return Ht(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=$r(n),r!==null){if(e===null){if(!o)throw Error(b(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(557));e[en]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ht(n),e=!1}else r=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(ia(n),n):(ia(n),null);if((n.flags&128)!==0)throw Error(b(558))}return Ht(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=$r(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(b(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(b(317));d[en]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ht(n),d=!1}else d=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(ia(n),n):(ia(n),null)}return ia(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),yo(n,n.updateQueue),Ht(n),null);case 4:return Dt(),e===null&&Lu(n.stateNode.containerInfo),Ht(n),null;case 10:return ri(n.type),Ht(n),null;case 19:if(re(an),o=n.memoizedState,o===null)return Ht(n),null;if(d=(n.flags&128)!==0,g=o.rendering,g===null)if(d)es(o,!1);else{if(Jt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=ro(e),g!==null){for(n.flags|=128,es(o,!1),e=g.updateQueue,n.updateQueue=e,yo(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Rf(r,e),r=r.sibling;return we(an,an.current&1|2),ot&&ai(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Yt()>vo&&(n.flags|=128,d=!0,es(o,!1),n.lanes=4194304)}else{if(!d)if(e=ro(g),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,yo(n,e),es(o,!0),o.tail===null&&o.tailMode==="hidden"&&!g.alternate&&!ot)return Ht(n),null}else 2*Yt()-o.renderingStartTime>vo&&r!==536870912&&(n.flags|=128,d=!0,es(o,!1),n.lanes=4194304);o.isBackwards?(g.sibling=n.child,n.child=g):(e=o.last,e!==null?e.sibling=g:n.child=g,o.last=g)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Yt(),e.sibling=null,r=an.current,we(an,d?r&1|2:r&1),ot&&ai(n,o.treeForkCount),e):(Ht(n),null);case 22:case 23:return ia(n),kc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Ht(n),n.subtreeFlags&6&&(n.flags|=8192)):Ht(n),r=n.updateQueue,r!==null&&yo(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&re(Nr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ri(on),Ht(n),null;case 25:return null;case 30:return null}throw Error(b(156,n.tag))}function mx(e,n){switch(Ec(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ri(on),Dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 31:if(n.memoizedState!==null){if(ia(n),n.alternate===null)throw Error(b(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ia(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(b(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return re(an),null;case 4:return Dt(),null;case 10:return ri(n.type),null;case 22:case 23:return ia(n),kc(),e!==null&&re(Nr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ri(on),null;case 25:return null;default:return null}}function n1(e,n){switch(Ec(n),n.tag){case 3:ri(on),Dt();break;case 26:case 27:case 5:dn(n);break;case 4:Dt();break;case 31:n.memoizedState!==null&&ia(n);break;case 13:ia(n);break;case 19:re(an);break;case 10:ri(n.type);break;case 22:case 23:ia(n),kc(),e!==null&&re(Nr);break;case 24:ri(on)}}function ts(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){o=void 0;var g=r.create,C=r.inst;o=g(),C.destroy=o}r=r.next}while(r!==d)}}catch(R){Tt(n,n.return,R)}}function qi(e,n,r){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&e)===e){var C=o.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,d=n;var k=r,Z=R;try{Z()}catch(se){Tt(d,k,se)}}}o=o.next}while(o!==g)}}catch(se){Tt(n,n.return,se)}}function a1(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{qf(n,r)}catch(o){Tt(e,e.return,o)}}}function i1(e,n,r){r.props=Ir(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Tt(e,n,o)}}function ns(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(d){Tt(e,n,d)}}function Xa(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){Tt(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Tt(e,n,d)}else r.current=null}function r1(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){Tt(e,e.return,d)}}function xu(e,n,r){try{var o=e.stateNode;Ux(o,e.type,r,n),o[St]=n}catch(d){Tt(e,e.return,d)}}function l1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&er(e.type)||e.tag===4}function gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&er(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&er(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(mu(e,n,r),e=e.sibling;e!==null;)mu(e,n,r),e=e.sibling}function wo(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&er(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(wo(e,n,r),e=e.sibling;e!==null;)wo(e,n,r),e=e.sibling}function s1(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Tn(n,o,r),n[en]=e,n[St]=r}catch(g){Tt(e,e.return,g)}}var ui=!1,fn=!1,pu=!1,o1=typeof WeakSet=="function"?WeakSet:Set,wn=null;function px(e,n){if(e=e.containerInfo,Uu=Ho,e=N(e),_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var C=0,R=-1,k=-1,Z=0,se=0,fe=e,Q=null;t:for(;;){for(var ne;fe!==r||d!==0&&fe.nodeType!==3||(R=C+d),fe!==g||o!==0&&fe.nodeType!==3||(k=C+o),fe.nodeType===3&&(C+=fe.nodeValue.length),(ne=fe.firstChild)!==null;)Q=fe,fe=ne;for(;;){if(fe===e)break t;if(Q===r&&++Z===d&&(R=C),Q===g&&++se===o&&(k=C),(ne=fe.nextSibling)!==null)break;fe=Q,Q=fe.parentNode}fe=ne}r=R===-1||k===-1?null:{start:R,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fu={focusedElem:e,selectionRange:r},Ho=!1,wn=n;wn!==null;)if(n=wn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,wn=e;else for(;wn!==null;){switch(n=wn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=n,d=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var _e=Ir(r.type,d);e=o.getSnapshotBeforeUpdate(_e,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){Tt(r,r.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Pu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(b(163))}if(e=n.sibling,e!==null){e.return=n.return,wn=e;break}wn=n.return}}function c1(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:di(e,r),o&4&&ts(5,r);break;case 1:if(di(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(C){Tt(r,r.return,C)}else{var d=Ir(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){Tt(r,r.return,C)}}o&64&&a1(r),o&512&&ns(r,r.return);break;case 3:if(di(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{qf(e,n)}catch(C){Tt(r,r.return,C)}}break;case 27:n===null&&o&4&&s1(r);case 26:case 5:di(e,r),n===null&&o&4&&r1(r),o&512&&ns(r,r.return);break;case 12:di(e,r);break;case 31:di(e,r),o&4&&d1(e,r);break;case 13:di(e,r),o&4&&h1(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Nx.bind(null,r),Yx(e,r))));break;case 22:if(o=r.memoizedState!==null||ui,!o){n=n!==null&&n.memoizedState!==null||fn,d=ui;var g=fn;ui=o,(fn=n)&&!g?hi(e,r,(r.subtreeFlags&8772)!==0):di(e,r),ui=d,fn=g}break;case 30:break;default:di(e,r)}}function u1(e){var n=e.alternate;n!==null&&(e.alternate=null,u1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Fn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vt=null,Gn=!1;function fi(e,n,r){for(r=r.child;r!==null;)f1(e,n,r),r=r.sibling}function f1(e,n,r){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(jt,r)}catch{}switch(r.tag){case 26:fn||Xa(r,n),fi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fn||Xa(r,n);var o=Vt,d=Gn;er(r.type)&&(Vt=r.stateNode,Gn=!1),fi(e,n,r),fs(r.stateNode),Vt=o,Gn=d;break;case 5:fn||Xa(r,n);case 6:if(o=Vt,d=Gn,Vt=null,fi(e,n,r),Vt=o,Gn=d,Vt!==null)if(Gn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(r.stateNode)}catch(g){Tt(r,n,g)}else try{Vt.removeChild(r.stateNode)}catch(g){Tt(r,n,g)}break;case 18:Vt!==null&&(Gn?(e=Vt,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),wl(e)):ad(Vt,r.stateNode));break;case 4:o=Vt,d=Gn,Vt=r.stateNode.containerInfo,Gn=!0,fi(e,n,r),Vt=o,Gn=d;break;case 0:case 11:case 14:case 15:qi(2,r,n),fn||qi(4,r,n),fi(e,n,r);break;case 1:fn||(Xa(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&i1(r,n,o)),fi(e,n,r);break;case 21:fi(e,n,r);break;case 22:fn=(o=fn)||r.memoizedState!==null,fi(e,n,r),fn=o;break;default:fi(e,n,r)}}function d1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wl(e)}catch(r){Tt(n,n.return,r)}}}function h1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(r){Tt(n,n.return,r)}}function bx(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new o1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new o1),n;default:throw Error(b(435,e.tag))}}function Eo(e,n){var r=bx(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var d=Tx.bind(null,e,o);o.then(d,d)}})}function Vn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],g=e,C=n,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(er(R.type)){Vt=R.stateNode,Gn=!1;break e}break;case 5:Vt=R.stateNode,Gn=!1;break e;case 3:case 4:Vt=R.stateNode.containerInfo,Gn=!0;break e}R=R.return}if(Vt===null)throw Error(b(160));f1(g,C,d),Vt=null,Gn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)x1(n,e),n=n.sibling}var Da=null;function x1(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vn(n,e),Xn(e),o&4&&(qi(3,e,e.return),ts(3,e),qi(5,e,e.return));break;case 1:Vn(n,e),Xn(e),o&512&&(fn||r===null||Xa(r,r.return)),o&64&&ui&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=Da;if(Vn(n,e),Xn(e),o&512&&(fn||r===null||Xa(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[dr]||g[en]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),Tn(g,o,r),g[en]=e,Qt(g),o=g;break e;case"link":var C=xd("link","href",d).get(o+(r.href||""));if(C){for(var R=0;R<C.length;R++)if(g=C[R],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){C.splice(R,1);break t}}g=d.createElement(o),Tn(g,o,r),d.head.appendChild(g);break;case"meta":if(C=xd("meta","content",d).get(o+(r.content||""))){for(R=0;R<C.length;R++)if(g=C[R],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){C.splice(R,1);break t}}g=d.createElement(o),Tn(g,o,r),d.head.appendChild(g);break;default:throw Error(b(468,o))}g[en]=e,Qt(g),o=g}e.stateNode=o}else gd(d,e.type,e.stateNode);else e.stateNode=hd(d,o,e.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?gd(d,e.type,e.stateNode):hd(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&xu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Vn(n,e),Xn(e),o&512&&(fn||r===null||Xa(r,r.return)),r!==null&&o&4&&xu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Vn(n,e),Xn(e),o&512&&(fn||r===null||Xa(r,r.return)),e.flags&32){d=e.stateNode;try{Ri(d,"")}catch(_e){Tt(e,e.return,_e)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,xu(e,d,r!==null?r.memoizedProps:d)),o&1024&&(pu=!0);break;case 6:if(Vn(n,e),Xn(e),o&4){if(e.stateNode===null)throw Error(b(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(_e){Tt(e,e.return,_e)}}break;case 3:if(jo=null,d=Da,Da=Lo(n.containerInfo),Vn(n,e),Da=d,Xn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(n.containerInfo)}catch(_e){Tt(e,e.return,_e)}pu&&(pu=!1,g1(e));break;case 4:o=Da,Da=Lo(e.stateNode.containerInfo),Vn(n,e),Xn(e),Da=o;break;case 12:Vn(n,e),Xn(e);break;case 31:Vn(n,e),Xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Eo(e,o)));break;case 13:Vn(n,e),Xn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Co=Yt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Eo(e,o)));break;case 22:d=e.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,Z=ui,se=fn;if(ui=Z||d,fn=se||k,Vn(n,e),fn=se,ui=Z,Xn(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(r===null||k||ui||fn||Dr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){k=r=n;try{if(g=k.stateNode,d)C=g.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=k.stateNode;var fe=k.memoizedProps.style,Q=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(_e){Tt(k,k.return,_e)}}}else if(n.tag===6){if(r===null){k=n;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(_e){Tt(k,k.return,_e)}}}else if(n.tag===18){if(r===null){k=n;try{var ne=k.stateNode;d?id(ne,!0):id(k.stateNode,!1)}catch(_e){Tt(k,k.return,_e)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Eo(e,r))));break;case 19:Vn(n,e),Xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Eo(e,o)));break;case 30:break;case 21:break;default:Vn(n,e),Xn(e)}}function Xn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(l1(o)){r=o;break}o=o.return}if(r==null)throw Error(b(160));switch(r.tag){case 27:var d=r.stateNode,g=gu(e);wo(e,g,d);break;case 5:var C=r.stateNode;r.flags&32&&(Ri(C,""),r.flags&=-33);var R=gu(e);wo(e,R,C);break;case 3:case 4:var k=r.stateNode.containerInfo,Z=gu(e);mu(e,Z,k);break;default:throw Error(b(161))}}catch(se){Tt(e,e.return,se)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function g1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;g1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function di(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)c1(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qi(4,n,n.return),Dr(n);break;case 1:Xa(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&i1(n,n.return,r),Dr(n);break;case 27:fs(n.stateNode);case 26:case 5:Xa(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,g=n,C=g.flags;switch(g.tag){case 0:case 11:case 15:hi(d,g,r),ts(4,g);break;case 1:if(hi(d,g,r),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Z){Tt(o,o.return,Z)}if(o=g,d=o.updateQueue,d!==null){var R=o.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)Yf(k[d],R)}catch(Z){Tt(o,o.return,Z)}}r&&C&64&&a1(g),ns(g,g.return);break;case 27:s1(g);case 26:case 5:hi(d,g,r),r&&o===null&&C&4&&r1(g),ns(g,g.return);break;case 12:hi(d,g,r);break;case 31:hi(d,g,r),r&&C&4&&d1(d,g);break;case 13:hi(d,g,r),r&&C&4&&h1(d,g);break;case 22:g.memoizedState===null&&hi(d,g,r),ns(g,g.return);break;case 30:break;default:hi(d,g,r)}n=n.sibling}}function bu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Pl(r))}function yu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Ma(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)m1(e,n,r,o),n=n.sibling}function m1(e,n,r,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Ma(e,n,r,o),d&2048&&ts(9,n);break;case 1:Ma(e,n,r,o);break;case 3:Ma(e,n,r,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(d&2048){Ma(e,n,r,o),e=n.stateNode;try{var g=n.memoizedProps,C=g.id,R=g.onPostCommit;typeof R=="function"&&R(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Tt(n,n.return,k)}}else Ma(e,n,r,o);break;case 31:Ma(e,n,r,o);break;case 13:Ma(e,n,r,o);break;case 23:break;case 22:g=n.stateNode,C=n.alternate,n.memoizedState!==null?g._visibility&2?Ma(e,n,r,o):as(e,n):g._visibility&2?Ma(e,n,r,o):(g._visibility|=2,cl(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),d&2048&&bu(C,n);break;case 24:Ma(e,n,r,o),d&2048&&yu(n.alternate,n);break;default:Ma(e,n,r,o)}}function cl(e,n,r,o,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,C=n,R=r,k=o,Z=C.flags;switch(C.tag){case 0:case 11:case 15:cl(g,C,R,k,d),ts(8,C);break;case 23:break;case 22:var se=C.stateNode;C.memoizedState!==null?se._visibility&2?cl(g,C,R,k,d):as(g,C):(se._visibility|=2,cl(g,C,R,k,d)),d&&Z&2048&&bu(C.alternate,C);break;case 24:cl(g,C,R,k,d),d&&Z&2048&&yu(C.alternate,C);break;default:cl(g,C,R,k,d)}n=n.sibling}}function as(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,d=o.flags;switch(o.tag){case 22:as(r,o),d&2048&&bu(o.alternate,o);break;case 24:as(r,o),d&2048&&yu(o.alternate,o);break;default:as(r,o)}n=n.sibling}}var is=8192;function ul(e,n,r){if(e.subtreeFlags&is)for(e=e.child;e!==null;)p1(e,n,r),e=e.sibling}function p1(e,n,r){switch(e.tag){case 26:ul(e,n,r),e.flags&is&&e.memoizedState!==null&&ig(r,Da,e.memoizedState,e.memoizedProps);break;case 5:ul(e,n,r);break;case 3:case 4:var o=Da;Da=Lo(e.stateNode.containerInfo),ul(e,n,r),Da=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=is,is=16777216,ul(e,n,r),is=o):ul(e,n,r));break;default:ul(e,n,r)}}function b1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];wn=o,w1(o,e)}b1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)y1(e),e=e.sibling}function y1(e){switch(e.tag){case 0:case 11:case 15:rs(e),e.flags&2048&&qi(9,e,e.return);break;case 3:rs(e);break;case 12:rs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ao(e)):rs(e);break;default:rs(e)}}function Ao(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];wn=o,w1(o,e)}b1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qi(8,n,n.return),Ao(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ao(n));break;default:Ao(n)}e=e.sibling}}function w1(e,n){for(;wn!==null;){var r=wn;switch(r.tag){case 0:case 11:case 15:qi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Pl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,wn=o;else e:for(r=e;wn!==null;){o=wn;var d=o.sibling,g=o.return;if(u1(o),o===r){wn=null;break e}if(d!==null){d.return=g,wn=d;break e}wn=g}}}var yx={getCacheForType:function(e){var n=Sn(on),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Sn(on).controller.signal}},wx=typeof WeakMap=="function"?WeakMap:Map,wt=0,kt=null,nt=null,lt=0,Nt=0,ra=null,Zi=!1,fl=!1,wu=!1,xi=0,Jt=0,Qi=0,Mr=0,Eu=0,la=0,dl=0,ls=null,Yn=null,Au=!1,Co=0,E1=0,vo=1/0,So=null,Ki=null,bn=0,Wi=null,hl=null,gi=0,Cu=0,vu=null,A1=null,ss=0,Su=null;function sa(){return(wt&2)!==0&&lt!==0?lt&-lt:$.T!==null?Iu():Rn()}function C1(){if(la===0)if((lt&536870912)===0||ot){var e=it;it<<=1,(it&3932160)===0&&(it=262144),la=e}else la=536870912;return e=aa.current,e!==null&&(e.flags|=32),la}function qn(e,n,r){(e===kt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(xl(e,0),Ji(e,lt,la,!1)),ja(e,r),((wt&2)===0||e!==kt)&&(e===kt&&((wt&2)===0&&(Mr|=r),Jt===4&&Ji(e,lt,la,!1)),Ya(e))}function v1(e,n,r){if((wt&6)!==0)throw Error(b(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||An(e,n),d=o?Cx(e,n):Tu(e,n,!0),g=o;do{if(d===0){fl&&!o&&Ji(e,n,0,!1);break}else{if(r=e.current.alternate,g&&!Ex(r)){d=Tu(e,n,!1),g=!1;continue}if(d===2){if(g=n,e.errorRecoveryDisabledLanes&g)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var R=e;d=ls;var k=R.current.memoizedState.isDehydrated;if(k&&(xl(R,C).flags|=256),C=Tu(R,C,!1),C!==2){if(wu&&!k){R.errorRecoveryDisabledLanes|=g,Mr|=g,d=4;break e}g=Yn,Yn=d,g!==null&&(Yn===null?Yn=g:Yn.push.apply(Yn,g))}d=C}if(g=!1,d!==2)continue}}if(d===1){xl(e,0),Ji(e,n,0,!0);break}e:{switch(o=e,g=d,g){case 0:case 1:throw Error(b(345));case 4:if((n&4194048)!==n)break;case 6:Ji(o,n,la,!Zi);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(b(329))}if((n&62914560)===n&&(d=Co+300-Yt(),10<d)){if(Ji(o,n,la,!Zi),fr(o,0,!0)!==0)break e;gi=n,o.timeoutHandle=td(S1.bind(null,o,r,Yn,So,Au,n,la,Mr,dl,Zi,g,"Throttled",-0,0),d);break e}S1(o,r,Yn,So,Au,n,la,Mr,dl,Zi,g,null,-0,0)}}break}while(!0);Ya(e)}function S1(e,n,r,o,d,g,C,R,k,Z,se,fe,Q,ne){if(e.timeoutHandle=-1,fe=n.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},p1(n,g,fe);var _e=(g&62914560)===g?Co-Yt():(g&4194048)===g?E1-Yt():0;if(_e=rg(fe,_e),_e!==null){gi=g,e.cancelPendingCommit=_e(M1.bind(null,e,n,g,r,o,d,C,R,k,se,fe,null,Q,ne)),Ji(e,g,C,!Z);return}}M1(e,n,g,r,o,d,C,R,k)}function Ex(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],g=d.getSnapshot;d=d.value;try{if(!c(g(),d))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ji(e,n,r,o){n&=~Eu,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var g=31-Ye(d),C=1<<g;o[g]=-1,d&=~C}r!==0&&Os(e,r,n)}function No(){return(wt&6)===0?(os(0),!1):!0}function Nu(){if(nt!==null){if(Nt===0)var e=nt.return;else e=nt,ii=vr=null,Pc(e),il=null,Vl=0,e=nt;for(;e!==null;)n1(e.alternate,e),e=e.return;nt=null}}function xl(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Hx(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),gi=0,Nu(),kt=e,nt=r=ni(e.current,null),lt=n,Nt=0,ra=null,Zi=!1,fl=An(e,n),wu=!1,dl=la=Eu=Mr=Qi=Jt=0,Yn=ls=null,Au=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-Ye(o),g=1<<d;n|=e[d],o&=~g}return xi=n,Ys(),r}function N1(e,n){Xe=null,$.H=Jl,n===al||n===eo?(n=Pf(),Nt=3):n===Oc?(n=Pf(),Nt=4):Nt=n===iu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ra=n,nt===null&&(Jt=1,go(e,ma(n,e.current)))}function T1(){var e=aa.current;return e===null?!0:(lt&4194048)===lt?wa===null:(lt&62914560)===lt||(lt&536870912)!==0?e===wa:!1}function _1(){var e=$.H;return $.H=Jl,e===null?Jl:e}function R1(){var e=$.A;return $.A=yx,e}function To(){Jt=4,Zi||(lt&4194048)!==lt&&aa.current!==null||(fl=!0),(Qi&134217727)===0&&(Mr&134217727)===0||kt===null||Ji(kt,lt,la,!1)}function Tu(e,n,r){var o=wt;wt|=2;var d=_1(),g=R1();(kt!==e||lt!==n)&&(So=null,xl(e,n)),n=!1;var C=Jt;e:do try{if(Nt!==0&&nt!==null){var R=nt,k=ra;switch(Nt){case 8:Nu(),C=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(n=!0);var Z=Nt;if(Nt=0,ra=null,gl(e,R,k,Z),r&&fl){C=0;break e}break;default:Z=Nt,Nt=0,ra=null,gl(e,R,k,Z)}}Ax(),C=Jt;break}catch(se){N1(e,se)}while(!0);return n&&e.shellSuspendCounter++,ii=vr=null,wt=o,$.H=d,$.A=g,nt===null&&(kt=null,lt=0,Ys()),C}function Ax(){for(;nt!==null;)O1(nt)}function Cx(e,n){var r=wt;wt|=2;var o=_1(),d=R1();kt!==e||lt!==n?(So=null,vo=Yt()+500,xl(e,n)):fl=An(e,n);e:do try{if(Nt!==0&&nt!==null){n=nt;var g=ra;t:switch(Nt){case 1:Nt=0,ra=null,gl(e,n,g,1);break;case 2:case 9:if(zf(g)){Nt=0,ra=null,I1(n);break}n=function(){Nt!==2&&Nt!==9||kt!==e||(Nt=7),Ya(e)},g.then(n,n);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:zf(g)?(Nt=0,ra=null,I1(n)):(Nt=0,ra=null,gl(e,n,g,7));break;case 5:var C=null;switch(nt.tag){case 26:C=nt.memoizedState;case 5:case 27:var R=nt;if(C?md(C):R.stateNode.complete){Nt=0,ra=null;var k=R.sibling;if(k!==null)nt=k;else{var Z=R.return;Z!==null?(nt=Z,_o(Z)):nt=null}break t}}Nt=0,ra=null,gl(e,n,g,5);break;case 6:Nt=0,ra=null,gl(e,n,g,6);break;case 8:Nu(),Jt=6;break e;default:throw Error(b(462))}}vx();break}catch(se){N1(e,se)}while(!0);return ii=vr=null,$.H=o,$.A=d,wt=r,nt!==null?0:(kt=null,lt=0,Ys(),Jt)}function vx(){for(;nt!==null&&!kr();)O1(nt)}function O1(e){var n=e1(e.alternate,e,xi);e.memoizedProps=e.pendingProps,n===null?_o(e):nt=n}function I1(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Z0(r,n,n.pendingProps,n.type,void 0,lt);break;case 11:n=Z0(r,n,n.pendingProps,n.type.render,n.ref,lt);break;case 5:Pc(n);default:n1(r,n),n=nt=Rf(n,xi),n=e1(r,n,xi)}e.memoizedProps=e.pendingProps,n===null?_o(e):nt=n}function gl(e,n,r,o){ii=vr=null,Pc(n),il=null,Vl=0;var d=n.return;try{if(dx(e,d,n,r,lt)){Jt=1,go(e,ma(r,e.current)),nt=null;return}}catch(g){if(d!==null)throw nt=d,g;Jt=1,go(e,ma(r,e.current)),nt=null;return}n.flags&32768?(ot||o===1?e=!0:fl||(lt&536870912)!==0?e=!1:(Zi=e=!0,(o===2||o===9||o===3||o===6)&&(o=aa.current,o!==null&&o.tag===13&&(o.flags|=16384))),D1(n,e)):_o(n)}function _o(e){var n=e;do{if((n.flags&32768)!==0){D1(n,Zi);return}e=n.return;var r=gx(n.alternate,n,xi);if(r!==null){nt=r;return}if(n=n.sibling,n!==null){nt=n;return}nt=n=e}while(n!==null);Jt===0&&(Jt=5)}function D1(e,n){do{var r=mx(e.alternate,e);if(r!==null){r.flags&=32767,nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){nt=e;return}nt=e=r}while(e!==null);Jt=6,nt=null}function M1(e,n,r,o,d,g,C,R,k){e.cancelPendingCommit=null;do Ro();while(bn!==0);if((wt&6)!==0)throw Error(b(327));if(n!==null){if(n===e.current)throw Error(b(177));if(g=n.lanes|n.childLanes,g|=gc,fa(e,r,g,C,R,k),e===kt&&(nt=kt=null,lt=0),hl=n,Wi=e,gi=r,Cu=g,vu=d,A1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_x(Qn,function(){return U1(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,d=K.p,K.p=2,C=wt,wt|=4;try{px(e,n,r)}finally{wt=C,K.p=d,$.T=o}}bn=1,B1(),L1(),k1()}}function B1(){if(bn===1){bn=0;var e=Wi,n=hl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var o=K.p;K.p=2;var d=wt;wt|=4;try{x1(n,e);var g=Fu,C=N(e.containerInfo),R=g.focusedElem,k=g.selectionRange;if(C!==R&&R&&R.ownerDocument&&A(R.ownerDocument.documentElement,R)){if(k!==null&&_(R)){var Z=k.start,se=k.end;if(se===void 0&&(se=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(se,R.value.length);else{var fe=R.ownerDocument||document,Q=fe&&fe.defaultView||window;if(Q.getSelection){var ne=Q.getSelection(),_e=R.textContent.length,Fe=Math.min(k.start,_e),It=k.end===void 0?Fe:Math.min(k.end,_e);!ne.extend&&Fe>It&&(C=It,It=Fe,Fe=C);var P=p(R,Fe),z=p(R,It);if(P&&z&&(ne.rangeCount!==1||ne.anchorNode!==P.node||ne.anchorOffset!==P.offset||ne.focusNode!==z.node||ne.focusOffset!==z.offset)){var q=fe.createRange();q.setStart(P.node,P.offset),ne.removeAllRanges(),Fe>It?(ne.addRange(q),ne.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),ne.addRange(q))}}}}for(fe=[],ne=R;ne=ne.parentNode;)ne.nodeType===1&&fe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<fe.length;R++){var ce=fe[R];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ho=!!Uu,Fu=Uu=null}finally{wt=d,K.p=o,$.T=r}}e.current=n,bn=2}}function L1(){if(bn===2){bn=0;var e=Wi,n=hl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var o=K.p;K.p=2;var d=wt;wt|=4;try{c1(e,n.alternate,n)}finally{wt=d,K.p=o,$.T=r}}bn=3}}function k1(){if(bn===4||bn===3){bn=0,Rs();var e=Wi,n=hl,r=gi,o=A1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?bn=5:(bn=0,hl=Wi=null,j1(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ki=null),Sa(r),n=n.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(jt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,d=K.p,K.p=2,$.T=null;try{for(var g=e.onRecoverableError,C=0;C<o.length;C++){var R=o[C];g(R.value,{componentStack:R.stack})}}finally{$.T=n,K.p=d}}(gi&3)!==0&&Ro(),Ya(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Su?ss++:(ss=0,Su=e):ss=0,os(0)}}function j1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function Ro(){return B1(),L1(),k1(),U1()}function U1(){if(bn!==5)return!1;var e=Wi,n=Cu;Cu=0;var r=Sa(gi),o=$.T,d=K.p;try{K.p=32>r?32:r,$.T=null,r=vu,vu=null;var g=Wi,C=gi;if(bn=0,hl=Wi=null,gi=0,(wt&6)!==0)throw Error(b(331));var R=wt;if(wt|=4,y1(g.current),m1(g,g.current,C,r),wt=R,os(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(jt,g)}catch{}return!0}finally{K.p=d,$.T=o,j1(e,n)}}function F1(e,n,r){n=ma(r,n),n=au(e.stateNode,n,2),e=Vi(e,n,2),e!==null&&(ja(e,2),Ya(e))}function Tt(e,n,r){if(e.tag===3)F1(e,e,r);else for(;n!==null;){if(n.tag===3){F1(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ki===null||!Ki.has(o))){e=ma(r,e),r=z0(2),o=Vi(n,r,2),o!==null&&(H0(r,o,n,e),ja(o,2),Ya(o));break}}n=n.return}}function _u(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new wx;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(r)||(wu=!0,d.add(r),e=Sx.bind(null,e,n,r),n.then(e,e))}function Sx(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,kt===e&&(lt&r)===r&&(Jt===4||Jt===3&&(lt&62914560)===lt&&300>Yt()-Co?(wt&2)===0&&xl(e,0):Eu|=r,dl===lt&&(dl=0)),Ya(e)}function z1(e,n){n===0&&(n=xn()),e=Er(e,n),e!==null&&(ja(e,n),Ya(e))}function Nx(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),z1(e,r)}function Tx(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(b(314))}o!==null&&o.delete(n),z1(e,r)}function _x(e,n){return Ci(e,n)}var Oo=null,ml=null,Ru=!1,Io=!1,Ou=!1,$i=0;function Ya(e){e!==ml&&e.next===null&&(ml===null?Oo=ml=e:ml=ml.next=e),Io=!0,Ru||(Ru=!0,Ox())}function os(e,n){if(!Ou&&Io){Ou=!0;do for(var r=!1,o=Oo;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var C=o.suspendedLanes,R=o.pingedLanes;g=(1<<31-Ye(42|e)+1)-1,g&=d&~(C&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,V1(o,g))}else g=lt,g=fr(o,o===kt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||An(o,g)||(r=!0,V1(o,g));o=o.next}while(r);Ou=!1}}function Rx(){H1()}function H1(){Io=Ru=!1;var e=0;$i!==0&&zx()&&(e=$i);for(var n=Yt(),r=null,o=Oo;o!==null;){var d=o.next,g=P1(o,n);g===0?(o.next=null,r===null?Oo=d:r.next=d,d===null&&(ml=r)):(r=o,(e!==0||(g&3)!==0)&&(Io=!0)),o=d}bn!==0&&bn!==5||os(e),$i!==0&&($i=0)}function P1(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var C=31-Ye(g),R=1<<C,k=d[C];k===-1?((R&r)===0||(R&o)!==0)&&(d[C]=Rl(R,n)):k<=n&&(e.expiredLanes|=R),g&=~R}if(n=kt,r=lt,r=fr(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Te(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||An(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Te(o),Sa(r)){case 2:case 8:r=Nl;break;case 32:r=Qn;break;case 268435456:r=Tl;break;default:r=Qn}return o=G1.bind(null,e),r=Ci(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Te(o),e.callbackPriority=2,e.callbackNode=null,2}function G1(e,n){if(bn!==0&&bn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ro()&&e.callbackNode!==r)return null;var o=lt;return o=fr(e,e===kt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(v1(e,o,n),P1(e,Yt()),e.callbackNode!=null&&e.callbackNode===r?G1.bind(null,e):null)}function V1(e,n){if(Ro())return null;v1(e,n,!0)}function Ox(){Px(function(){(wt&6)!==0?Ci(Un,Rx):H1()})}function Iu(){if($i===0){var e=tl;e===0&&(e=ur,ur<<=1,(ur&261888)===0&&(ur=256)),$i=e}return $i}function X1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oi(""+e)}function Y1(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Ix(e,n,r,o,d){if(n==="submit"&&r&&r.stateNode===d){var g=X1((d[St]||null).action),C=o.submitter;C&&(n=(n=C[St]||null)?X1(n.formAction):C.getAttribute("formAction"),n!==null&&(g=n,C=null));var R=new gn("action","action",null,o,d);e.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($i!==0){var k=C?Y1(d,C):new FormData(d);Wc(r,{pending:!0,data:k,method:d.method,action:g},null,k)}}else typeof g=="function"&&(R.preventDefault(),k=C?Y1(d,C):new FormData(d),Wc(r,{pending:!0,data:k,method:d.method,action:g},g,k))},currentTarget:d}]})}}for(var Du=0;Du<Fl.length;Du++){var Mu=Fl[Du],Dx=Mu.toLowerCase(),Mx=Mu[0].toUpperCase()+Mu.slice(1);Ia(Dx,"on"+Mx)}Ia(Pn,"onAnimationEnd"),Ia(Cn,"onAnimationIteration"),Ia(Ct,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(pn,"onTransitionRun"),Ia(Bn,"onTransitionStart"),Ia(ji,"onTransitionCancel"),Ia(ti,"onTransitionEnd"),Wn("onMouseEnter",["mouseout","mouseover"]),Wn("onMouseLeave",["mouseout","mouseover"]),Wn("onPointerEnter",["pointerout","pointerover"]),Wn("onPointerLeave",["pointerout","pointerover"]),Et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Et("onBeforeInput",["compositionend","keypress","textInput","paste"]),Et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function q1(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],d=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var C=o.length-1;0<=C;C--){var R=o[C],k=R.instance,Z=R.currentTarget;if(R=R.listener,k!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=Z;try{g(d)}catch(se){Xs(se)}d.currentTarget=null,g=k}else for(C=0;C<o.length;C++){if(R=o[C],k=R.instance,Z=R.currentTarget,R=R.listener,k!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=Z;try{g(d)}catch(se){Xs(se)}d.currentTarget=null,g=k}}}}function at(e,n){var r=n[vi];r===void 0&&(r=n[vi]=new Set);var o=e+"__bubble";r.has(o)||(Z1(n,e,2,!1),r.add(o))}function Bu(e,n,r){var o=0;n&&(o|=4),Z1(r,e,o,n)}var Do="_reactListening"+Math.random().toString(36).slice(2);function Lu(e){if(!e[Do]){e[Do]=!0,de.forEach(function(r){r!=="selectionchange"&&(Bx.has(r)||Bu(r,!1,e),Bu(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Do]||(n[Do]=!0,Bu("selectionchange",!1,n))}}function Z1(e,n,r,o){switch(Cd(n)){case 2:var d=og;break;case 8:d=cg;break;default:d=Ku}r=d.bind(null,n,r,e),d=void 0,!Dl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function ku(e,n,r,o,d){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var C=o.tag;if(C===3||C===4){var R=o.stateNode.containerInfo;if(R===d)break;if(C===4)for(C=o.return;C!==null;){var k=C.tag;if((k===3||k===4)&&C.stateNode.containerInfo===d)return;C=C.return}for(;R!==null;){if(C=Zt(R),C===null)return;if(k=C.tag,k===5||k===6||k===26||k===27){o=g=C;continue e}R=R.parentNode}}o=o.return}Bs(function(){var Z=g,se=Il(r),fe=[];e:{var Q=Vs.get(e);if(Q!==void 0){var ne=gn,_e=e;switch(e){case"keypress":if(Fa(r)===0)break e;case"keydown":case"keyup":ne=Yr;break;case"focusin":_e="focus",ne=Ll;break;case"focusout":_e="blur",ne=Ll;break;case"beforeblur":case"afterblur":ne=Ll;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=yt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=dc;break;case Pn:case Cn:case Ct:ne=qe;break;case ti:ne=Wa;break;case"scroll":case"scrollend":ne=Ls;break;case"wheel":ne=hc;break;case"copy":case"cut":case"paste":ne=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=At;break;case"toggle":case"beforetoggle":ne=jl}var Fe=(n&4)!==0,It=!Fe&&(e==="scroll"||e==="scrollend"),P=Fe?Q!==null?Q+"Capture":null:Q;Fe=[];for(var z=Z,q;z!==null;){var ce=z;if(q=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||q===null||P===null||(ce=He(z,P),ce!=null&&Fe.push(us(z,ce,q))),It)break;z=z.return}0<Fe.length&&(Q=new ne(Q,_e,null,r,se),fe.push({event:Q,listeners:Fe}))}}if((n&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",Q&&r!==hr&&(_e=r.relatedTarget||r.fromElement)&&(Zt(_e)||_e[Kn]))break e;if((ne||Q)&&(Q=se.window===se?se:(Q=se.ownerDocument)?Q.defaultView||Q.parentWindow:window,ne?(_e=r.relatedTarget||r.toElement,ne=Z,_e=_e?Zt(_e):null,_e!==null&&(It=w(_e),Fe=_e.tag,_e!==It||Fe!==5&&Fe!==27&&Fe!==6)&&(_e=null)):(ne=null,_e=Z),ne!==_e)){if(Fe=yt,ce="onMouseLeave",P="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=At,ce="onPointerLeave",P="onPointerEnter",z="pointer"),It=ne==null?Q:Si(ne),q=_e==null?Q:Si(_e),Q=new Fe(ce,z+"leave",ne,r,se),Q.target=It,Q.relatedTarget=q,ce=null,Zt(se)===Z&&(Fe=new Fe(P,z+"enter",_e,r,se),Fe.target=q,Fe.relatedTarget=It,ce=Fe),It=ce,ne&&_e)t:{for(Fe=Lx,P=ne,z=_e,q=0,ce=P;ce;ce=Fe(ce))q++;ce=0;for(var ke=z;ke;ke=Fe(ke))ce++;for(;0<q-ce;)P=Fe(P),q--;for(;0<ce-q;)z=Fe(z),ce--;for(;q--;){if(P===z||z!==null&&P===z.alternate){Fe=P;break t}P=Fe(P),z=Fe(z)}Fe=null}else Fe=null;ne!==null&&Q1(fe,Q,ne,Fe,!1),_e!==null&&It!==null&&Q1(fe,It,_e,Fe,!0)}}e:{if(Q=Z?Si(Z):window,ne=Q.nodeName&&Q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Q.type==="file")var mt=ta;else if(Ul(Q))if(Gs)mt=l;else{mt=a;var De=t}else ne=Q.nodeName,!ne||ne.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Z&&Mt(Z.elementType)&&(mt=ta):mt=i;if(mt&&(mt=mt(e,Z))){ea(fe,mt,r,se);break e}De&&De(e,Q,Z),e==="focusout"&&Z&&Q.type==="number"&&Z.memoizedProps.value!=null&&M(Q,"number",Q.value)}switch(De=Z?Si(Z):window,e){case"focusin":(Ul(De)||De.contentEditable==="true")&&(j=De,U=Z,V=null);break;case"focusout":V=U=j=null;break;case"mousedown":W=!0;break;case"contextmenu":case"mouseup":case"dragend":W=!1,me(fe,r,se);break;case"selectionchange":if(B)break;case"keydown":case"keyup":me(fe,r,se)}var Ze;if(mr)e:{switch(e){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ki?Ps(e,r)&&(st="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(st="onCompositionStart");st&&(Hs&&r.locale!=="ko"&&(ki||st!=="onCompositionStart"?st==="onCompositionEnd"&&ki&&(Ze=Ii()):(Ra=se,Oa="value"in Ra?Ra.value:Ra.textContent,ki=!0)),De=Mo(Z,st),0<De.length&&(st=new Us(st,e,null,r,se),fe.push({event:st,listeners:De}),Ze?st.data=Ze:(Ze=Li(r),Ze!==null&&(st.data=Ze)))),(Ze=zs?Pa(e,r):Zr(e,r))&&(st=Mo(Z,"onBeforeInput"),0<st.length&&(De=new Us("onBeforeInput","beforeinput",null,r,se),fe.push({event:De,listeners:st}),De.data=Ze)),Ix(fe,e,Z,r,se)}q1(fe,n)})}function us(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Mo(e,n){for(var r=n+"Capture",o=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=He(e,r),d!=null&&o.unshift(us(e,d,g)),d=He(e,n),d!=null&&o.push(us(e,d,g))),e.tag===3)return o;e=e.return}return[]}function Lx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Q1(e,n,r,o,d){for(var g=n._reactName,C=[];r!==null&&r!==o;){var R=r,k=R.alternate,Z=R.stateNode;if(R=R.tag,k!==null&&k===o)break;R!==5&&R!==26&&R!==27||Z===null||(k=Z,d?(Z=He(r,g),Z!=null&&C.unshift(us(r,Z,k))):d||(Z=He(r,g),Z!=null&&C.push(us(r,Z,k)))),r=r.return}C.length!==0&&e.push({event:n,listeners:C})}var kx=/\r\n?/g,jx=/\u0000|\uFFFD/g;function K1(e){return(typeof e=="string"?e:""+e).replace(kx,`
`).replace(jx,"")}function W1(e,n){return n=K1(n),K1(e)===n}function Ot(e,n,r,o,d,g){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Ri(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Ri(e,""+o);break;case"className":Ti(e,"class",o);break;case"tabIndex":Ti(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,r,o);break;case"style":Le(e,o,g);break;case"data":if(n!=="object"){Ti(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Oi(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(n!=="input"&&Ot(e,n,"name",d.name,d,null),Ot(e,n,"formEncType",d.formEncType,d,null),Ot(e,n,"formMethod",d.formMethod,d,null),Ot(e,n,"formTarget",d.formTarget,d,null)):(Ot(e,n,"encType",d.encType,d,null),Ot(e,n,"method",d.method,d,null),Ot(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Oi(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&at("scroll",e);break;case"onScrollEnd":o!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(b(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(b(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Oi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":at("beforetoggle",e),at("toggle",e),Ni(e,"popover",o);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ni(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ms.get(r)||r,Ni(e,r,o))}}function ju(e,n,r,o,d,g){switch(r){case"style":Le(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(b(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(b(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Ri(e,o):(typeof o=="number"||typeof o=="bigint")&&Ri(e,""+o);break;case"onScroll":o!=null&&at("scroll",e);break;case"onScrollEnd":o!=null&&at("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),n=r.slice(2,d?r.length-7:void 0),g=e[St]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(n,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,d);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ni(e,r,o)}}}function Tn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var o=!1,d=!1,g;for(g in r)if(r.hasOwnProperty(g)){var C=r[g];if(C!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,n));default:Ot(e,n,g,C,r,null)}}d&&Ot(e,n,"srcSet",r.srcSet,r,null),o&&Ot(e,n,"src",r.src,r,null);return;case"input":at("invalid",e);var R=g=C=d=null,k=null,Z=null;for(o in r)if(r.hasOwnProperty(o)){var se=r[o];if(se!=null)switch(o){case"name":d=se;break;case"type":C=se;break;case"checked":k=se;break;case"defaultChecked":Z=se;break;case"value":g=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(b(137,n));break;default:Ot(e,n,o,se,r,null)}}X(e,g,R,k,Z,C,d,!1);return;case"select":at("invalid",e),o=C=g=null;for(d in r)if(r.hasOwnProperty(d)&&(R=r[d],R!=null))switch(d){case"value":g=R;break;case"defaultValue":C=R;break;case"multiple":o=R;default:Ot(e,n,d,R,r,null)}n=g,r=C,e.multiple=!!o,n!=null?Oe(e,!!o,n,!1):r!=null&&Oe(e,!!o,r,!0);return;case"textarea":at("invalid",e),g=d=o=null;for(C in r)if(r.hasOwnProperty(C)&&(R=r[C],R!=null))switch(C){case"value":o=R;break;case"defaultValue":d=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(b(91));break;default:Ot(e,n,C,R,r,null)}Dn(e,o,d,g);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ot(e,n,k,o,r,null)}return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(o=0;o<cs.length;o++)at(cs[o],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in r)if(r.hasOwnProperty(Z)&&(o=r[Z],o!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,n));default:Ot(e,n,Z,o,r,null)}return;default:if(Mt(n)){for(se in r)r.hasOwnProperty(se)&&(o=r[se],o!==void 0&&ju(e,n,se,o,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null&&Ot(e,n,R,o,r,null))}function Ux(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,C=null,R=null,k=null,Z=null,se=null;for(ne in r){var fe=r[ne];if(r.hasOwnProperty(ne)&&fe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":k=fe;default:o.hasOwnProperty(ne)||Ot(e,n,ne,null,o,fe)}}for(var Q in o){var ne=o[Q];if(fe=r[Q],o.hasOwnProperty(Q)&&(ne!=null||fe!=null))switch(Q){case"type":g=ne;break;case"name":d=ne;break;case"checked":Z=ne;break;case"defaultChecked":se=ne;break;case"value":C=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(b(137,n));break;default:ne!==fe&&Ot(e,n,Q,ne,o,fe)}}ln(e,C,R,k,Z,se,g,d);return;case"select":ne=C=R=Q=null;for(g in r)if(k=r[g],r.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":ne=k;default:o.hasOwnProperty(g)||Ot(e,n,g,null,o,k)}for(d in o)if(g=o[d],k=r[d],o.hasOwnProperty(d)&&(g!=null||k!=null))switch(d){case"value":Q=g;break;case"defaultValue":R=g;break;case"multiple":C=g;default:g!==k&&Ot(e,n,d,g,o,k)}n=R,r=C,o=ne,Q!=null?Oe(e,!!r,Q,!1):!!o!=!!r&&(n!=null?Oe(e,!!r,n,!0):Oe(e,!!r,r?[]:"",!1));return;case"textarea":ne=Q=null;for(R in r)if(d=r[R],r.hasOwnProperty(R)&&d!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ot(e,n,R,null,o,d)}for(C in o)if(d=o[C],g=r[C],o.hasOwnProperty(C)&&(d!=null||g!=null))switch(C){case"value":Q=d;break;case"defaultValue":ne=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(b(91));break;default:d!==g&&Ot(e,n,C,d,o,g)}tn(e,Q,ne);return;case"option":for(var _e in r)if(Q=r[_e],r.hasOwnProperty(_e)&&Q!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:Ot(e,n,_e,null,o,Q)}for(k in o)if(Q=o[k],ne=r[k],o.hasOwnProperty(k)&&Q!==ne&&(Q!=null||ne!=null))switch(k){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ot(e,n,k,Q,o,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in r)Q=r[Fe],r.hasOwnProperty(Fe)&&Q!=null&&!o.hasOwnProperty(Fe)&&Ot(e,n,Fe,null,o,Q);for(Z in o)if(Q=o[Z],ne=r[Z],o.hasOwnProperty(Z)&&Q!==ne&&(Q!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(b(137,n));break;default:Ot(e,n,Z,Q,o,ne)}return;default:if(Mt(n)){for(var It in r)Q=r[It],r.hasOwnProperty(It)&&Q!==void 0&&!o.hasOwnProperty(It)&&ju(e,n,It,void 0,o,Q);for(se in o)Q=o[se],ne=r[se],!o.hasOwnProperty(se)||Q===ne||Q===void 0&&ne===void 0||ju(e,n,se,Q,o,ne);return}}for(var P in r)Q=r[P],r.hasOwnProperty(P)&&Q!=null&&!o.hasOwnProperty(P)&&Ot(e,n,P,null,o,Q);for(fe in o)Q=o[fe],ne=r[fe],!o.hasOwnProperty(fe)||Q===ne||Q==null&&ne==null||Ot(e,n,fe,Q,o,ne)}function J1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],g=d.transferSize,C=d.initiatorType,R=d.duration;if(g&&R&&J1(C)){for(C=0,R=d.responseEnd,o+=1;o<r.length;o++){var k=r[o],Z=k.startTime;if(Z>R)break;var se=k.transferSize,fe=k.initiatorType;se&&J1(fe)&&(k=k.responseEnd,C+=se*(k<R?1:(R-Z)/(k-Z)))}if(--o,n+=8*(g+C)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,Fu=null;function Bo(e){return e.nodeType===9?e:e.ownerDocument}function $1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ed(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function zu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hu=null;function zx(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var td=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(Gx)}:td;function Gx(e){setTimeout(function(){throw e})}function er(e){return e==="head"}function ad(e,n){var r=n,o=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(d),wl(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")fs(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fs(r);for(var g=r.firstChild;g;){var C=g.nextSibling,R=g.nodeName;g[dr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=C}}else r==="body"&&fs(e.ownerDocument.body);r=d}while(r);wl(n)}function id(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Pu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Pu(r),Fn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Vx(e,n,r,o){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[dr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Ea(e.nextSibling),e===null)break}return null}function Xx(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ea(e.nextSibling),e===null))return null;return e}function rd(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ea(e.nextSibling),e===null))return null;return e}function Gu(e){return e.data==="$?"||e.data==="$~"}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yx(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ea(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Xu=null;function ld(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Ea(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function sd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function od(e,n,r){switch(n=Bo(r),e){case"html":if(e=n.documentElement,!e)throw Error(b(452));return e;case"head":if(e=n.head,!e)throw Error(b(453));return e;case"body":if(e=n.body,!e)throw Error(b(454));return e;default:throw Error(b(451))}}function fs(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Fn(e)}var Aa=new Map,cd=new Set;function Lo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mi=K.d;K.d={f:qx,r:Zx,D:Qx,C:Kx,L:Wx,m:Jx,X:eg,S:$x,M:tg};function qx(){var e=mi.f(),n=No();return e||n}function Zx(e){var n=bt(e);n!==null&&n.tag===5&&n.type==="form"?N0(n):mi.r(e)}var pl=typeof document>"u"?null:document;function ud(e,n,r){var o=pl;if(o&&typeof n=="string"&&n){var d=$e(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),cd.has(d)||(cd.add(d),e={rel:e,crossOrigin:r,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),Tn(n,"link",e),Qt(n),o.head.appendChild(n)))}}function Qx(e){mi.D(e),ud("dns-prefetch",e,null)}function Kx(e,n){mi.C(e,n),ud("preconnect",e,n)}function Wx(e,n,r){mi.L(e,n,r);var o=pl;if(o&&e&&n){var d='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+$e(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+$e(r.imageSizes)+'"]')):d+='[href="'+$e(e)+'"]';var g=d;switch(n){case"style":g=bl(e);break;case"script":g=yl(e)}Aa.has(g)||(e=I({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Aa.set(g,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(ds(g))||n==="script"&&o.querySelector(hs(g))||(n=o.createElement("link"),Tn(n,"link",e),Qt(n),o.head.appendChild(n)))}}function Jx(e,n){mi.m(e,n);var r=pl;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+$e(o)+'"][href="'+$e(e)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yl(e)}if(!Aa.has(g)&&(e=I({rel:"modulepreload",href:e},n),Aa.set(g,e),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hs(g)))return}o=r.createElement("link"),Tn(o,"link",e),Qt(o),r.head.appendChild(o)}}}function $x(e,n,r){mi.S(e,n,r);var o=pl;if(o&&e){var d=In(o).hoistableStyles,g=bl(e);n=n||"default";var C=d.get(g);if(!C){var R={loading:0,preload:null};if(C=o.querySelector(ds(g)))R.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Aa.get(g))&&Yu(e,r);var k=C=o.createElement("link");Qt(k),Tn(k,"link",e),k._p=new Promise(function(Z,se){k.onload=Z,k.onerror=se}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ko(C,n,o)}C={type:"stylesheet",instance:C,count:1,state:R},d.set(g,C)}}}function eg(e,n){mi.X(e,n);var r=pl;if(r&&e){var o=In(r).hoistableScripts,d=yl(e),g=o.get(d);g||(g=r.querySelector(hs(d)),g||(e=I({src:e,async:!0},n),(n=Aa.get(d))&&qu(e,n),g=r.createElement("script"),Qt(g),Tn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function tg(e,n){mi.M(e,n);var r=pl;if(r&&e){var o=In(r).hoistableScripts,d=yl(e),g=o.get(d);g||(g=r.querySelector(hs(d)),g||(e=I({src:e,async:!0,type:"module"},n),(n=Aa.get(d))&&qu(e,n),g=r.createElement("script"),Qt(g),Tn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function fd(e,n,r,o){var d=(d=ye.current)?Lo(d):null;if(!d)throw Error(b(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=bl(r.href),r=In(d).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=bl(r.href);var g=In(d).hoistableStyles,C=g.get(e);if(C||(d=d.ownerDocument||d,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,C),(g=d.querySelector(ds(e)))&&!g._p&&(C.instance=g,C.state.loading=5),Aa.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Aa.set(e,r),g||ng(d,e,r,C.state))),n&&o===null)throw Error(b(528,""));return C}if(n&&o!==null)throw Error(b(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=yl(r),r=In(d).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,e))}}function bl(e){return'href="'+$e(e)+'"'}function ds(e){return'link[rel="stylesheet"]['+e+"]"}function dd(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function ng(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Tn(n,"link",r),Qt(n),e.head.appendChild(n))}function yl(e){return'[src="'+$e(e)+'"]'}function hs(e){return"script[async]"+e}function hd(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+$e(r.href)+'"]');if(o)return n.instance=o,Qt(o),o;var d=I({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Qt(o),Tn(o,"style",d),ko(o,r.precedence,e),n.instance=o;case"stylesheet":d=bl(r.href);var g=e.querySelector(ds(d));if(g)return n.state.loading|=4,n.instance=g,Qt(g),g;o=dd(r),(d=Aa.get(d))&&Yu(o,d),g=(e.ownerDocument||e).createElement("link"),Qt(g);var C=g;return C._p=new Promise(function(R,k){C.onload=R,C.onerror=k}),Tn(g,"link",o),n.state.loading|=4,ko(g,r.precedence,e),n.instance=g;case"script":return g=yl(r.src),(d=e.querySelector(hs(g)))?(n.instance=d,Qt(d),d):(o=r,(d=Aa.get(g))&&(o=I({},r),qu(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),Qt(d),Tn(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(b(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ko(o,r.precedence,e));return n.instance}function ko(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,C=0;C<o.length;C++){var R=o[C];if(R.dataset.precedence===n)g=R;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Yu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var jo=null;function xd(e,n,r){if(jo===null){var o=new Map,d=jo=new Map;d.set(r,o)}else d=jo,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var g=r[d];if(!(g[dr]||g[en]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var C=g.getAttribute(n)||"";C=e+C;var R=o.get(C);R?R.push(g):o.set(C,[g])}}return o}function gd(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ag(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function md(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ig(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=bl(o.href),g=n.querySelector(ds(d));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Uo.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=g,Qt(g);return}g=n.ownerDocument||n,o=dd(o),(d=Aa.get(d))&&Yu(o,d),g=g.createElement("link"),Qt(g);var C=g;C._p=new Promise(function(R,k){C.onload=R,C.onerror=k}),Tn(g,"link",o),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Uo.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Zu=0;function rg(e,n){return e.stylesheets&&e.count===0&&zo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&zo(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&Zu===0&&(Zu=62500*Fx());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zo(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Zu?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Uo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fo=null;function zo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fo=new Map,n.forEach(lg,e),Fo=null,Uo.call(e))}function lg(e,n){if(!(n.state.loading&4)){var r=Fo.get(e);if(r)var o=r.get(null);else{r=new Map,Fo.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var C=d[g];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(r.set(C.dataset.precedence,C),o=C)}o&&r.set(null,o)}d=n.instance,C=d.getAttribute("data-precedence"),g=r.get(C)||o,g===o&&r.set(null,d),r.set(C,d),this.count++,o=Uo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var xs={$$typeof:ae,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function sg(e,n,r,o,d,g,C,R,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.hiddenUpdates=ka(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function pd(e,n,r,o,d,g,C,R,k,Z,se,fe){return e=new sg(e,n,r,C,k,Z,se,fe,R),n=1,g===!0&&(n|=24),g=na(3,null,null,n),e.current=g,g.stateNode=e,n=Tc(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:n},Ic(g),e}function bd(e){return e?(e=Kr,e):Kr}function yd(e,n,r,o,d,g){d=bd(d),o.context===null?o.context=d:o.pendingContext=d,o=Gi(n),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=Vi(e,o,n),r!==null&&(qn(r,e,n),Yl(r,e,n))}function wd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Qu(e,n){wd(e,n),(e=e.alternate)&&wd(e,n)}function Ed(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&qn(n,e,67108864),Qu(e,67108864)}}function Ad(e){if(e.tag===13||e.tag===31){var n=sa();n=yn(n);var r=Er(e,n);r!==null&&qn(r,e,n),Qu(e,n)}}var Ho=!0;function og(e,n,r,o){var d=$.T;$.T=null;var g=K.p;try{K.p=2,Ku(e,n,r,o)}finally{K.p=g,$.T=d}}function cg(e,n,r,o){var d=$.T;$.T=null;var g=K.p;try{K.p=8,Ku(e,n,r,o)}finally{K.p=g,$.T=d}}function Ku(e,n,r,o){if(Ho){var d=Wu(o);if(d===null)ku(e,n,o,Po,r),vd(e,o);else if(fg(d,e,n,r,o))o.stopPropagation();else if(vd(e,o),n&4&&-1<ug.indexOf(e)){for(;d!==null;){var g=bt(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var C=La(g.pendingLanes);if(C!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var k=1<<31-Ye(C);R.entanglements[1]|=k,C&=~k}Ya(g),(wt&6)===0&&(vo=Yt()+500,os(0))}}break;case 31:case 13:R=Er(g,2),R!==null&&qn(R,g,2),No(),Qu(g,2)}if(g=Wu(o),g===null&&ku(e,n,o,Po,r),g===d)break;d=g}d!==null&&o.stopPropagation()}else ku(e,n,o,null,r)}}function Wu(e){return e=Il(e),Ju(e)}var Po=null;function Ju(e){if(Po=null,e=Zt(e),e!==null){var n=w(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=T(n),e!==null)return e;e=null}else if(r===31){if(e=D(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Po=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sl()){case Un:return 2;case Nl:return 8;case Qn:case En:return 32;case Tl:return 268435456;default:return 32}default:return 32}}var $u=!1,tr=null,nr=null,ar=null,gs=new Map,ms=new Map,ir=[],ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,n){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":gs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(n.pointerId)}}function ps(e,n,r,o,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},n!==null&&(n=bt(n),n!==null&&Ed(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function fg(e,n,r,o,d){switch(n){case"focusin":return tr=ps(tr,e,n,r,o,d),!0;case"dragenter":return nr=ps(nr,e,n,r,o,d),!0;case"mouseover":return ar=ps(ar,e,n,r,o,d),!0;case"pointerover":var g=d.pointerId;return gs.set(g,ps(gs.get(g)||null,e,n,r,o,d)),!0;case"gotpointercapture":return g=d.pointerId,ms.set(g,ps(ms.get(g)||null,e,n,r,o,d)),!0}return!1}function Sd(e){var n=Zt(e.target);if(n!==null){var r=w(n);if(r!==null){if(n=r.tag,n===13){if(n=T(r),n!==null){e.blockedOn=n,Se(e.priority,function(){Ad(r)});return}}else if(n===31){if(n=D(r),n!==null){e.blockedOn=n,Se(e.priority,function(){Ad(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Go(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Wu(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);hr=o,r.target.dispatchEvent(o),hr=null}else return n=bt(r),n!==null&&Ed(n),e.blockedOn=r,!1;n.shift()}return!0}function Nd(e,n,r){Go(e)&&r.delete(n)}function dg(){$u=!1,tr!==null&&Go(tr)&&(tr=null),nr!==null&&Go(nr)&&(nr=null),ar!==null&&Go(ar)&&(ar=null),gs.forEach(Nd),ms.forEach(Nd)}function Vo(e,n){e.blockedOn===n&&(e.blockedOn=null,$u||($u=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,dg)))}var Xo=null;function Td(e){Xo!==e&&(Xo=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Xo===e&&(Xo=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(Ju(o||r)===null)continue;break}var g=bt(r);g!==null&&(e.splice(n,3),n-=3,Wc(g,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function wl(e){function n(k){return Vo(k,e)}tr!==null&&Vo(tr,e),nr!==null&&Vo(nr,e),ar!==null&&Vo(ar,e),gs.forEach(n),ms.forEach(n);for(var r=0;r<ir.length;r++){var o=ir[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)Sd(r),r.blockedOn===null&&ir.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],g=r[o+1],C=d[St]||null;if(typeof g=="function")C||Td(r);else if(C){var R=null;if(g&&g.hasAttribute("formAction")){if(d=g,C=g[St]||null)R=C.formAction;else if(Ju(d)!==null)continue}else R=C.action;typeof R=="function"?r[o+1]=R:(r.splice(o,3),o-=3),Td(r)}}}function _d(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(C){return d=C})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function ef(e){this._internalRoot=e}Yo.prototype.render=ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(b(409));var r=n.current,o=sa();yd(r,o,e,n,null,null)},Yo.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yd(e.current,2,null,e,null,null),No(),n[Kn]=null}};function Yo(e){this._internalRoot=e}Yo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Rn();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ir.length&&n!==0&&n<ir[r].priority;r++);ir.splice(r,0,e),r===0&&Sd(e)}};var Rd=m.version;if(Rd!=="19.2.4")throw Error(b(527,Rd,"19.2.4"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=v(n),e=e!==null?L(e):null,e=e===null?null:e.stateNode,e};var hg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{jt=qo.inject(hg),pe=qo}catch{}}return ys.createRoot=function(e,n){if(!E(e))throw Error(b(299));var r=!1,o="",d=k0,g=j0,C=U0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=pd(e,1,!1,null,null,r,o,null,d,g,C,_d),e[Kn]=n.current,Lu(e),new ef(n)},ys.hydrateRoot=function(e,n,r){if(!E(e))throw Error(b(299));var o=!1,d="",g=k0,C=j0,R=U0,k=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.formState!==void 0&&(k=r.formState)),n=pd(e,1,!0,n,r??null,o,d,k,g,C,R,_d),n.context=bd(null),r=n.current,o=sa(),o=yn(o),d=Gi(o),d.callback=null,Vi(r,d,o),r=o,n.current.lanes=r,ja(n,r),Ya(n),e[Kn]=n.current,Lu(e),new Yo(n)},ys.version="19.2.4",ys}var Fd;function Cg(){if(Fd)return af.exports;Fd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(m){console.error(m)}}return f(),af.exports=Ag(),af.exports}var vg=Cg();const Sg=Ah(vg);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zd="popstate";function Ng(f={}){function m(E,w){let{pathname:T="/",search:D="",hash:O=""}=Lr(E.location.hash.substring(1));return!T.startsWith("/")&&!T.startsWith(".")&&(T="/"+T),ff("",{pathname:T,search:D,hash:O},w.state&&w.state.usr||null,w.state&&w.state.key||"default")}function h(E,w){let T=E.document.querySelector("base"),D="";if(T&&T.getAttribute("href")){let O=E.location.href,v=O.indexOf("#");D=v===-1?O:O.slice(0,v)}return D+"#"+(typeof w=="string"?w:Cs(w))}function b(E,w){Ca(E.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(w)})`)}return _g(m,h,b,f)}function Xt(f,m){if(f===!1||f===null||typeof f>"u")throw new Error(m)}function Ca(f,m){if(!f){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function Tg(){return Math.random().toString(36).substring(2,10)}function Hd(f,m){return{usr:f.state,key:f.key,idx:m}}function ff(f,m,h=null,b){return{pathname:typeof f=="string"?f:f.pathname,search:"",hash:"",...typeof m=="string"?Lr(m):m,state:h,key:m&&m.key||b||Tg()}}function Cs({pathname:f="/",search:m="",hash:h=""}){return m&&m!=="?"&&(f+=m.charAt(0)==="?"?m:"?"+m),h&&h!=="#"&&(f+=h.charAt(0)==="#"?h:"#"+h),f}function Lr(f){let m={};if(f){let h=f.indexOf("#");h>=0&&(m.hash=f.substring(h),f=f.substring(0,h));let b=f.indexOf("?");b>=0&&(m.search=f.substring(b),f=f.substring(0,b)),f&&(m.pathname=f)}return m}function _g(f,m,h,b={}){let{window:E=document.defaultView,v5Compat:w=!1}=b,T=E.history,D="POP",O=null,v=L();v==null&&(v=0,T.replaceState({...T.state,idx:v},""));function L(){return(T.state||{idx:null}).idx}function I(){D="POP";let ie=L(),be=ie==null?null:ie-v;v=ie,O&&O({action:D,location:le.location,delta:be})}function G(ie,be){D="PUSH";let xe=ff(le.location,ie,be);h&&h(xe,ie),v=L()+1;let ae=Hd(xe,v),Ee=le.createHref(xe);try{T.pushState(ae,"",Ee)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;E.location.assign(Ee)}w&&O&&O({action:D,location:le.location,delta:1})}function Y(ie,be){D="REPLACE";let xe=ff(le.location,ie,be);h&&h(xe,ie),v=L();let ae=Hd(xe,v),Ee=le.createHref(xe);T.replaceState(ae,"",Ee),w&&O&&O({action:D,location:le.location,delta:0})}function oe(ie){return Rg(ie)}let le={get action(){return D},get location(){return f(E,T)},listen(ie){if(O)throw new Error("A history only accepts one active listener");return E.addEventListener(zd,I),O=ie,()=>{E.removeEventListener(zd,I),O=null}},createHref(ie){return m(E,ie)},createURL:oe,encodeLocation(ie){let be=oe(ie);return{pathname:be.pathname,search:be.search,hash:be.hash}},push:G,replace:Y,go(ie){return T.go(ie)}};return le}function Rg(f,m=!1){let h="http://localhost";typeof window<"u"&&(h=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(h,"No window.location.(origin|href) available to create URL");let b=typeof f=="string"?f:Cs(f);return b=b.replace(/ $/,"%20"),!m&&b.startsWith("//")&&(b=h+b),new URL(b,h)}function vh(f,m,h="/"){return Og(f,m,h,!1)}function Og(f,m,h,b){let E=typeof m=="string"?Lr(m):m,w=wi(E.pathname||"/",h);if(w==null)return null;let T=Sh(f);Ig(T);let D=null;for(let O=0;D==null&&O<T.length;++O){let v=Pg(w);D=zg(T[O],v,b)}return D}function Sh(f,m=[],h=[],b="",E=!1){let w=(T,D,O=E,v)=>{let L={relativePath:v===void 0?T.path||"":v,caseSensitive:T.caseSensitive===!0,childrenIndex:D,route:T};if(L.relativePath.startsWith("/")){if(!L.relativePath.startsWith(b)&&O)return;Xt(L.relativePath.startsWith(b),`Absolute route path "${L.relativePath}" nested under path "${b}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),L.relativePath=L.relativePath.slice(b.length)}let I=yi([b,L.relativePath]),G=h.concat(L);T.children&&T.children.length>0&&(Xt(T.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${I}".`),Sh(T.children,m,G,I,O)),!(T.path==null&&!T.index)&&m.push({path:I,score:Ug(I,T.index),routesMeta:G})};return f.forEach((T,D)=>{var O;if(T.path===""||!((O=T.path)!=null&&O.includes("?")))w(T,D);else for(let v of Nh(T.path))w(T,D,!0,v)}),m}function Nh(f){let m=f.split("/");if(m.length===0)return[];let[h,...b]=m,E=h.endsWith("?"),w=h.replace(/\?$/,"");if(b.length===0)return E?[w,""]:[w];let T=Nh(b.join("/")),D=[];return D.push(...T.map(O=>O===""?w:[w,O].join("/"))),E&&D.push(...T),D.map(O=>f.startsWith("/")&&O===""?"/":O)}function Ig(f){f.sort((m,h)=>m.score!==h.score?h.score-m.score:Fg(m.routesMeta.map(b=>b.childrenIndex),h.routesMeta.map(b=>b.childrenIndex)))}var Dg=/^:[\w-]+$/,Mg=3,Bg=2,Lg=1,kg=10,jg=-2,Pd=f=>f==="*";function Ug(f,m){let h=f.split("/"),b=h.length;return h.some(Pd)&&(b+=jg),m&&(b+=Bg),h.filter(E=>!Pd(E)).reduce((E,w)=>E+(Dg.test(w)?Mg:w===""?Lg:kg),b)}function Fg(f,m){return f.length===m.length&&f.slice(0,-1).every((b,E)=>b===m[E])?f[f.length-1]-m[m.length-1]:0}function zg(f,m,h=!1){let{routesMeta:b}=f,E={},w="/",T=[];for(let D=0;D<b.length;++D){let O=b[D],v=D===b.length-1,L=w==="/"?m:m.slice(w.length)||"/",I=$o({path:O.relativePath,caseSensitive:O.caseSensitive,end:v},L),G=O.route;if(!I&&v&&h&&!b[b.length-1].route.index&&(I=$o({path:O.relativePath,caseSensitive:O.caseSensitive,end:!1},L)),!I)return null;Object.assign(E,I.params),T.push({params:E,pathname:yi([w,I.pathname]),pathnameBase:Yg(yi([w,I.pathnameBase])),route:G}),I.pathnameBase!=="/"&&(w=yi([w,I.pathnameBase]))}return T}function $o(f,m){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[h,b]=Hg(f.path,f.caseSensitive,f.end),E=m.match(h);if(!E)return null;let w=E[0],T=w.replace(/(.)\/+$/,"$1"),D=E.slice(1);return{params:b.reduce((v,{paramName:L,isOptional:I},G)=>{if(L==="*"){let oe=D[G]||"";T=w.slice(0,w.length-oe.length).replace(/(.)\/+$/,"$1")}const Y=D[G];return I&&!Y?v[L]=void 0:v[L]=(Y||"").replace(/%2F/g,"/"),v},{}),pathname:w,pathnameBase:T,pattern:f}}function Hg(f,m=!1,h=!0){Ca(f==="*"||!f.endsWith("*")||f.endsWith("/*"),`Route path "${f}" will be treated as if it were "${f.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${f.replace(/\*$/,"/*")}".`);let b=[],E="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(T,D,O)=>(b.push({paramName:D,isOptional:O!=null}),O?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return f.endsWith("*")?(b.push({paramName:"*"}),E+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?E+="\\/*$":f!==""&&f!=="/"&&(E+="(?:(?=\\/|$))"),[new RegExp(E,m?void 0:"i"),b]}function Pg(f){try{return f.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return Ca(!1,`The URL path "${f}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${m}).`),f}}function wi(f,m){if(m==="/")return f;if(!f.toLowerCase().startsWith(m.toLowerCase()))return null;let h=m.endsWith("/")?m.length-1:m.length,b=f.charAt(h);return b&&b!=="/"?null:f.slice(h)||"/"}var Gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Vg(f,m="/"){let{pathname:h,search:b="",hash:E=""}=typeof f=="string"?Lr(f):f,w;return h?(h=h.replace(/\/\/+/g,"/"),h.startsWith("/")?w=Gd(h.substring(1),"/"):w=Gd(h,m)):w=m,{pathname:w,search:qg(b),hash:Zg(E)}}function Gd(f,m){let h=m.replace(/\/+$/,"").split("/");return f.split("/").forEach(E=>{E===".."?h.length>1&&h.pop():E!=="."&&h.push(E)}),h.length>1?h.join("/"):"/"}function of(f,m,h,b){return`Cannot include a '${f}' character in a manually specified \`to.${m}\` field [${JSON.stringify(b)}].  Please separate it out to the \`to.${h}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xg(f){return f.filter((m,h)=>h===0||m.route.path&&m.route.path.length>0)}function pf(f){let m=Xg(f);return m.map((h,b)=>b===m.length-1?h.pathname:h.pathnameBase)}function bf(f,m,h,b=!1){let E;typeof f=="string"?E=Lr(f):(E={...f},Xt(!E.pathname||!E.pathname.includes("?"),of("?","pathname","search",E)),Xt(!E.pathname||!E.pathname.includes("#"),of("#","pathname","hash",E)),Xt(!E.search||!E.search.includes("#"),of("#","search","hash",E)));let w=f===""||E.pathname==="",T=w?"/":E.pathname,D;if(T==null)D=h;else{let I=m.length-1;if(!b&&T.startsWith("..")){let G=T.split("/");for(;G[0]==="..";)G.shift(),I-=1;E.pathname=G.join("/")}D=I>=0?m[I]:"/"}let O=Vg(E,D),v=T&&T!=="/"&&T.endsWith("/"),L=(w||T===".")&&h.endsWith("/");return!O.pathname.endsWith("/")&&(v||L)&&(O.pathname+="/"),O}var yi=f=>f.join("/").replace(/\/\/+/g,"/"),Yg=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),qg=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,Zg=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f,Qg=class{constructor(f,m,h,b=!1){this.status=f,this.statusText=m||"",this.internal=b,h instanceof Error?(this.data=h.toString(),this.error=h):this.data=h}};function Kg(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}function Wg(f){return f.map(m=>m.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Th=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _h(f,m){let h=f;if(typeof h!="string"||!Gg.test(h))return{absoluteURL:void 0,isExternal:!1,to:h};let b=h,E=!1;if(Th)try{let w=new URL(window.location.href),T=h.startsWith("//")?new URL(w.protocol+h):new URL(h),D=wi(T.pathname,m);T.origin===w.origin&&D!=null?h=D+T.search+T.hash:E=!0}catch{Ca(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:b,isExternal:E,to:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rh=["POST","PUT","PATCH","DELETE"];new Set(Rh);var Jg=["GET",...Rh];new Set(Jg);var Cl=F.createContext(null);Cl.displayName="DataRouter";var ac=F.createContext(null);ac.displayName="DataRouterState";var $g=F.createContext(!1),Oh=F.createContext({isTransitioning:!1});Oh.displayName="ViewTransition";var e2=F.createContext(new Map);e2.displayName="Fetchers";var t2=F.createContext(null);t2.displayName="Await";var ca=F.createContext(null);ca.displayName="Navigation";var Ns=F.createContext(null);Ns.displayName="Location";var Ba=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ba.displayName="Route";var yf=F.createContext(null);yf.displayName="RouteError";var Ih="REACT_ROUTER_ERROR",n2="REDIRECT",a2="ROUTE_ERROR_RESPONSE";function i2(f){if(f.startsWith(`${Ih}:${n2}:{`))try{let m=JSON.parse(f.slice(28));if(typeof m=="object"&&m&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.location=="string"&&typeof m.reloadDocument=="boolean"&&typeof m.replace=="boolean")return m}catch{}}function r2(f){if(f.startsWith(`${Ih}:${a2}:{`))try{let m=JSON.parse(f.slice(40));if(typeof m=="object"&&m&&typeof m.status=="number"&&typeof m.statusText=="string")return new Qg(m.status,m.statusText,m.data)}catch{}}function l2(f,{relative:m}={}){Xt(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:h,navigator:b}=F.useContext(ca),{hash:E,pathname:w,search:T}=Ts(f,{relative:m}),D=w;return h!=="/"&&(D=w==="/"?h:yi([h,w])),b.createHref({pathname:D,search:T,hash:E})}function vl(){return F.useContext(Ns)!=null}function qa(){return Xt(vl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Ns).location}var Dh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mh(f){F.useContext(ca).static||F.useLayoutEffect(f)}function wf(){let{isDataRoute:f}=F.useContext(Ba);return f?w2():s2()}function s2(){Xt(vl(),"useNavigate() may be used only in the context of a <Router> component.");let f=F.useContext(Cl),{basename:m,navigator:h}=F.useContext(ca),{matches:b}=F.useContext(Ba),{pathname:E}=qa(),w=JSON.stringify(pf(b)),T=F.useRef(!1);return Mh(()=>{T.current=!0}),F.useCallback((O,v={})=>{if(Ca(T.current,Dh),!T.current)return;if(typeof O=="number"){h.go(O);return}let L=bf(O,JSON.parse(w),E,v.relative==="path");f==null&&m!=="/"&&(L.pathname=L.pathname==="/"?m:yi([m,L.pathname])),(v.replace?h.replace:h.push)(L,v.state,v)},[m,h,w,E,f])}F.createContext(null);function o2(){let{matches:f}=F.useContext(Ba),m=f[f.length-1];return m?m.params:{}}function Ts(f,{relative:m}={}){let{matches:h}=F.useContext(Ba),{pathname:b}=qa(),E=JSON.stringify(pf(h));return F.useMemo(()=>bf(f,JSON.parse(E),b,m==="path"),[f,E,b,m])}function c2(f,m){return Bh(f,m)}function Bh(f,m,h,b,E){var xe;Xt(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:w}=F.useContext(ca),{matches:T}=F.useContext(Ba),D=T[T.length-1],O=D?D.params:{},v=D?D.pathname:"/",L=D?D.pathnameBase:"/",I=D&&D.route;{let ae=I&&I.path||"";kh(v,!I||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let G=qa(),Y;if(m){let ae=typeof m=="string"?Lr(m):m;Xt(L==="/"||((xe=ae.pathname)==null?void 0:xe.startsWith(L)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${L}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),Y=ae}else Y=G;let oe=Y.pathname||"/",le=oe;if(L!=="/"){let ae=L.replace(/^\//,"").split("/");le="/"+oe.replace(/^\//,"").split("/").slice(ae.length).join("/")}let ie=vh(f,{pathname:le});Ca(I||ie!=null,`No routes matched location "${Y.pathname}${Y.search}${Y.hash}" `),Ca(ie==null||ie[ie.length-1].route.element!==void 0||ie[ie.length-1].route.Component!==void 0||ie[ie.length-1].route.lazy!==void 0,`Matched leaf route at location "${Y.pathname}${Y.search}${Y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let be=x2(ie&&ie.map(ae=>Object.assign({},ae,{params:Object.assign({},O,ae.params),pathname:yi([L,w.encodeLocation?w.encodeLocation(ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?L:yi([L,w.encodeLocation?w.encodeLocation(ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathnameBase])})),T,h,b,E);return m&&be?F.createElement(Ns.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Y},navigationType:"POP"}},be):be}function u2(){let f=y2(),m=Kg(f)?`${f.status} ${f.statusText}`:f instanceof Error?f.message:JSON.stringify(f),h=f instanceof Error?f.stack:null,b="rgba(200,200,200, 0.5)",E={padding:"0.5rem",backgroundColor:b},w={padding:"2px 4px",backgroundColor:b},T=null;return console.error("Error handled by React Router default ErrorBoundary:",f),T=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:w},"ErrorBoundary")," or"," ",F.createElement("code",{style:w},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},m),h?F.createElement("pre",{style:E},h):null,T)}var f2=F.createElement(u2,null),Lh=class extends F.Component{constructor(f){super(f),this.state={location:f.location,revalidation:f.revalidation,error:f.error}}static getDerivedStateFromError(f){return{error:f}}static getDerivedStateFromProps(f,m){return m.location!==f.location||m.revalidation!=="idle"&&f.revalidation==="idle"?{error:f.error,location:f.location,revalidation:f.revalidation}:{error:f.error!==void 0?f.error:m.error,location:m.location,revalidation:f.revalidation||m.revalidation}}componentDidCatch(f,m){this.props.onError?this.props.onError(f,m):console.error("React Router caught the following error during render",f)}render(){let f=this.state.error;if(this.context&&typeof f=="object"&&f&&"digest"in f&&typeof f.digest=="string"){const h=r2(f.digest);h&&(f=h)}let m=f!==void 0?F.createElement(Ba.Provider,{value:this.props.routeContext},F.createElement(yf.Provider,{value:f,children:this.props.component})):this.props.children;return this.context?F.createElement(d2,{error:f},m):m}};Lh.contextType=$g;var cf=new WeakMap;function d2({children:f,error:m}){let{basename:h}=F.useContext(ca);if(typeof m=="object"&&m&&"digest"in m&&typeof m.digest=="string"){let b=i2(m.digest);if(b){let E=cf.get(m);if(E)throw E;let w=_h(b.location,h);if(Th&&!cf.get(m))if(w.isExternal||b.reloadDocument)window.location.href=w.absoluteURL||w.to;else{const T=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(w.to,{replace:b.replace}));throw cf.set(m,T),T}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${w.absoluteURL||w.to}`})}}return f}function h2({routeContext:f,match:m,children:h}){let b=F.useContext(Cl);return b&&b.static&&b.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(b.staticContext._deepestRenderedBoundaryId=m.route.id),F.createElement(Ba.Provider,{value:f},h)}function x2(f,m=[],h=null,b=null,E=null){if(f==null){if(!h)return null;if(h.errors)f=h.matches;else if(m.length===0&&!h.initialized&&h.matches.length>0)f=h.matches;else return null}let w=f,T=h==null?void 0:h.errors;if(T!=null){let L=w.findIndex(I=>I.route.id&&(T==null?void 0:T[I.route.id])!==void 0);Xt(L>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(T).join(",")}`),w=w.slice(0,Math.min(w.length,L+1))}let D=!1,O=-1;if(h)for(let L=0;L<w.length;L++){let I=w[L];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(O=L),I.route.id){let{loaderData:G,errors:Y}=h,oe=I.route.loader&&!G.hasOwnProperty(I.route.id)&&(!Y||Y[I.route.id]===void 0);if(I.route.lazy||oe){D=!0,O>=0?w=w.slice(0,O+1):w=[w[0]];break}}}let v=h&&b?(L,I)=>{var G,Y;b(L,{location:h.location,params:((Y=(G=h.matches)==null?void 0:G[0])==null?void 0:Y.params)??{},unstable_pattern:Wg(h.matches),errorInfo:I})}:void 0;return w.reduceRight((L,I,G)=>{let Y,oe=!1,le=null,ie=null;h&&(Y=T&&I.route.id?T[I.route.id]:void 0,le=I.route.errorElement||f2,D&&(O<0&&G===0?(kh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),oe=!0,ie=null):O===G&&(oe=!0,ie=I.route.hydrateFallbackElement||null)));let be=m.concat(w.slice(0,G+1)),xe=()=>{let ae;return Y?ae=le:oe?ae=ie:I.route.Component?ae=F.createElement(I.route.Component,null):I.route.element?ae=I.route.element:ae=L,F.createElement(h2,{match:I,routeContext:{outlet:L,matches:be,isDataRoute:h!=null},children:ae})};return h&&(I.route.ErrorBoundary||I.route.errorElement||G===0)?F.createElement(Lh,{location:h.location,revalidation:h.revalidation,component:le,error:Y,children:xe(),routeContext:{outlet:null,matches:be,isDataRoute:!0},onError:v}):xe()},null)}function Ef(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(f){let m=F.useContext(Cl);return Xt(m,Ef(f)),m}function m2(f){let m=F.useContext(ac);return Xt(m,Ef(f)),m}function p2(f){let m=F.useContext(Ba);return Xt(m,Ef(f)),m}function Af(f){let m=p2(f),h=m.matches[m.matches.length-1];return Xt(h.route.id,`${f} can only be used on routes that contain a unique "id"`),h.route.id}function b2(){return Af("useRouteId")}function y2(){var b;let f=F.useContext(yf),m=m2("useRouteError"),h=Af("useRouteError");return f!==void 0?f:(b=m.errors)==null?void 0:b[h]}function w2(){let{router:f}=g2("useNavigate"),m=Af("useNavigate"),h=F.useRef(!1);return Mh(()=>{h.current=!0}),F.useCallback(async(E,w={})=>{Ca(h.current,Dh),h.current&&(typeof E=="number"?await f.navigate(E):await f.navigate(E,{fromRouteId:m,...w}))},[f,m])}var Vd={};function kh(f,m,h){!m&&!Vd[f]&&(Vd[f]=!0,Ca(!1,h))}F.memo(E2);function E2({routes:f,future:m,state:h,onError:b}){return Bh(f,void 0,h,b,m)}function lr({to:f,replace:m,state:h,relative:b}){Xt(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:E}=F.useContext(ca);Ca(!E,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:w}=F.useContext(Ba),{pathname:T}=qa(),D=wf(),O=bf(f,pf(w),T,b==="path"),v=JSON.stringify(O);return F.useEffect(()=>{D(JSON.parse(v),{replace:m,state:h,relative:b})},[D,v,b,m,h]),null}function pi(f){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A2({basename:f="/",children:m=null,location:h,navigationType:b="POP",navigator:E,static:w=!1,unstable_useTransitions:T}){Xt(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let D=f.replace(/^\/*/,"/"),O=F.useMemo(()=>({basename:D,navigator:E,static:w,unstable_useTransitions:T,future:{}}),[D,E,w,T]);typeof h=="string"&&(h=Lr(h));let{pathname:v="/",search:L="",hash:I="",state:G=null,key:Y="default"}=h,oe=F.useMemo(()=>{let le=wi(v,D);return le==null?null:{location:{pathname:le,search:L,hash:I,state:G,key:Y},navigationType:b}},[D,v,L,I,G,Y,b]);return Ca(oe!=null,`<Router basename="${D}"> is not able to match the URL "${v}${L}${I}" because it does not start with the basename, so the <Router> won't render anything.`),oe==null?null:F.createElement(ca.Provider,{value:O},F.createElement(Ns.Provider,{children:m,value:oe}))}function C2({children:f,location:m}){return c2(df(f),m)}function df(f,m=[]){let h=[];return F.Children.forEach(f,(b,E)=>{if(!F.isValidElement(b))return;let w=[...m,E];if(b.type===F.Fragment){h.push.apply(h,df(b.props.children,w));return}Xt(b.type===pi,`[${typeof b.type=="string"?b.type:b.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!b.props.index||!b.props.children,"An index route cannot have child routes.");let T={id:b.props.id||w.join("-"),caseSensitive:b.props.caseSensitive,element:b.props.element,Component:b.props.Component,index:b.props.index,path:b.props.path,middleware:b.props.middleware,loader:b.props.loader,action:b.props.action,hydrateFallbackElement:b.props.hydrateFallbackElement,HydrateFallback:b.props.HydrateFallback,errorElement:b.props.errorElement,ErrorBoundary:b.props.ErrorBoundary,hasErrorBoundary:b.props.hasErrorBoundary===!0||b.props.ErrorBoundary!=null||b.props.errorElement!=null,shouldRevalidate:b.props.shouldRevalidate,handle:b.props.handle,lazy:b.props.lazy};b.props.children&&(T.children=df(b.props.children,w)),h.push(T)}),h}var Ko="get",Wo="application/x-www-form-urlencoded";function ic(f){return typeof HTMLElement<"u"&&f instanceof HTMLElement}function v2(f){return ic(f)&&f.tagName.toLowerCase()==="button"}function S2(f){return ic(f)&&f.tagName.toLowerCase()==="form"}function N2(f){return ic(f)&&f.tagName.toLowerCase()==="input"}function T2(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function _2(f,m){return f.button===0&&(!m||m==="_self")&&!T2(f)}var Qo=null;function R2(){if(Qo===null)try{new FormData(document.createElement("form"),0),Qo=!1}catch{Qo=!0}return Qo}var O2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uf(f){return f!=null&&!O2.has(f)?(Ca(!1,`"${f}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wo}"`),null):f}function I2(f,m){let h,b,E,w,T;if(S2(f)){let D=f.getAttribute("action");b=D?wi(D,m):null,h=f.getAttribute("method")||Ko,E=uf(f.getAttribute("enctype"))||Wo,w=new FormData(f)}else if(v2(f)||N2(f)&&(f.type==="submit"||f.type==="image")){let D=f.form;if(D==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let O=f.getAttribute("formaction")||D.getAttribute("action");if(b=O?wi(O,m):null,h=f.getAttribute("formmethod")||D.getAttribute("method")||Ko,E=uf(f.getAttribute("formenctype"))||uf(D.getAttribute("enctype"))||Wo,w=new FormData(D,f),!R2()){let{name:v,type:L,value:I}=f;if(L==="image"){let G=v?`${v}.`:"";w.append(`${G}x`,"0"),w.append(`${G}y`,"0")}else v&&w.append(v,I)}}else{if(ic(f))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');h=Ko,b=null,E=Wo,T=f}return w&&E==="text/plain"&&(T=w,w=void 0),{action:b,method:h.toLowerCase(),encType:E,formData:w,body:T}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cf(f,m){if(f===!1||f===null||typeof f>"u")throw new Error(m)}function D2(f,m,h,b){let E=typeof f=="string"?new URL(f,typeof window>"u"?"server://singlefetch/":window.location.origin):f;return h?E.pathname.endsWith("/")?E.pathname=`${E.pathname}_.${b}`:E.pathname=`${E.pathname}.${b}`:E.pathname==="/"?E.pathname=`_root.${b}`:m&&wi(E.pathname,m)==="/"?E.pathname=`${m.replace(/\/$/,"")}/_root.${b}`:E.pathname=`${E.pathname.replace(/\/$/,"")}.${b}`,E}async function M2(f,m){if(f.id in m)return m[f.id];try{let h=await import(f.module);return m[f.id]=h,h}catch(h){return console.error(`Error loading route module \`${f.module}\`, reloading page...`),console.error(h),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B2(f){return f==null?!1:f.href==null?f.rel==="preload"&&typeof f.imageSrcSet=="string"&&typeof f.imageSizes=="string":typeof f.rel=="string"&&typeof f.href=="string"}async function L2(f,m,h){let b=await Promise.all(f.map(async E=>{let w=m.routes[E.route.id];if(w){let T=await M2(w,h);return T.links?T.links():[]}return[]}));return F2(b.flat(1).filter(B2).filter(E=>E.rel==="stylesheet"||E.rel==="preload").map(E=>E.rel==="stylesheet"?{...E,rel:"prefetch",as:"style"}:{...E,rel:"prefetch"}))}function Xd(f,m,h,b,E,w){let T=(O,v)=>h[v]?O.route.id!==h[v].route.id:!0,D=(O,v)=>{var L;return h[v].pathname!==O.pathname||((L=h[v].route.path)==null?void 0:L.endsWith("*"))&&h[v].params["*"]!==O.params["*"]};return w==="assets"?m.filter((O,v)=>T(O,v)||D(O,v)):w==="data"?m.filter((O,v)=>{var I;let L=b.routes[O.route.id];if(!L||!L.hasLoader)return!1;if(T(O,v)||D(O,v))return!0;if(O.route.shouldRevalidate){let G=O.route.shouldRevalidate({currentUrl:new URL(E.pathname+E.search+E.hash,window.origin),currentParams:((I=h[0])==null?void 0:I.params)||{},nextUrl:new URL(f,window.origin),nextParams:O.params,defaultShouldRevalidate:!0});if(typeof G=="boolean")return G}return!0}):[]}function k2(f,m,{includeHydrateFallback:h}={}){return j2(f.map(b=>{let E=m.routes[b.route.id];if(!E)return[];let w=[E.module];return E.clientActionModule&&(w=w.concat(E.clientActionModule)),E.clientLoaderModule&&(w=w.concat(E.clientLoaderModule)),h&&E.hydrateFallbackModule&&(w=w.concat(E.hydrateFallbackModule)),E.imports&&(w=w.concat(E.imports)),w}).flat(1))}function j2(f){return[...new Set(f)]}function U2(f){let m={},h=Object.keys(f).sort();for(let b of h)m[b]=f[b];return m}function F2(f,m){let h=new Set;return new Set(m),f.reduce((b,E)=>{let w=JSON.stringify(U2(E));return h.has(w)||(h.add(w),b.push({key:w,link:E})),b},[])}function jh(){let f=F.useContext(Cl);return Cf(f,"You must render this element inside a <DataRouterContext.Provider> element"),f}function z2(){let f=F.useContext(ac);return Cf(f,"You must render this element inside a <DataRouterStateContext.Provider> element"),f}var vf=F.createContext(void 0);vf.displayName="FrameworkContext";function Uh(){let f=F.useContext(vf);return Cf(f,"You must render this element inside a <HydratedRouter> element"),f}function H2(f,m){let h=F.useContext(vf),[b,E]=F.useState(!1),[w,T]=F.useState(!1),{onFocus:D,onBlur:O,onMouseEnter:v,onMouseLeave:L,onTouchStart:I}=m,G=F.useRef(null);F.useEffect(()=>{if(f==="render"&&T(!0),f==="viewport"){let le=be=>{be.forEach(xe=>{T(xe.isIntersecting)})},ie=new IntersectionObserver(le,{threshold:.5});return G.current&&ie.observe(G.current),()=>{ie.disconnect()}}},[f]),F.useEffect(()=>{if(b){let le=setTimeout(()=>{T(!0)},100);return()=>{clearTimeout(le)}}},[b]);let Y=()=>{E(!0)},oe=()=>{E(!1),T(!1)};return h?f!=="intent"?[w,G,{}]:[w,G,{onFocus:ws(D,Y),onBlur:ws(O,oe),onMouseEnter:ws(v,Y),onMouseLeave:ws(L,oe),onTouchStart:ws(I,Y)}]:[!1,G,{}]}function ws(f,m){return h=>{f&&f(h),h.defaultPrevented||m(h)}}function P2({page:f,...m}){let{router:h}=jh(),b=F.useMemo(()=>vh(h.routes,f,h.basename),[h.routes,f,h.basename]);return b?F.createElement(V2,{page:f,matches:b,...m}):null}function G2(f){let{manifest:m,routeModules:h}=Uh(),[b,E]=F.useState([]);return F.useEffect(()=>{let w=!1;return L2(f,m,h).then(T=>{w||E(T)}),()=>{w=!0}},[f,m,h]),b}function V2({page:f,matches:m,...h}){let b=qa(),{future:E,manifest:w,routeModules:T}=Uh(),{basename:D}=jh(),{loaderData:O,matches:v}=z2(),L=F.useMemo(()=>Xd(f,m,v,w,b,"data"),[f,m,v,w,b]),I=F.useMemo(()=>Xd(f,m,v,w,b,"assets"),[f,m,v,w,b]),G=F.useMemo(()=>{if(f===b.pathname+b.search+b.hash)return[];let le=new Set,ie=!1;if(m.forEach(xe=>{var Ee;let ae=w.routes[xe.route.id];!ae||!ae.hasLoader||(!L.some(Re=>Re.route.id===xe.route.id)&&xe.route.id in O&&((Ee=T[xe.route.id])!=null&&Ee.shouldRevalidate)||ae.hasClientLoader?ie=!0:le.add(xe.route.id))}),le.size===0)return[];let be=D2(f,D,E.unstable_trailingSlashAwareDataRequests,"data");return ie&&le.size>0&&be.searchParams.set("_routes",m.filter(xe=>le.has(xe.route.id)).map(xe=>xe.route.id).join(",")),[be.pathname+be.search]},[D,E.unstable_trailingSlashAwareDataRequests,O,b,w,L,m,f,T]),Y=F.useMemo(()=>k2(I,w),[I,w]),oe=G2(I);return F.createElement(F.Fragment,null,G.map(le=>F.createElement("link",{key:le,rel:"prefetch",as:"fetch",href:le,...h})),Y.map(le=>F.createElement("link",{key:le,rel:"modulepreload",href:le,...h})),oe.map(({key:le,link:ie})=>F.createElement("link",{key:le,nonce:h.nonce,...ie,crossOrigin:ie.crossOrigin??h.crossOrigin})))}function X2(...f){return m=>{f.forEach(h=>{typeof h=="function"?h(m):h!=null&&(h.current=m)})}}var Y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y2&&(window.__reactRouterVersion="7.13.0")}catch{}function q2({basename:f,children:m,unstable_useTransitions:h,window:b}){let E=F.useRef();E.current==null&&(E.current=Ng({window:b,v5Compat:!0}));let w=E.current,[T,D]=F.useState({action:w.action,location:w.location}),O=F.useCallback(v=>{h===!1?D(v):F.startTransition(()=>D(v))},[h]);return F.useLayoutEffect(()=>w.listen(O),[w,O]),F.createElement(A2,{basename:f,children:m,location:T.location,navigationType:T.action,navigator:w,unstable_useTransitions:h})}var Fh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zh=F.forwardRef(function({onClick:m,discover:h="render",prefetch:b="none",relative:E,reloadDocument:w,replace:T,state:D,target:O,to:v,preventScrollReset:L,viewTransition:I,unstable_defaultShouldRevalidate:G,...Y},oe){let{basename:le,unstable_useTransitions:ie}=F.useContext(ca),be=typeof v=="string"&&Fh.test(v),xe=_h(v,le);v=xe.to;let ae=l2(v,{relative:E}),[Ee,Re,Ie]=H2(b,Y),ee=W2(v,{replace:T,state:D,target:O,preventScrollReset:L,relative:E,viewTransition:I,unstable_defaultShouldRevalidate:G,unstable_useTransitions:ie});function Ce(Me){m&&m(Me),Me.defaultPrevented||ee(Me)}let ue=F.createElement("a",{...Y,...Ie,href:xe.absoluteURL||ae,onClick:xe.isExternal||w?m:Ce,ref:X2(oe,Re),target:O,"data-discover":!be&&h==="render"?"true":void 0});return Ee&&!be?F.createElement(F.Fragment,null,ue,F.createElement(P2,{page:ae})):ue});zh.displayName="Link";var Z2=F.forwardRef(function({"aria-current":m="page",caseSensitive:h=!1,className:b="",end:E=!1,style:w,to:T,viewTransition:D,children:O,...v},L){let I=Ts(T,{relative:v.relative}),G=qa(),Y=F.useContext(ac),{navigator:oe,basename:le}=F.useContext(ca),ie=Y!=null&&nm(I)&&D===!0,be=oe.encodeLocation?oe.encodeLocation(I).pathname:I.pathname,xe=G.pathname,ae=Y&&Y.navigation&&Y.navigation.location?Y.navigation.location.pathname:null;h||(xe=xe.toLowerCase(),ae=ae?ae.toLowerCase():null,be=be.toLowerCase()),ae&&le&&(ae=wi(ae,le)||ae);const Ee=be!=="/"&&be.endsWith("/")?be.length-1:be.length;let Re=xe===be||!E&&xe.startsWith(be)&&xe.charAt(Ee)==="/",Ie=ae!=null&&(ae===be||!E&&ae.startsWith(be)&&ae.charAt(be.length)==="/"),ee={isActive:Re,isPending:Ie,isTransitioning:ie},Ce=Re?m:void 0,ue;typeof b=="function"?ue=b(ee):ue=[b,Re?"active":null,Ie?"pending":null,ie?"transitioning":null].filter(Boolean).join(" ");let Me=typeof w=="function"?w(ee):w;return F.createElement(zh,{...v,"aria-current":Ce,className:ue,ref:L,style:Me,to:T,viewTransition:D},typeof O=="function"?O(ee):O)});Z2.displayName="NavLink";var Q2=F.forwardRef(({discover:f="render",fetcherKey:m,navigate:h,reloadDocument:b,replace:E,state:w,method:T=Ko,action:D,onSubmit:O,relative:v,preventScrollReset:L,viewTransition:I,unstable_defaultShouldRevalidate:G,...Y},oe)=>{let{unstable_useTransitions:le}=F.useContext(ca),ie=em(),be=tm(D,{relative:v}),xe=T.toLowerCase()==="get"?"get":"post",ae=typeof D=="string"&&Fh.test(D),Ee=Re=>{if(O&&O(Re),Re.defaultPrevented)return;Re.preventDefault();let Ie=Re.nativeEvent.submitter,ee=(Ie==null?void 0:Ie.getAttribute("formmethod"))||T,Ce=()=>ie(Ie||Re.currentTarget,{fetcherKey:m,method:ee,navigate:h,replace:E,state:w,relative:v,preventScrollReset:L,viewTransition:I,unstable_defaultShouldRevalidate:G});le&&h!==!1?F.startTransition(()=>Ce()):Ce()};return F.createElement("form",{ref:oe,method:xe,action:be,onSubmit:b?O:Ee,...Y,"data-discover":!ae&&f==="render"?"true":void 0})});Q2.displayName="Form";function K2(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hh(f){let m=F.useContext(Cl);return Xt(m,K2(f)),m}function W2(f,{target:m,replace:h,state:b,preventScrollReset:E,relative:w,viewTransition:T,unstable_defaultShouldRevalidate:D,unstable_useTransitions:O}={}){let v=wf(),L=qa(),I=Ts(f,{relative:w});return F.useCallback(G=>{if(_2(G,m)){G.preventDefault();let Y=h!==void 0?h:Cs(L)===Cs(I),oe=()=>v(f,{replace:Y,state:b,preventScrollReset:E,relative:w,viewTransition:T,unstable_defaultShouldRevalidate:D});O?F.startTransition(()=>oe()):oe()}},[L,v,I,h,b,m,f,E,w,T,D,O])}var J2=0,$2=()=>`__${String(++J2)}__`;function em(){let{router:f}=Hh("useSubmit"),{basename:m}=F.useContext(ca),h=b2(),b=f.fetch,E=f.navigate;return F.useCallback(async(w,T={})=>{let{action:D,method:O,encType:v,formData:L,body:I}=I2(w,m);if(T.navigate===!1){let G=T.fetcherKey||$2();await b(G,h,T.action||D,{unstable_defaultShouldRevalidate:T.unstable_defaultShouldRevalidate,preventScrollReset:T.preventScrollReset,formData:L,body:I,formMethod:T.method||O,formEncType:T.encType||v,flushSync:T.flushSync})}else await E(T.action||D,{unstable_defaultShouldRevalidate:T.unstable_defaultShouldRevalidate,preventScrollReset:T.preventScrollReset,formData:L,body:I,formMethod:T.method||O,formEncType:T.encType||v,replace:T.replace,state:T.state,fromRouteId:h,flushSync:T.flushSync,viewTransition:T.viewTransition})},[b,E,m,h])}function tm(f,{relative:m}={}){let{basename:h}=F.useContext(ca),b=F.useContext(Ba);Xt(b,"useFormAction must be used inside a RouteContext");let[E]=b.matches.slice(-1),w={...Ts(f||".",{relative:m})},T=qa();if(f==null){w.search=T.search;let D=new URLSearchParams(w.search),O=D.getAll("index");if(O.some(L=>L==="")){D.delete("index"),O.filter(I=>I).forEach(I=>D.append("index",I));let L=D.toString();w.search=L?`?${L}`:""}}return(!f||f===".")&&E.route.index&&(w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index"),h!=="/"&&(w.pathname=w.pathname==="/"?h:yi([h,w.pathname])),Cs(w)}function nm(f,{relative:m}={}){let h=F.useContext(Oh);Xt(h!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:b}=Hh("useViewTransitionState"),E=Ts(f,{relative:m});if(!h.isTransitioning)return!1;let w=wi(h.currentLocation.pathname,b)||h.currentLocation.pathname,T=wi(h.nextLocation.pathname,b)||h.nextLocation.pathname;return $o(E.pathname,T)!=null||$o(E.pathname,w)!=null}const hf={id:"user-1",name:"Alex Smith",registrationId:"2024-STUD-8821",department:"Computer Science",year:3,semester:4,regulation:"R-2021",avatarInitial:"AS"},am=[{id:"subj-1",name:"Quantum Physics I",code:"PHY-301",regulation:"R-2021"},{id:"subj-2",name:"Advanced Calculus",code:"MAT-402",regulation:"R-2021"},{id:"subj-3",name:"European History",code:"HIS-210",regulation:"R-2020"},{id:"subj-4",name:"Machine Learning",code:"CS-450",regulation:"R-2021"}],Ph="acadintel.profile",Yd=f=>{const m=f.trim().split(/\s+/).filter(Boolean);return m.length===0?"":m.slice(0,2).map(h=>{var b;return((b=h[0])==null?void 0:b.toUpperCase())??""}).join("")},im=()=>{try{const f=localStorage.getItem(Ph);return f?JSON.parse(f):null}catch{return null}},qd=()=>{const f=im();return f?{...hf,...f}:hf},Ei=F.createContext(null),rm=({children:f})=>{const[m,h]=F.useState(!1),[b,E]=F.useState(null),[w,T]=F.useState(am),[D,O]=F.useState(()=>localStorage.getItem("theme")||"dark");F.useEffect(()=>{const ie=window.document.documentElement;D==="dark"?(ie.classList.add("dark"),ie.classList.remove("light")):(ie.classList.remove("dark"),ie.classList.add("light")),localStorage.setItem("theme",D)},[D]);const le={isAuthenticated:m,user:b,subjects:w,theme:D,login:(ie,be)=>{const xe=/^211724(00[1-9])(\d{4})$/,ae=ie.match(xe);if(ae){const Ee=ae[1],Re=parseInt(ae[2],10);if(Re<1||Re>500)return!1;const ee={"001":"CCE","002":"CSE","003":"CSE(AIML)","004":"ECE","005":"VLSI","006":"MECH","007":"AIDS","008":"CSBS","009":"BT"}[Ee];if(!ee)return!1;const Me=2024-2021+1,We=(be==null?void 0:be.trim())||"AcadIntel_User",ve={id:`user-${Date.now()}`,name:We,registrationId:ie,department:ee,year:Me,semester:4,regulation:"R-2021",avatarInitial:Yd(We),avatarUrl:qd().avatarUrl};return h(!0),E(ve),!0}return ie===hf.registrationId?(h(!0),E(qd()),!0):!1},logout:()=>{h(!1),E(null),window.location.hash="/login"},updateProfile:ie=>{if(!b)return;const be={...b,...ie,avatarInitial:ie.name&&Yd(ie.name)||b.avatarInitial};E(be);try{const{name:xe,avatarInitial:ae,avatarUrl:Ee,department:Re,year:Ie,semester:ee,regulation:Ce}=be;localStorage.setItem(Ph,JSON.stringify({name:xe,avatarInitial:ae,avatarUrl:Ee,department:Re,year:Ie,semester:ee,regulation:Ce}))}catch{}},addSubject:ie=>{const be={id:`subj-${Date.now()}`,...ie};T(xe=>[be,...xe])},deleteSubject:ie=>{T(be=>be.filter(xe=>xe.id!==ie))},setTheme:ie=>{O(ie)}};return y.jsx(Ei.Provider,{value:le,children:f})};var Ne;(function(f){f[f.QR_CODE=0]="QR_CODE",f[f.AZTEC=1]="AZTEC",f[f.CODABAR=2]="CODABAR",f[f.CODE_39=3]="CODE_39",f[f.CODE_93=4]="CODE_93",f[f.CODE_128=5]="CODE_128",f[f.DATA_MATRIX=6]="DATA_MATRIX",f[f.MAXICODE=7]="MAXICODE",f[f.ITF=8]="ITF",f[f.EAN_13=9]="EAN_13",f[f.EAN_8=10]="EAN_8",f[f.PDF_417=11]="PDF_417",f[f.RSS_14=12]="RSS_14",f[f.RSS_EXPANDED=13]="RSS_EXPANDED",f[f.UPC_A=14]="UPC_A",f[f.UPC_E=15]="UPC_E",f[f.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var Zd=new Map([[Ne.QR_CODE,"QR_CODE"],[Ne.AZTEC,"AZTEC"],[Ne.CODABAR,"CODABAR"],[Ne.CODE_39,"CODE_39"],[Ne.CODE_93,"CODE_93"],[Ne.CODE_128,"CODE_128"],[Ne.DATA_MATRIX,"DATA_MATRIX"],[Ne.MAXICODE,"MAXICODE"],[Ne.ITF,"ITF"],[Ne.EAN_13,"EAN_13"],[Ne.EAN_8,"EAN_8"],[Ne.PDF_417,"PDF_417"],[Ne.RSS_14,"RSS_14"],[Ne.RSS_EXPANDED,"RSS_EXPANDED"],[Ne.UPC_A,"UPC_A"],[Ne.UPC_E,"UPC_E"],[Ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Qd;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.URL=1]="URL"})(Qd||(Qd={}));function lm(f){return Object.values(Ne).includes(f)}var ec;(function(f){f[f.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",f[f.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ec||(ec={}));var sm=(function(){function f(){}return f.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",f.SCAN_DEFAULT_FPS=2,f.DEFAULT_DISABLE_FLIP=!1,f.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,f.DEFAULT_SUPPORTED_SCAN_TYPE=[ec.SCAN_TYPE_CAMERA,ec.SCAN_TYPE_FILE],f})(),Gh=(function(){function f(m,h){this.format=m,this.formatName=h}return f.prototype.toString=function(){return this.formatName},f.create=function(m){if(!Zd.has(m))throw"".concat(m," not in html5QrcodeSupportedFormatsTextMap");return new f(m,Zd.get(m))},f})(),Kd=(function(){function f(){}return f.createFromText=function(m){var h={text:m};return{decodedText:m,result:h}},f.createFromQrcodeResult=function(m){return{decodedText:m.text,result:m}},f})(),xf;(function(f){f[f.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",f[f.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",f[f.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(xf||(xf={}));var om=(function(){function f(){}return f.createFrom=function(m){return{errorMessage:m,type:xf.UNKWOWN_ERROR}},f})(),cm=(function(){function f(m){this.verbose=m}return f.prototype.log=function(m){this.verbose&&console.log(m)},f.prototype.warn=function(m){this.verbose&&console.warn(m)},f.prototype.logError=function(m,h){(this.verbose||h===!0)&&console.error(m)},f.prototype.logErrors=function(m){if(m.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(m)},f})();function bi(f){return typeof f>"u"||f===null}var Al=(function(){function f(){}return f.codeParseError=function(m){return"QR code parse error, error = ".concat(m)},f.errorGettingUserMedia=function(m){return"Error getting userMedia, error = ".concat(m)},f.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},f.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},f.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},f.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},f.scannerPaused=function(){return"Scanner paused"},f})(),Vh=(function(){function f(){}return f.isMediaStreamConstraintsValid=function(m,h){if(typeof m!="object"){var b=typeof m;return h.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(b,"."),!0),!1}for(var E=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(E),T=Object.keys(m),D=0,O=T;D<O.length;D++){var v=O[D];if(w.has(v))return h.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},f})(),Es={exports:{}},um=Es.exports,Wd;function fm(){return Wd||(Wd=1,(function(f,m){(function(h,b){b(m)})(um,(function(h){function b(S){return S==null}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var a in t)t.hasOwnProperty(a)&&(S[a]=t[a])};function w(S,t){E(S,t);function a(){this.constructor=S}S.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function T(S,t){var a=Object.setPrototypeOf;a?a(S,t):S.__proto__=t}function D(S,t){t===void 0&&(t=S.constructor);var a=Error.captureStackTrace;a&&a(S,t)}var O=(function(S){w(t,S);function t(a){var i=this.constructor,l=S.call(this,a)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),T(l,i.prototype),D(l),l}return t})(Error);class v extends O{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}v.kind="Exception";class L extends v{}L.kind="ArgumentException";class I extends v{}I.kind="IllegalArgumentException";class G{constructor(t){if(this.binarizer=t,t===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,i,l){const s=this.binarizer.getLuminanceSource().crop(t,a,i,l);return new G(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new G(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new G(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Y extends v{static getChecksumInstance(){return new Y}}Y.kind="ChecksumException";class oe{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class le{static arraycopy(t,a,i,l,s){for(;s--;)i[l++]=t[a++]}static currentTimeMillis(){return Date.now()}}class ie extends v{}ie.kind="IndexOutOfBoundsException";class be extends ie{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}be.kind="ArrayIndexOutOfBoundsException";class xe{static fill(t,a){for(let i=0,l=t.length;i<l;i++)t[i]=a}static fillWithin(t,a,i,l){xe.rangeCheck(t.length,a,i);for(let s=a;s<i;s++)t[s]=l}static rangeCheck(t,a,i){if(a>i)throw new I("fromIndex("+a+") > toIndex("+i+")");if(a<0)throw new be(a);if(i>t)throw new be(i)}static asList(...t){return t}static create(t,a,i){return Array.from({length:t}).map(s=>Array.from({length:a}).fill(i))}static createInt32Array(t,a,i){return Array.from({length:t}).map(s=>Int32Array.from({length:a}).fill(i))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let i=0,l=t.length;i<l;i++)if(t[i]!==a[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const i of t)a=31*a+i;return a}static fillUint8Array(t,a){for(let i=0;i!==t.length;i++)t[i]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const i=new Uint8Array(a);return i.set(t),i}return t.slice(0,a)}static copyOfRange(t,a,i){const l=i-a,s=new Int32Array(l);return le.arraycopy(t,a,s,0,l),s}static binarySearch(t,a,i){i===void 0&&(i=xe.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const c=s+l>>1,u=i(a,t[c]);if(u>0)l=c+1;else if(u<0)s=c-1;else return c}return-l-1}static numberComparator(t,a){return t-a}}class ae{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let i=31;return a=t<<16,a!==0&&(i-=16,t=a),a=t<<8,a!==0&&(i-=8,t=a),a=t<<4,a!==0&&(i-=4,t=a),a=t<<2,a!==0&&(i-=2,t=a),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}ae.MIN_VALUE_32_BITS=-2147483648,ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ee{constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=Ee.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=Ee.makeArray(t);le.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const i=this.bits;let l=Math.floor(t/32),s=i[l];s&=~((1<<(t&31))-1);const c=i.length;for(;s===0;){if(++l===c)return a;s=i[l]}const u=l*32+ae.numberOfTrailingZeros(s);return u>a?a:u}getNextUnset(t){const a=this.size;if(t>=a)return a;const i=this.bits;let l=Math.floor(t/32),s=~i[l];s&=~((1<<(t&31))-1);const c=i.length;for(;s===0;){if(++l===c)return a;s=~i[l]}const u=l*32+ae.numberOfTrailingZeros(s);return u>a?a:u}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new I;if(a===t)return;a--;const i=Math.floor(t/32),l=Math.floor(a/32),s=this.bits;for(let c=i;c<=l;c++){const u=c>i?0:t&31,p=(2<<(c<l?31:a&31))-(1<<u);s[c]|=p}}clear(){const t=this.bits.length,a=this.bits;for(let i=0;i<t;i++)a[i]=0}isRange(t,a,i){if(a<t||t<0||a>this.size)throw new I;if(a===t)return!0;a--;const l=Math.floor(t/32),s=Math.floor(a/32),c=this.bits;for(let u=l;u<=s;u++){const x=u>l?0:t&31,A=(2<<(u<s?31:a&31))-(1<<x)&4294967295;if((c[u]&A)!==(i?A:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let i=a;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let i=0;i<a;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new I("Sizes don't match");const a=this.bits;for(let i=0,l=a.length;i<l;i++)a[i]^=t.bits[i]}toBytes(t,a,i,l){for(let s=0;s<l;s++){let c=0;for(let u=0;u<8;u++)this.get(t)&&(c|=1<<7-u),t++;a[i+s]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),i=a+1,l=this.bits;for(let s=0;s<i;s++){let c=l[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[a-s]=c}if(this.size!==i*32){const s=i*32-this.size;let c=t[0]>>>s;for(let u=1;u<i;u++){const x=t[u];c|=x<<32-s,t[u-1]=c,c=x>>>s}t[i-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Ee))return!1;const a=t;return this.size===a.size&&xe.equals(this.bits,a.bits)}hashCode(){return 31*this.size+xe.hashCode(this.bits)}toString(){let t="";for(let a=0,i=this.size;a<i;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new Ee(this.size,this.bits.slice())}}var Re;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Re||(Re={}));var Ie=Re;class ee extends v{static getFormatInstance(){return new ee}}ee.kind="FormatException";var Ce;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(Ce||(Ce={}));class ue{constructor(t,a,i,...l){this.valueIdentifier=t,this.name=i,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=l,ue.VALUE_IDENTIFIER_TO_ECI.set(t,this),ue.NAME_TO_ECI.set(i,this);const s=this.values;for(let c=0,u=s.length;c!==u;c++){const x=s[c];ue.VALUES_TO_ECI.set(x,this)}for(const c of l)ue.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ee("incorect value");const a=ue.VALUES_TO_ECI.get(t);if(a===void 0)throw new ee("incorect value");return a}static getCharacterSetECIByName(t){const a=ue.NAME_TO_ECI.get(t);if(a===void 0)throw new ee("incorect value");return a}equals(t){if(!(t instanceof ue))return!1;const a=t;return this.getName()===a.getName()}}ue.VALUE_IDENTIFIER_TO_ECI=new Map,ue.VALUES_TO_ECI=new Map,ue.NAME_TO_ECI=new Map,ue.Cp437=new ue(Ce.Cp437,Int32Array.from([0,2]),"Cp437"),ue.ISO8859_1=new ue(Ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ue.ISO8859_2=new ue(Ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ue.ISO8859_3=new ue(Ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ue.ISO8859_4=new ue(Ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ue.ISO8859_5=new ue(Ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ue.ISO8859_6=new ue(Ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ue.ISO8859_7=new ue(Ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ue.ISO8859_8=new ue(Ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ue.ISO8859_9=new ue(Ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ue.ISO8859_10=new ue(Ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ue.ISO8859_11=new ue(Ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ue.ISO8859_13=new ue(Ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ue.ISO8859_14=new ue(Ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ue.ISO8859_15=new ue(Ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ue.ISO8859_16=new ue(Ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ue.SJIS=new ue(Ce.SJIS,20,"SJIS","Shift_JIS"),ue.Cp1250=new ue(Ce.Cp1250,21,"Cp1250","windows-1250"),ue.Cp1251=new ue(Ce.Cp1251,22,"Cp1251","windows-1251"),ue.Cp1252=new ue(Ce.Cp1252,23,"Cp1252","windows-1252"),ue.Cp1256=new ue(Ce.Cp1256,24,"Cp1256","windows-1256"),ue.UnicodeBigUnmarked=new ue(Ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ue.UTF8=new ue(Ce.UTF8,26,"UTF8","UTF-8"),ue.ASCII=new ue(Ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ue.Big5=new ue(Ce.Big5,28,"Big5"),ue.GB18030=new ue(Ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ue.EUC_KR=new ue(Ce.EUC_KR,30,"EUC_KR","EUC-KR");class Me extends v{}Me.kind="UnsupportedOperationException";class We{static decode(t,a){const i=this.encodingName(a);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!We.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const i=this.encodingName(a);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ue?t:ue.getCharacterSetECIByName(t)}static decodeFallback(t,a){const i=this.encodingCharacterSet(a);if(We.isDecodeFallbackSupported(i)){let l="";for(let s=0,c=t.length;s<c;s++){let u=t[s].toString(16);u.length<2&&(u="0"+u),l+="%"+u}return decodeURIComponent(l)}if(i.equals(ue.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Me(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ue.UTF8)||t.equals(ue.ISO8859_1)||t.equals(ue.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<i.length;s++)l.push(i[s].charCodeAt(0));return new Uint8Array(l)}}class ve{static castAsNonUtf8Char(t,a=null){const i=a?a.getName():this.ISO88591;return We.decode(new Uint8Array([t]),i)}static guessEncoding(t,a){if(a!=null&&a.get(Ie.CHARACTER_SET)!==void 0)return a.get(Ie.CHARACTER_SET).toString();const i=t.length;let l=!0,s=!0,c=!0,u=0,x=0,p=0,A=0,N=0,_=0,B=0,j=0,U=0,V=0,W=0;const me=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ge=0;ge<i&&(l||s||c);ge++){const he=t[ge]&255;c&&(u>0?(he&128)===0?c=!1:u--:(he&128)!==0&&((he&64)===0?c=!1:(u++,(he&32)===0?x++:(u++,(he&16)===0?p++:(u++,(he&8)===0?A++:c=!1))))),l&&(he>127&&he<160?l=!1:he>159&&(he<192||he===215||he===247)&&W++),s&&(N>0?he<64||he===127||he>252?s=!1:N--:he===128||he===160||he>239?s=!1:he>160&&he<224?(_++,j=0,B++,B>U&&(U=B)):he>127?(N++,B=0,j++,j>V&&(V=j)):(B=0,j=0))}return c&&u>0&&(c=!1),s&&N>0&&(s=!1),c&&(me||x+p+A>0)?ve.UTF8:s&&(ve.ASSUME_SHIFT_JIS||U>=3||V>=3)?ve.SHIFT_JIS:l&&s?U===2&&_===2||W*10>=i?ve.SHIFT_JIS:ve.ISO88591:l?ve.ISO88591:s?ve.SHIFT_JIS:c?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let i=-1;function l(c,u,x,p,A,N){if(c==="%%")return"%";if(a[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let _=A?parseInt(A.substr(1)):void 0,B;switch(N){case"s":B=a[i];break;case"c":B=a[i][0];break;case"f":B=parseFloat(a[i]).toFixed(c);break;case"p":B=parseFloat(a[i]).toPrecision(c);break;case"e":B=parseFloat(a[i]).toExponential(c);break;case"x":B=parseInt(a[i]).toString(_||16);break;case"d":B=parseFloat(parseInt(a[i],_||10).toPrecision(c)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(_);let j=parseInt(x),U=x&&x[0]+""=="0"?"0":" ";for(;B.length<j;)B=u!==void 0?B+U:U+B;return B}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,a){return We.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}ve.SHIFT_JIS=ue.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=ue.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=ue.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Qe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,i){for(let l=a;a<a+i;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class xt{constructor(t,a,i,l){if(this.width=t,this.height=a,this.rowSize=i,this.bits=l,a==null&&(a=t),this.height=a,t<1||a<1)throw new I("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,i=t[0].length,l=new xt(i,a);for(let s=0;s<a;s++){const c=t[s];for(let u=0;u<i;u++)c[u]&&l.set(u,s)}return l}static parseFromString(t,a,i){if(t===null)throw new I("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,c=0,u=-1,x=0,p=0;for(;p<t.length;)if(t.charAt(p)===`
`||t.charAt(p)==="\r"){if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new I("row lengths do not match");c=s,x++}p++}else if(t.substring(p,p+a.length)===a)p+=a.length,l[s]=!0,s++;else if(t.substring(p,p+i.length)===i)p+=i.length,l[s]=!1,s++;else throw new I("illegal character encountered: "+t.substring(p));if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new I("row lengths do not match");x++}const A=new xt(u,x);for(let N=0;N<s;N++)l[N]&&A.set(Math.floor(N%u),Math.floor(N/u));return A}get(t,a){const i=a*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new I("input matrix dimensions do not match");const a=new Ee(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let s=0,c=this.height;s<c;s++){const u=s*i,x=t.getRow(s,a).getBitArray();for(let p=0;p<i;p++)l[u+p]^=x[p]}}clear(){const t=this.bits,a=t.length;for(let i=0;i<a;i++)t[i]=0}setRegion(t,a,i,l){if(a<0||t<0)throw new I("Left and top must be nonnegative");if(l<1||i<1)throw new I("Height and width must be at least 1");const s=t+i,c=a+l;if(c>this.height||s>this.width)throw new I("The region must fit inside the matrix");const u=this.rowSize,x=this.bits;for(let p=a;p<c;p++){const A=p*u;for(let N=t;N<s;N++)x[A+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new Ee(this.width):a.clear();const i=this.rowSize,l=this.bits,s=t*i;for(let c=0;c<i;c++)a.setBulk(c*32,l[s+c]);return a}setRow(t,a){le.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let i=new Ee(t),l=new Ee(t);for(let s=0,c=Math.floor((a+1)/2);s<c;s++)i=this.getRow(s,i),l=this.getRow(a-1-s,l),i.reverse(),l.reverse(),this.setRow(s,l),this.setRow(a-1-s,i)}getEnclosingRectangle(){const t=this.width,a=this.height,i=this.rowSize,l=this.bits;let s=t,c=a,u=-1,x=-1;for(let p=0;p<a;p++)for(let A=0;A<i;A++){const N=l[p*i+A];if(N!==0){if(p<c&&(c=p),p>x&&(x=p),A*32<s){let _=0;for(;(N<<31-_&4294967295)===0;)_++;A*32+_<s&&(s=A*32+_)}if(A*32+31>u){let _=31;for(;!(N>>>_);)_--;A*32+_>u&&(u=A*32+_)}}}return u<s||x<c?null:Int32Array.from([s,c,u-s+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let i=0;for(;i<a.length&&a[i]===0;)i++;if(i===a.length)return null;const l=i/t;let s=i%t*32;const c=a[i];let u=0;for(;(c<<31-u&4294967295)===0;)u++;return s+=u,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let i=a.length-1;for(;i>=0&&a[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/t);let s=Math.floor(i%t)*32;const c=a[i];let u=31;for(;!(c>>>u);)u--;return s+=u,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof xt))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&xe.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+xe.hashCode(this.bits),t}toString(t="X ",a="  ",i=`
`){return this.buildToString(t,a,i)}buildToString(t,a,i){let l=new Qe;for(let s=0,c=this.height;s<c;s++){for(let u=0,x=this.width;u<x;u++)l.append(this.get(u,s)?t:a);l.append(i)}return l.toString()}clone(){return new xt(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends v{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class $ extends oe{constructor(t){super(t),this.luminances=$.EMPTY,this.buckets=new Int32Array($.LUMINANCE_BUCKETS)}getBlackRow(t,a){const i=this.getLuminanceSource(),l=i.getWidth();a==null||a.getSize()<l?a=new Ee(l):a.clear(),this.initArrays(l);const s=i.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<l;x++)c[(s[x]&255)>>$.LUMINANCE_SHIFT]++;const u=$.estimateBlackPoint(c);if(l<3)for(let x=0;x<l;x++)(s[x]&255)<u&&a.set(x);else{let x=s[0]&255,p=s[1]&255;for(let A=1;A<l-1;A++){const N=s[A+1]&255;(p*4-x-N)/2<u&&a.set(A),x=p,p=N}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),i=t.getHeight(),l=new xt(a,i);this.initArrays(a);const s=this.buckets;for(let x=1;x<5;x++){const p=Math.floor(i*x/5),A=t.getRow(p,this.luminances),N=Math.floor(a*4/5);for(let _=Math.floor(a/5);_<N;_++){const B=A[_]&255;s[B>>$.LUMINANCE_SHIFT]++}}const c=$.estimateBlackPoint(s),u=t.getMatrix();for(let x=0;x<i;x++){const p=x*a;for(let A=0;A<a;A++)(u[p+A]&255)<c&&l.set(A,x)}return l}createBinarizer(t){return new $(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let i=0;i<$.LUMINANCE_BUCKETS;i++)a[i]=0}static estimateBlackPoint(t){const a=t.length;let i=0,l=0,s=0;for(let A=0;A<a;A++)t[A]>s&&(l=A,s=t[A]),t[A]>i&&(i=t[A]);let c=0,u=0;for(let A=0;A<a;A++){const N=A-l,_=t[A]*N*N;_>u&&(c=A,u=_)}if(l>c){const A=l;l=c,c=A}if(c-l<=a/16)throw new te;let x=c-1,p=-1;for(let A=c-1;A>l;A--){const N=A-l,_=N*N*(c-A)*(i-t[A]);_>p&&(x=A,p=_)}return x<<$.LUMINANCE_SHIFT}}$.LUMINANCE_BITS=5,$.LUMINANCE_SHIFT=8-$.LUMINANCE_BITS,$.LUMINANCE_BUCKETS=1<<$.LUMINANCE_BITS,$.EMPTY=Uint8ClampedArray.from([0]);class K extends ${constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),i=t.getHeight();if(a>=K.MINIMUM_DIMENSION&&i>=K.MINIMUM_DIMENSION){const l=t.getMatrix();let s=a>>K.BLOCK_SIZE_POWER;(a&K.BLOCK_SIZE_MASK)!==0&&s++;let c=i>>K.BLOCK_SIZE_POWER;(i&K.BLOCK_SIZE_MASK)!==0&&c++;const u=K.calculateBlackPoints(l,s,c,a,i),x=new xt(a,i);K.calculateThresholdForBlock(l,s,c,a,i,u,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new K(t)}static calculateThresholdForBlock(t,a,i,l,s,c,u){const x=s-K.BLOCK_SIZE,p=l-K.BLOCK_SIZE;for(let A=0;A<i;A++){let N=A<<K.BLOCK_SIZE_POWER;N>x&&(N=x);const _=K.cap(A,2,i-3);for(let B=0;B<a;B++){let j=B<<K.BLOCK_SIZE_POWER;j>p&&(j=p);const U=K.cap(B,2,a-3);let V=0;for(let me=-2;me<=2;me++){const ge=c[_+me];V+=ge[U-2]+ge[U-1]+ge[U]+ge[U+1]+ge[U+2]}const W=V/25;K.thresholdBlock(t,j,N,W,l,u)}}}static cap(t,a,i){return t<a?a:t>i?i:t}static thresholdBlock(t,a,i,l,s,c){for(let u=0,x=i*s+a;u<K.BLOCK_SIZE;u++,x+=s)for(let p=0;p<K.BLOCK_SIZE;p++)(t[x+p]&255)<=l&&c.set(a+p,i+u)}static calculateBlackPoints(t,a,i,l,s){const c=s-K.BLOCK_SIZE,u=l-K.BLOCK_SIZE,x=new Array(i);for(let p=0;p<i;p++){x[p]=new Int32Array(a);let A=p<<K.BLOCK_SIZE_POWER;A>c&&(A=c);for(let N=0;N<a;N++){let _=N<<K.BLOCK_SIZE_POWER;_>u&&(_=u);let B=0,j=255,U=0;for(let W=0,me=A*l+_;W<K.BLOCK_SIZE;W++,me+=l){for(let ge=0;ge<K.BLOCK_SIZE;ge++){const he=t[me+ge]&255;B+=he,he<j&&(j=he),he>U&&(U=he)}if(U-j>K.MIN_DYNAMIC_RANGE)for(W++,me+=l;W<K.BLOCK_SIZE;W++,me+=l)for(let ge=0;ge<K.BLOCK_SIZE;ge++)B+=t[me+ge]&255}let V=B>>K.BLOCK_SIZE_POWER*2;if(U-j<=K.MIN_DYNAMIC_RANGE&&(V=j/2,p>0&&N>0)){const W=(x[p-1][N]+2*x[p][N-1]+x[p-1][N-1])/4;j<W&&(V=W)}x[p][N]=V}}return x}}K.BLOCK_SIZE_POWER=3,K.BLOCK_SIZE=1<<K.BLOCK_SIZE_POWER,K.BLOCK_SIZE_MASK=K.BLOCK_SIZE-1,K.MINIMUM_DIMENSION=K.BLOCK_SIZE*5,K.MIN_DYNAMIC_RANGE=24;class Be{constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,i,l){throw new Me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Me("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new Qe;for(let i=0;i<this.height;i++){const l=this.getRow(i,t);for(let s=0;s<this.width;s++){const c=l[s]&255;let u;c<64?u="#":c<128?u="+":c<192?u=".":u=" ",a.append(u)}a.append(`
`)}return a.toString()}}class Ve extends Be{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const i=this.delegate.getRow(t,a),l=this.getWidth();for(let s=0;s<l;s++)i[s]=255-(i[s]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(a);for(let l=0;l<a;l++)i[l]=255-(t[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,i,l){return new Ve(this.delegate.crop(t,a,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ve(this.delegate.rotateCounterClockwise45())}}class Je extends Be{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Je.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return Je.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,i){const l=new Uint8ClampedArray(a*i);for(let s=0,c=0,u=t.length;s<u;s+=4,c++){let x;if(t[s+3]===0)x=255;else{const A=t[s],N=t[s+1],_=t[s+2];x=306*A+601*N+117*_+512>>10}l[c]=x}return l}getRow(t,a){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const i=this.getWidth(),l=t*i;return a===null?a=this.buffer.slice(l,l+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(l,l+i))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,i,l){return super.crop(t,a,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),i=a.getContext("2d"),l=t*Je.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*c),x=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*c);return a.width=u,a.height=x,i.translate(u/2,x/2),i.rotate(l),i.drawImage(this.canvas,s/-2,c/-2),this.buffer=Je.makeBufferFromCanvasImageData(a),this}invert(){return new Ve(this)}}Je.DEGREE_TO_RADIANS=Math.PI/180;class H{constructor(t,a,i){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||Zo||self||window||void 0)&&(globalThis||Zo||self||window||void 0).__awaiter||function(S,t,a,i){function l(s){return s instanceof a?s:new a(function(c){c(s)})}return new(a||(a=Promise))(function(s,c){function u(A){try{p(i.next(A))}catch(N){c(N)}}function x(A){try{p(i.throw(A))}catch(N){c(N)}}function p(A){A.done?s(A.value):l(A.value).then(u,x)}p((i=i.apply(S,t||[])).next())})};class we{constructor(t,a=500,i){this.reader=t,this.timeBetweenScansMillis=a,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const i of t){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const s=i.deviceId||i.id,c=i.label||`Video device ${a.length+1}`,u=i.groupId,x={deviceId:s,label:c,kind:l,groupId:u};a.push(x)}return a})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new H(a.deviceId,a.label))})}findDeviceById(t){return re(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return re(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,a)})}decodeOnceFromConstraints(t,a){return re(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,a)})}decodeOnceFromStream(t,a){return re(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,a,i){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,i)})}decodeFromVideoDevice(t,a,i){return re(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,a,i)})}decodeFromConstraints(t,a,i){return re(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,a,i)})}decodeFromStream(t,a,i){return re(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return re(this,void 0,void 0,function*(){const i=this.prepareVideoElement(a);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((a,i)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const i=document.getElementById(t);if(!i)throw new L(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==a.toLowerCase())throw new L(`element with id '${t}' must be an ${a} element`);return i}decodeFromImage(t,a){if(!t&&!a)throw new L("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new L("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,i){if(t===void 0&&a===void 0)throw new L("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new L("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let i;return this.isImageLoaded(a)?i=this.decodeOnce(a,!1,!0):i=this._decodeOnLoadImage(a),i}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,a)}_decodeFromVideoElementSetup(t){if(!t)throw new L("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new L("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const i=this._decodeOnLoadImage(a);return a.src=t,i}decodeFromVideoUrl(t){if(!t)throw new L("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),i=this.decodeFromVideoElement(a);return a.src=t,i}decodeFromVideoUrlContinuously(t,a){if(!t)throw new L("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,a);return i.src=t,l}_decodeOnLoadImage(t){return new Promise((a,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,i=!0){this._stopAsyncDecode=!1;const l=(s,c)=>{if(this._stopAsyncDecode){c(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(t);s(u)}catch(u){const x=a&&u instanceof te,A=(u instanceof Y||u instanceof ee)&&i;if(x||A)return setTimeout(l,this._timeBetweenDecodingAttempts,s,c);c(u)}};return new Promise((s,c)=>l(s,c))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);a(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){a(null,l);const s=l instanceof Y||l instanceof ee,c=l instanceof te;(s||c)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,i){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,i=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),i=new Je(a),l=new K(i);return new G(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let i,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),a.style.width=i+"px",a.style.height=l+"px",a.width=i,a.height=l,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ae{constructor(t,a,i=a==null?0:8*a.length,l,s,c=le.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=i,this.resultPoints=l,this.format=s,this.timestamp=c,this.text=t,this.rawBytes=a,i==null?this.numBits=a==null?0:8*a.length:this.numBits=i,this.resultPoints=l,this.format=s,this.resultMetadata=null,c==null?this.timestamp=le.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(a.length+t.length);le.arraycopy(a,0,i,0,a.length),le.arraycopy(t,0,i,a.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ze;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var ye=ze,ct;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ct||(ct={}));var ut=ct;class Dt{constructor(t,a,i,l,s=-1,c=-1){this.rawBytes=t,this.text=a,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class va{exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class dn{constructor(t,a){if(a.length===0)throw new I;this.field=t;const i=a.length;if(i>1&&a[0]===0){let l=1;for(;l<i&&a[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),le.arraycopy(a,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let i;if(t===1){i=0;for(let c=0,u=a.length;c!==u;c++){const x=a[c];i=va.addOrSubtract(i,x)}return i}i=a[0];const l=a.length,s=this.field;for(let c=1;c<l;c++)i=va.addOrSubtract(s.multiply(t,i),a[c]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,i=t.coefficients;if(a.length>i.length){const c=a;a=i,i=c}let l=new Int32Array(i.length);const s=i.length-a.length;le.arraycopy(i,0,l,0,s);for(let c=s;c<i.length;c++)l[c]=va.addOrSubtract(a[c-s],i[c]);return new dn(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,i=a.length,l=t.coefficients,s=l.length,c=new Int32Array(i+s-1),u=this.field;for(let x=0;x<i;x++){const p=a[x];for(let A=0;A<s;A++)c[x+A]=va.addOrSubtract(c[x+A],u.multiply(p,l[A]))}return new dn(u,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,i=this.field,l=new Int32Array(a),s=this.coefficients;for(let c=0;c<a;c++)l[c]=i.multiply(s[c],t);return new dn(i,l)}multiplyByMonomial(t,a){if(t<0)throw new I;if(a===0)return this.field.getZero();const i=this.coefficients,l=i.length,s=new Int32Array(l+t),c=this.field;for(let u=0;u<l;u++)s[u]=c.multiply(i[u],a);return new dn(c,s)}divide(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new I("Divide by 0");const a=this.field;let i=a.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),c=a.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const u=l.getDegree()-t.getDegree(),x=a.multiply(l.getCoefficient(l.getDegree()),c),p=t.multiplyByMonomial(u,x),A=a.buildMonomial(u,x);i=i.addOrSubtract(A),l=l.addOrSubtract(p)}return[i,l]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let i=this.getCoefficient(a);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),a===0||i!==1){const l=this.field.log(i);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class Ai extends v{}Ai.kind="ArithmeticException";class ft extends va{constructor(t,a,i){super(),this.primitive=t,this.size=a,this.generatorBase=i;const l=new Int32Array(a);let s=1;for(let u=0;u<a;u++)l[u]=s,s*=2,s>=a&&(s^=t,s&=a-1);this.expTable=l;const c=new Int32Array(a);for(let u=0;u<a-1;u++)c[l[u]]=u;this.logTable=c,this.zero=new dn(this,Int32Array.from([0])),this.one=new dn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new I;if(a===0)return this.zero;const i=new Int32Array(t+1);return i[0]=a,new dn(this,i)}inverse(t){if(t===0)throw new Ai;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ae.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ft.AZTEC_DATA_12=new ft(4201,4096,1),ft.AZTEC_DATA_10=new ft(1033,1024,1),ft.AZTEC_DATA_6=new ft(67,64,1),ft.AZTEC_PARAM=new ft(19,16,1),ft.QR_CODE_FIELD_256=new ft(285,256,0),ft.DATA_MATRIX_FIELD_256=new ft(301,256,1),ft.AZTEC_DATA_8=ft.DATA_MATRIX_FIELD_256,ft.MAXICODE_FIELD_64=ft.AZTEC_DATA_6;class kn extends v{}kn.kind="ReedSolomonException";class jn extends v{}jn.kind="IllegalStateException";class Za{constructor(t){this.field=t}decode(t,a){const i=this.field,l=new dn(i,t),s=new Int32Array(a);let c=!0;for(let B=0;B<a;B++){const j=l.evaluateAt(i.exp(B+i.getGeneratorBase()));s[s.length-1-B]=j,j!==0&&(c=!1)}if(c)return;const u=new dn(i,s),x=this.runEuclideanAlgorithm(i.buildMonomial(a,1),u,a),p=x[0],A=x[1],N=this.findErrorLocations(p),_=this.findErrorMagnitudes(A,N);for(let B=0;B<N.length;B++){const j=t.length-1-i.log(N[B]);if(j<0)throw new kn("Bad error location");t[j]=ft.addOrSubtract(t[j],_[B])}}runEuclideanAlgorithm(t,a,i){if(t.getDegree()<a.getDegree()){const B=t;t=a,a=B}const l=this.field;let s=t,c=a,u=l.getZero(),x=l.getOne();for(;c.getDegree()>=(i/2|0);){let B=s,j=u;if(s=c,u=x,s.isZero())throw new kn("r_{i-1} was zero");c=B;let U=l.getZero();const V=s.getCoefficient(s.getDegree()),W=l.inverse(V);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const me=c.getDegree()-s.getDegree(),ge=l.multiply(c.getCoefficient(c.getDegree()),W);U=U.addOrSubtract(l.buildMonomial(me,ge)),c=c.addOrSubtract(s.multiplyByMonomial(me,ge))}if(x=U.multiply(u).addOrSubtract(j),c.getDegree()>=s.getDegree())throw new jn("Division algorithm failed to reduce polynomial?")}const p=x.getCoefficient(0);if(p===0)throw new kn("sigmaTilde(0) was zero");const A=l.inverse(p),N=x.multiplyScalar(A),_=c.multiplyScalar(A);return[N,_]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(a);let l=0;const s=this.field;for(let c=1;c<s.getSize()&&l<a;c++)t.evaluateAt(c)===0&&(i[l]=s.inverse(c),l++);if(l!==a)throw new kn("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,a){const i=a.length,l=new Int32Array(i),s=this.field;for(let c=0;c<i;c++){const u=s.inverse(a[c]);let x=1;for(let p=0;p<i;p++)if(c!==p){const A=s.multiply(a[p],u),N=(A&1)===0?A|1:A&-2;x=s.multiply(x,N)}l[c]=s.multiply(t.evaluateAt(u),s.inverse(x)),s.getGeneratorBase()!==0&&(l[c]=s.multiply(l[c],u))}return l}}var hn;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(hn||(hn={}));class vt{decode(t){this.ddata=t;let a=t.getBits(),i=this.extractBits(a),l=this.correctBits(i),s=vt.convertBoolArrayToByteArray(l),c=vt.getEncodedData(l),u=new Dt(s,c,null,null);return u.setNumBits(l.length),u}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,i=hn.UPPER,l=hn.UPPER,s="",c=0;for(;c<a;)if(l===hn.BINARY){if(a-c<5)break;let u=vt.readCode(t,c,5);if(c+=5,u===0){if(a-c<11)break;u=vt.readCode(t,c,11)+31,c+=11}for(let x=0;x<u;x++){if(a-c<8){c=a;break}const p=vt.readCode(t,c,8);s+=ve.castAsNonUtf8Char(p),c+=8}l=i}else{let u=l===hn.DIGIT?4:5;if(a-c<u)break;let x=vt.readCode(t,c,u);c+=u;let p=vt.getCharacter(l,x);p.startsWith("CTRL_")?(i=l,l=vt.getTable(p.charAt(5)),p.charAt(6)==="L"&&(i=l)):(s+=p,l=i)}return s}static getTable(t){switch(t){case"L":return hn.LOWER;case"P":return hn.PUNCT;case"M":return hn.MIXED;case"D":return hn.DIGIT;case"B":return hn.BINARY;case"U":default:return hn.UPPER}}static getCharacter(t,a){switch(t){case hn.UPPER:return vt.UPPER_TABLE[a];case hn.LOWER:return vt.LOWER_TABLE[a];case hn.MIXED:return vt.MIXED_TABLE[a];case hn.PUNCT:return vt.PUNCT_TABLE[a];case hn.DIGIT:return vt.DIGIT_TABLE[a];default:throw new jn("Bad table")}}correctBits(t){let a,i;this.ddata.getNbLayers()<=2?(i=6,a=ft.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,a=ft.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,a=ft.AZTEC_DATA_10):(i=12,a=ft.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/i;if(s<l)throw new ee;let c=t.length%i,u=new Int32Array(s);for(let _=0;_<s;_++,c+=i)u[_]=vt.readCode(t,c,i);try{new Za(a).decode(u,s-l)}catch(_){throw new ee(_)}let x=(1<<i)-1,p=0;for(let _=0;_<l;_++){let B=u[_];if(B===0||B===x)throw new ee;(B===1||B===x-1)&&p++}let A=new Array(l*i-p),N=0;for(let _=0;_<l;_++){let B=u[_];if(B===1||B===x-1)A.fill(B>1,N,N+i-1),N+=i-1;else for(let j=i-1;j>=0;--j)A[N++]=(B&1<<j)!==0}return A}extractBits(t){let a=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(a?11:14)+i*4,s=new Int32Array(l),c=new Array(this.totalBitsInLayer(i,a));if(a)for(let u=0;u<s.length;u++)s[u]=u;else{let u=l+1+2*ae.truncDivision(ae.truncDivision(l,2)-1,15),x=l/2,p=ae.truncDivision(u,2);for(let A=0;A<x;A++){let N=A+ae.truncDivision(A,15);s[x-A-1]=p-N-1,s[x+A]=p+N+1}}for(let u=0,x=0;u<i;u++){let p=(i-u)*4+(a?9:12),A=u*2,N=l-1-A;for(let _=0;_<p;_++){let B=_*2;for(let j=0;j<2;j++)c[x+B+j]=t.get(s[A+j],s[A+_]),c[x+2*p+B+j]=t.get(s[A+_],s[N-j]),c[x+4*p+B+j]=t.get(s[N-j],s[N-_]),c[x+6*p+B+j]=t.get(s[N-_],s[A+j])}x+=p*8}return c}static readCode(t,a,i){let l=0;for(let s=a;s<a+i;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,a){let i=t.length-a;return i>=8?vt.readCode(t,a,8):vt.readCode(t,a,i)<<8-i}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let i=0;i<a.length;i++)a[i]=vt.readByte(t,8*i);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}vt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],vt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],vt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],vt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],vt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class et{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,i,l){const s=t-i,c=a-l;return Math.sqrt(s*s+c*c)}static sum(t){let a=0;for(let i=0,l=t.length;i!==l;i++){const s=t[i];a+=s}return a}}class Ci{static floatToIntBits(t){return t}}Ci.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Te{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Te){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Ci.floatToIntBits(this.x)+Ci.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,c,u;if(i>=a&&i>=l?(c=t[0],s=t[1],u=t[2]):l>=i&&l>=a?(c=t[1],s=t[0],u=t[2]):(c=t[2],s=t[0],u=t[1]),this.crossProductZ(s,c,u)<0){const x=s;s=u,u=x}t[0]=s,t[1]=c,t[2]=u}static distance(t,a){return et.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,i){const l=a.x,s=a.y;return(i.x-l)*(t.y-s)-(i.y-s)*(t.x-l)}}class kr{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Rs extends kr{constructor(t,a,i,l,s){super(t,a),this.compact=i,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Yt{constructor(t,a,i,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=Yt.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=a/2|0;if(this.leftInit=i-s,this.rightInit=i+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let t=this.leftInit,a=this.rightInit,i=this.upInit,l=this.downInit,s=!1,c=!0,u=!1,x=!1,p=!1,A=!1,N=!1;const _=this.width,B=this.height;for(;c;){c=!1;let j=!0;for(;(j||!x)&&a<_;)j=this.containsBlackPoint(i,l,a,!1),j?(a++,c=!0,x=!0):x||a++;if(a>=_){s=!0;break}let U=!0;for(;(U||!p)&&l<B;)U=this.containsBlackPoint(t,a,l,!0),U?(l++,c=!0,p=!0):p||l++;if(l>=B){s=!0;break}let V=!0;for(;(V||!A)&&t>=0;)V=this.containsBlackPoint(i,l,t,!1),V?(t--,c=!0,A=!0):A||t--;if(t<0){s=!0;break}let W=!0;for(;(W||!N)&&i>=0;)W=this.containsBlackPoint(t,a,i,!0),W?(i--,c=!0,N=!0):N||i--;if(i<0){s=!0;break}c&&(u=!0)}if(!s&&u){const j=a-t;let U=null;for(let ge=1;U===null&&ge<j;ge++)U=this.getBlackPointOnSegment(t,l-ge,t+ge,l);if(U==null)throw new te;let V=null;for(let ge=1;V===null&&ge<j;ge++)V=this.getBlackPointOnSegment(t,i+ge,t+ge,i);if(V==null)throw new te;let W=null;for(let ge=1;W===null&&ge<j;ge++)W=this.getBlackPointOnSegment(a,i+ge,a-ge,i);if(W==null)throw new te;let me=null;for(let ge=1;me===null&&ge<j;ge++)me=this.getBlackPointOnSegment(a,l-ge,a-ge,l);if(me==null)throw new te;return this.centerEdges(me,U,W,V)}else throw new te}getBlackPointOnSegment(t,a,i,l){const s=et.round(et.distance(t,a,i,l)),c=(i-t)/s,u=(l-a)/s,x=this.image;for(let p=0;p<s;p++){const A=et.round(t+p*c),N=et.round(a+p*u);if(x.get(A,N))return new Te(A,N)}return null}centerEdges(t,a,i,l){const s=t.getX(),c=t.getY(),u=a.getX(),x=a.getY(),p=i.getX(),A=i.getY(),N=l.getX(),_=l.getY(),B=Yt.CORR;return s<this.width/2?[new Te(N-B,_+B),new Te(u+B,x+B),new Te(p-B,A-B),new Te(s+B,c-B)]:[new Te(N+B,_+B),new Te(u+B,x-B),new Te(p-B,A+B),new Te(s-B,c-B)]}containsBlackPoint(t,a,i,l){const s=this.image;if(l){for(let c=t;c<=a;c++)if(s.get(c,i))return!0}else for(let c=t;c<=a;c++)if(s.get(i,c))return!0;return!1}}Yt.INIT_SIZE=10,Yt.CORR=1;class Sl{static checkAndNudgePoints(t,a){const i=t.getWidth(),l=t.getHeight();let s=!0;for(let c=0;c<a.length&&s;c+=2){const u=Math.floor(a[c]),x=Math.floor(a[c+1]);if(u<-1||u>i||x<-1||x>l)throw new te;s=!1,u===-1?(a[c]=0,s=!0):u===i&&(a[c]=i-1,s=!0),x===-1?(a[c+1]=0,s=!0):x===l&&(a[c+1]=l-1,s=!0)}s=!0;for(let c=a.length-2;c>=0&&s;c-=2){const u=Math.floor(a[c]),x=Math.floor(a[c+1]);if(u<-1||u>i||x<-1||x>l)throw new te;s=!1,u===-1?(a[c]=0,s=!0):u===i&&(a[c]=i-1,s=!0),x===-1?(a[c+1]=0,s=!0):x===l&&(a[c+1]=l-1,s=!0)}}}class Un{constructor(t,a,i,l,s,c,u,x,p){this.a11=t,this.a21=a,this.a31=i,this.a12=l,this.a22=s,this.a32=c,this.a13=u,this.a23=x,this.a33=p}static quadrilateralToQuadrilateral(t,a,i,l,s,c,u,x,p,A,N,_,B,j,U,V){const W=Un.quadrilateralToSquare(t,a,i,l,s,c,u,x);return Un.squareToQuadrilateral(p,A,N,_,B,j,U,V).times(W)}transformPoints(t){const a=t.length,i=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,p=this.a31,A=this.a32,N=this.a33;for(let _=0;_<a;_+=2){const B=t[_],j=t[_+1],U=s*B+x*j+N;t[_]=(i*B+c*j+p)/U,t[_+1]=(l*B+u*j+A)/U}}transformPointsWithValues(t,a){const i=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,p=this.a31,A=this.a32,N=this.a33,_=t.length;for(let B=0;B<_;B++){const j=t[B],U=a[B],V=s*j+x*U+N;t[B]=(i*j+c*U+p)/V,a[B]=(l*j+u*U+A)/V}}static squareToQuadrilateral(t,a,i,l,s,c,u,x){const p=t-i+s-u,A=a-l+c-x;if(p===0&&A===0)return new Un(i-t,s-i,t,l-a,c-l,a,0,0,1);{const N=i-s,_=u-s,B=l-c,j=x-c,U=N*j-_*B,V=(p*j-_*A)/U,W=(N*A-p*B)/U;return new Un(i-t+V*i,u-t+W*u,t,l-a+V*l,x-a+W*x,a,V,W,1)}}static quadrilateralToSquare(t,a,i,l,s,c,u,x){return Un.squareToQuadrilateral(t,a,i,l,s,c,u,x).buildAdjoint()}buildAdjoint(){return new Un(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Un(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Nl extends Sl{sampleGrid(t,a,i,l,s,c,u,x,p,A,N,_,B,j,U,V,W,me,ge){const he=Un.quadrilateralToQuadrilateral(l,s,c,u,x,p,A,N,_,B,j,U,V,W,me,ge);return this.sampleGridWithTransform(t,a,i,he)}sampleGridWithTransform(t,a,i,l){if(a<=0||i<=0)throw new te;const s=new xt(a,i),c=new Float32Array(2*a);for(let u=0;u<i;u++){const x=c.length,p=u+.5;for(let A=0;A<x;A+=2)c[A]=A/2+.5,c[A+1]=p;l.transformPoints(c),Sl.checkAndNudgePoints(t,c);try{for(let A=0;A<x;A+=2)t.get(Math.floor(c[A]),Math.floor(c[A+1]))&&s.set(A/2,u)}catch{throw new te}}return s}}class Qn{static setGridSampler(t){Qn.gridSampler=t}static getInstance(){return Qn.gridSampler}}Qn.gridSampler=new Nl;class En{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new Te(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Tl{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),i=this.getBullsEyeCorners(a);if(t){let c=i[0];i[0]=i[2],i[2]=c}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),s=this.getMatrixCornerPoints(i);return new Rs(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new te;let a=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(i,a);let l=0;for(let c=0;c<4;c++){let u=i[(this.shift+c)%4];this.compact?(l<<=7,l+=u>>1&127):(l<<=10,l+=(u>>2&992)+(u>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,a){let i=0;t.forEach((l,s,c)=>{let u=(l>>a-2<<1)+(l&1);i=(i<<3)+u}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(ae.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new te}getCorrectedParameterData(t,a){let i,l;a?(i=7,l=2):(i=10,l=4);let s=i-l,c=new Int32Array(i);for(let x=i-1;x>=0;--x)c[x]=t&15,t>>=4;try{new Za(ft.AZTEC_PARAM).decode(c,s)}catch{throw new te}let u=0;for(let x=0;x<l;x++)u=(u<<4)+c[x];return u}getBullsEyeCorners(t){let a=t,i=t,l=t,s=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(a,c,1,-1),_=this.getFirstDifferent(i,c,1,1),B=this.getFirstDifferent(l,c,-1,1),j=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(j,N)*this.nbCenterLayers/(this.distancePoint(s,a)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(N,_,B,j))break}a=N,i=_,l=B,s=j,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let u=new Te(a.getX()+.5,a.getY()-.5),x=new Te(i.getX()+.5,i.getY()+.5),p=new Te(l.getX()-.5,l.getY()+.5),A=new Te(s.getX()-.5,s.getY()-.5);return this.expandSquare([u,x,p,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,i,l;try{let u=new Yt(this.image).detect();t=u[0],a=u[1],i=u[2],l=u[3]}catch{let x=this.image.getWidth()/2,p=this.image.getHeight()/2;t=this.getFirstDifferent(new En(x+7,p-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new En(x+7,p+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new En(x-7,p+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new En(x-7,p-7),!1,-1,-1).toResultPoint()}let s=et.round((t.getX()+l.getX()+a.getX()+i.getX())/4),c=et.round((t.getY()+l.getY()+a.getY()+i.getY())/4);try{let u=new Yt(this.image,15,s,c).detect();t=u[0],a=u[1],i=u[2],l=u[3]}catch{t=this.getFirstDifferent(new En(s+7,c-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new En(s+7,c+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new En(s-7,c+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new En(s-7,c-7),!1,-1,-1).toResultPoint()}return s=et.round((t.getX()+l.getX()+a.getX()+i.getX())/4),c=et.round((t.getY()+l.getY()+a.getY()+i.getY())/4),new En(s,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,i,l,s){let c=Qn.getInstance(),u=this.getDimension(),x=u/2-this.nbCenterLayers,p=u/2+this.nbCenterLayers;return c.sampleGrid(t,u,u,x,x,p,x,p,p,x,p,a.getX(),a.getY(),i.getX(),i.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,a,i){let l=0,s=this.distanceResultPoint(t,a),c=s/i,u=t.getX(),x=t.getY(),p=c*(a.getX()-t.getX())/s,A=c*(a.getY()-t.getY())/s;for(let N=0;N<i;N++)this.image.get(et.round(u+N*p),et.round(x+N*A))&&(l|=1<<i-N-1);return l}isWhiteOrBlackRectangle(t,a,i,l){let s=3;t=new En(t.getX()-s,t.getY()+s),a=new En(a.getX()-s,a.getY()-s),i=new En(i.getX()+s,i.getY()-s),l=new En(l.getX()+s,l.getY()+s);let c=this.getColor(l,t);if(c===0)return!1;let u=this.getColor(t,a);return u!==c||(u=this.getColor(a,i),u!==c)?!1:(u=this.getColor(i,l),u===c)}getColor(t,a){let i=this.distancePoint(t,a),l=(a.getX()-t.getX())/i,s=(a.getY()-t.getY())/i,c=0,u=t.getX(),x=t.getY(),p=this.image.get(t.getX(),t.getY()),A=Math.ceil(i);for(let _=0;_<A;_++)u+=l,x+=s,this.image.get(et.round(u),et.round(x))!==p&&c++;let N=c/i;return N>.1&&N<.9?0:N<=.1===p?1:-1}getFirstDifferent(t,a,i,l){let s=t.getX()+i,c=t.getY()+l;for(;this.isValid(s,c)&&this.image.get(s,c)===a;)s+=i,c+=l;for(s-=i,c-=l;this.isValid(s,c)&&this.image.get(s,c)===a;)s+=i;for(s-=i;this.isValid(s,c)&&this.image.get(s,c)===a;)c+=l;return c-=l,new En(s,c)}expandSquare(t,a,i){let l=i/(2*a),s=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,p=new Te(u+l*s,x+l*c),A=new Te(u-l*s,x-l*c);s=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let N=new Te(u+l*s,x+l*c),_=new Te(u-l*s,x-l*c);return[p,N,A,_]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=et.round(t.getX()),i=et.round(t.getY());return this.isValid(a,i)}distancePoint(t,a){return et.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return et.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ae.truncDivision(this.nbLayers-4,8)+1)+15}}class jr{decode(t,a=null){let i=null,l=new Tl(t.getBlackMatrix()),s=null,c=null;try{let A=l.detectMirror(!1);s=A.getPoints(),this.reportFoundResultPoints(a,s),c=new vt().decode(A)}catch(A){i=A}if(c==null)try{let A=l.detectMirror(!0);s=A.getPoints(),this.reportFoundResultPoints(a,s),c=new vt().decode(A)}catch(A){throw i??A}let u=new Ae(c.getText(),c.getRawBytes(),c.getNumBits(),s,ye.AZTEC,le.currentTimeMillis()),x=c.getByteSegments();x!=null&&u.putMetadata(ut.BYTE_SEGMENTS,x);let p=c.getECLevel();return p!=null&&u.putMetadata(ut.ERROR_CORRECTION_LEVEL,p),u}reportFoundResultPoints(t,a){if(t!=null){let i=t.get(Ie.NEED_RESULT_POINT_CALLBACK);i!=null&&a.forEach((l,s,c)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class lc extends we{constructor(t=500){super(new jr,t)}}class jt{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(Ie.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),c=this.doDecode(s,a),u=c.getResultMetadata();let x=270;u!==null&&u.get(ut.ORIENTATION)===!0&&(x=x+u.get(ut.ORIENTATION)%360),c.putMetadata(ut.ORIENTATION,x);const p=c.getResultPoints();if(p!==null){const A=s.getHeight();for(let N=0;N<p.length;N++)p[N]=new Te(A-p[N].getY()-1,p[N].getX())}return c}else throw new te}}reset(){}doDecode(t,a){const i=t.getWidth(),l=t.getHeight();let s=new Ee(i);const c=a&&a.get(Ie.TRY_HARDER)===!0,u=Math.max(1,l>>(c?8:5));let x;c?x=l:x=15;const p=Math.trunc(l/2);for(let A=0;A<x;A++){const N=Math.trunc((A+1)/2),_=(A&1)===0,B=p+u*(_?N:-N);if(B<0||B>=l)break;try{s=t.getBlackRow(B,s)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(s.reverse(),a&&a.get(Ie.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;a.forEach((V,W)=>U.set(W,V)),U.delete(Ie.NEED_RESULT_POINT_CALLBACK),a=U}try{const U=this.decodeRow(B,s,a);if(j===1){U.putMetadata(ut.ORIENTATION,180);const V=U.getResultPoints();V!==null&&(V[0]=new Te(i-V[0].getX()-1,V[0].getY()),V[1]=new Te(i-V[1].getX()-1,V[1].getY()))}return U}catch{}}}throw new te}static recordPattern(t,a,i){const l=i.length;for(let p=0;p<l;p++)i[p]=0;const s=t.getSize();if(a>=s)throw new te;let c=!t.get(a),u=0,x=a;for(;x<s;){if(t.get(x)!==c)i[u]++;else{if(++u===l)break;i[u]=1,c=!c}x++}if(!(u===l||u===l-1&&x===s))throw new te}static recordPatternInReverse(t,a,i){let l=i.length,s=t.get(a);for(;a>0&&l>=0;)t.get(--a)!==s&&(l--,s=!s);if(l>=0)throw new te;jt.recordPattern(t,a+1,i)}static patternMatchVariance(t,a,i){const l=t.length;let s=0,c=0;for(let p=0;p<l;p++)s+=t[p],c+=a[p];if(s<c)return Number.POSITIVE_INFINITY;const u=s/c;i*=u;let x=0;for(let p=0;p<l;p++){const A=t[p],N=a[p]*u,_=A>N?A-N:N-A;if(_>i)return Number.POSITIVE_INFINITY;x+=_}return x/s}}class pe extends jt{static findStartPattern(t){const a=t.getSize(),i=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),c=i,u=!1;const x=6;for(let p=i;p<a;p++)if(t.get(p)!==u)s[l]++;else{if(l===x-1){let A=pe.MAX_AVG_VARIANCE,N=-1;for(let _=pe.CODE_START_A;_<=pe.CODE_START_C;_++){const B=jt.patternMatchVariance(s,pe.CODE_PATTERNS[_],pe.MAX_INDIVIDUAL_VARIANCE);B<A&&(A=B,N=_)}if(N>=0&&t.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,N]);c+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,u=!u}throw new te}static decodeCode(t,a,i){jt.recordPattern(t,i,a);let l=pe.MAX_AVG_VARIANCE,s=-1;for(let c=0;c<pe.CODE_PATTERNS.length;c++){const u=pe.CODE_PATTERNS[c],x=this.patternMatchVariance(a,u,pe.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,s=c)}if(s>=0)return s;throw new te}decodeRow(t,a,i){const l=i&&i.get(Ie.ASSUME_GS1)===!0,s=pe.findStartPattern(a),c=s[2];let u=0;const x=new Uint8Array(20);x[u++]=c;let p;switch(c){case pe.CODE_START_A:p=pe.CODE_CODE_A;break;case pe.CODE_START_B:p=pe.CODE_CODE_B;break;case pe.CODE_START_C:p=pe.CODE_CODE_C;break;default:throw new ee}let A=!1,N=!1,_="",B=s[0],j=s[1];const U=Int32Array.from([0,0,0,0,0,0]);let V=0,W=0,me=c,ge=0,he=!0,Ke=!1,Pe=!1;for(;!A;){const ti=N;switch(N=!1,V=W,W=pe.decodeCode(a,U,j),x[u++]=W,W!==pe.CODE_STOP&&(he=!0),W!==pe.CODE_STOP&&(ge++,me+=ge*W),B=j,j+=U.reduce((Vs,Fl)=>Vs+Fl,0),W){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new ee}switch(p){case pe.CODE_CODE_A:if(W<64)Pe===Ke?_+=String.fromCharCode(32+W):_+=String.fromCharCode(32+W+128),Pe=!1;else if(W<96)Pe===Ke?_+=String.fromCharCode(W-64):_+=String.fromCharCode(W+64),Pe=!1;else switch(W!==pe.CODE_STOP&&(he=!1),W){case pe.CODE_FNC_1:l&&(_.length===0?_+="]C1":_+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!Ke&&Pe?(Ke=!0,Pe=!1):Ke&&Pe?(Ke=!1,Pe=!1):Pe=!0;break;case pe.CODE_SHIFT:N=!0,p=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:p=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:p=pe.CODE_CODE_C;break;case pe.CODE_STOP:A=!0;break}break;case pe.CODE_CODE_B:if(W<96)Pe===Ke?_+=String.fromCharCode(32+W):_+=String.fromCharCode(32+W+128),Pe=!1;else switch(W!==pe.CODE_STOP&&(he=!1),W){case pe.CODE_FNC_1:l&&(_.length===0?_+="]C1":_+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!Ke&&Pe?(Ke=!0,Pe=!1):Ke&&Pe?(Ke=!1,Pe=!1):Pe=!0;break;case pe.CODE_SHIFT:N=!0,p=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:p=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:p=pe.CODE_CODE_C;break;case pe.CODE_STOP:A=!0;break}break;case pe.CODE_CODE_C:if(W<100)W<10&&(_+="0"),_+=W;else switch(W!==pe.CODE_STOP&&(he=!1),W){case pe.CODE_FNC_1:l&&(_.length===0?_+="]C1":_+="");break;case pe.CODE_CODE_A:p=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:p=pe.CODE_CODE_B;break;case pe.CODE_STOP:A=!0;break}break}ti&&(p=p===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const Kt=j-B;if(j=a.getNextUnset(j),!a.isRange(j,Math.min(a.getSize(),j+(j-B)/2),!1))throw new te;if(me-=ge*V,me%103!==V)throw new Y;const Pn=_.length;if(Pn===0)throw new te;Pn>0&&he&&(p===pe.CODE_CODE_C?_=_.substring(0,Pn-2):_=_.substring(0,Pn-1));const Cn=(s[1]+s[0])/2,Ct=B+Kt/2,pn=x.length,Bn=new Uint8Array(pn);for(let ti=0;ti<pn;ti++)Bn[ti]=x[ti];const ji=[new Te(Cn,t),new Te(Ct,t)];return new Ae(_,Bn,0,ji,ye.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class _t extends jt{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=_t.findAsteriskPattern(a,l),c=a.getNextSet(s[1]),u=a.getSize(),x,p;do{_t.recordPattern(a,c,l);let U=_t.toNarrowWidePattern(l);if(U<0)throw new te;x=_t.patternToChar(U),this.decodeRowResult+=x,p=c;for(let V of l)c+=V;c=a.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let U of l)A+=U;let N=c-p-A;if(c!==u&&N*2<A)throw new te;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,V=0;for(let W=0;W<U;W++)V+=_t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(U)!==_t.ALPHABET_STRING.charAt(V%43))throw new Y;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new te;let _;this.extendedMode?_=_t.decodeExtended(this.decodeRowResult):_=this.decodeRowResult;let B=(s[1]+s[0])/2,j=p+A/2;return new Ae(_,null,0,[new Te(B,t),new Te(j,t)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let i=t.getSize(),l=t.getNextSet(0),s=0,c=l,u=!1,x=a.length;for(let p=l;p<i;p++)if(t.get(p)!==u)a[s]++;else{if(s===x-1){if(this.toNarrowWidePattern(a)===_t.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=a[0]+a[1],a.copyWithin(0,2,2+s-1),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,u=!u}throw new te}static toNarrowWidePattern(t){let a=t.length,i=0,l;do{let s=2147483647;for(let x of t)x<s&&x>i&&(s=x);i=s,l=0;let c=0,u=0;for(let x=0;x<a;x++){let p=t[x];p>i&&(u|=1<<a-1-x,l++,c+=p)}if(l===3){for(let x=0;x<a&&l>0;x++){let p=t[x];if(p>i&&(l--,p*2>=c))return-1}return u}}while(l>3);return-1}static patternToChar(t){for(let a=0;a<_t.CHARACTER_ENCODINGS.length;a++)if(_t.CHARACTER_ENCODINGS[a]===t)return _t.ALPHABET_STRING.charAt(a);if(t===_t.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(t){let a=t.length,i="";for(let l=0;l<a;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let c=t.charAt(l+1),u="\0";switch(s){case"+":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)+32);else throw new ee;break;case"$":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)-64);else throw new ee;break;case"%":if(c>="A"&&c<="E")u=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")u=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")u=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")u="\0";else if(c==="V")u="@";else if(c==="W")u="`";else if(c==="X"||c==="Y"||c==="Z")u="";else throw new ee;break;case"/":if(c>="A"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")u=":";else throw new ee;break}i+=u,l++}else i+=s}return i}}_t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",_t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],_t.ASTERISK_ENCODING=148;class Ye extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,i){let l=this.decodeStart(a),s=this.decodeEnd(a),c=new Qe;Ye.decodeMiddle(a,l[1],s[0],c);let u=c.toString(),x=null;i!=null&&(x=i.get(Ie.ALLOWED_LENGTHS)),x==null&&(x=Ye.DEFAULT_ALLOWED_LENGTHS);let p=u.length,A=!1,N=0;for(let j of x){if(p===j){A=!0;break}j>N&&(N=j)}if(!A&&p>N&&(A=!0),!A)throw new ee;const _=[new Te(l[1],t),new Te(s[0],t)];return new Ae(u,null,0,_,ye.ITF,new Date().getTime())}static decodeMiddle(t,a,i,l){let s=new Int32Array(10),c=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),c.fill(0),u.fill(0);a<i;){jt.recordPattern(t,a,s);for(let p=0;p<5;p++){let A=2*p;c[p]=s[A],u[p]=s[A+1]}let x=Ye.decodeDigit(c);l.append(x.toString()),x=this.decodeDigit(u),l.append(x.toString()),s.forEach(function(p){a+=p})}}decodeStart(t){let a=Ye.skipWhiteSpace(t),i=Ye.findGuardPattern(t,a,Ye.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,a){let i=this.narrowLineWidth*10;i=i<a?i:a;for(let l=a-1;i>0&&l>=0&&!t.get(l);l--)i--;if(i!==0)throw new te}static skipWhiteSpace(t){const a=t.getSize(),i=t.getNextSet(0);if(i===a)throw new te;return i}decodeEnd(t){t.reverse();try{let a=Ye.skipWhiteSpace(t),i;try{i=Ye.findGuardPattern(t,a,Ye.END_PATTERN_REVERSED[0])}catch(s){s instanceof te&&(i=Ye.findGuardPattern(t,a,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let l=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-l,i}finally{t.reverse()}}static findGuardPattern(t,a,i){let l=i.length,s=new Int32Array(l),c=t.getSize(),u=!1,x=0,p=a;s.fill(0);for(let A=a;A<c;A++)if(t.get(A)!==u)s[x]++;else{if(x===l-1){if(jt.patternMatchVariance(s,i,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[p,A];p+=s[0]+s[1],le.arraycopy(s,2,s,0,x-1),s[x-1]=0,s[x]=0,x--}else x++;s[x]=1,u=!u}throw new te}static decodeDigit(t){let a=Ye.MAX_AVG_VARIANCE,i=-1,l=Ye.PATTERNS.length;for(let s=0;s<l;s++){let c=Ye.PATTERNS[s],u=jt.patternMatchVariance(t,c,Ye.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,i=s):u===a&&(i=-1)}if(i>=0)return i%10;throw new te}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Pt extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,i,l=0,s=Int32Array.from([0,0,0]);for(;!a;){s=Int32Array.from([0,0,0]),i=Pt.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let c=i[0];l=i[1];let u=c-(l-c);u>=0&&(a=t.isRange(u,c,!1))}return i}static checkChecksum(t){return Pt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let i=parseInt(t.charAt(a-1),10);return Pt.getStandardUPCEANChecksum(t.substring(0,a-1))===i}static getStandardUPCEANChecksum(t){let a=t.length,i=0;for(let l=a-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ee;i+=s}i*=3;for(let l=a-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ee;i+=s}return(1e3-i)%10}static decodeEnd(t,a){return Pt.findGuardPattern(t,a,!1,Pt.START_END_PATTERN,new Int32Array(Pt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,i,l){return this.findGuardPattern(t,a,i,l,new Int32Array(l.length))}static findGuardPattern(t,a,i,l,s){let c=t.getSize();a=i?t.getNextUnset(a):t.getNextSet(a);let u=0,x=a,p=l.length,A=i;for(let N=a;N<c;N++)if(t.get(N)!==A)s[u]++;else{if(u===p-1){if(jt.patternMatchVariance(s,l,Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=s[0]+s[1];let _=s.slice(2,s.length-1);for(let B=0;B<u-1;B++)s[B]=_[B];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,A=!A}throw new te}static decodeDigit(t,a,i,l){this.recordPattern(t,i,a);let s=this.MAX_AVG_VARIANCE,c=-1,u=l.length;for(let x=0;x<u;x++){let p=l[x],A=jt.patternMatchVariance(a,p,Pt.MAX_INDIVIDUAL_VARIANCE);A<s&&(s=A,c=x)}if(c>=0)return c;throw new te}}Pt.MAX_AVG_VARIANCE=.48,Pt.MAX_INDIVIDUAL_VARIANCE=.7,Pt.START_END_PATTERN=Int32Array.from([1,1,1]),Pt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Pt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class cr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,i){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(a,i,l),c=l.toString(),u=cr.parseExtensionString(c),x=[new Te((i[0]+i[1])/2,t),new Te(s,t)],p=new Ae(c,null,0,x,ye.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(t,a,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1],u=0;for(let p=0;p<5&&c<s;p++){let A=Pt.decodeDigit(t,l,c,Pt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);for(let N of l)c+=N;A>=10&&(u|=1<<4-p),p!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(i.length!==5)throw new te;let x=this.determineCheckDigit(u);if(cr.extensionChecksum(i.toString())!==x)throw new te;return c}static extensionChecksum(t){let a=t.length,i=0;for(let l=a-2;l>=0;l-=2)i+=t.charAt(l).charCodeAt(0)-48;i*=3;for(let l=a-1;l>=0;l-=2)i+=t.charAt(l).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new te}static parseExtensionString(t){if(t.length!==5)return null;let a=cr.parseExtension5String(t);return a==null?null:new Map([[ut.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let i=parseInt(t.substring(1)),l=(i/100).toString(),s=i%100,c=s<10?"0"+s:s.toString();return a+l+"."+c}}class _l{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,i){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(a,i,l),c=l.toString(),u=_l.parseExtensionString(c),x=[new Te((i[0]+i[1])/2,t),new Te(s,t)],p=new Ae(c,null,0,x,ye.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(t,a,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1],u=0;for(let x=0;x<2&&c<s;x++){let p=Pt.decodeDigit(t,l,c,Pt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let A of l)c+=A;p>=10&&(u|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(i.length!==2)throw new te;if(parseInt(i.toString())%4!==u)throw new te;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[ut.ISSUE_NUMBER,parseInt(t)]])}}class ur{static decodeRow(t,a,i){let l=Pt.findGuardPattern(a,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new cr().decodeRow(t,a,l)}catch{return new _l().decodeRow(t,a,l)}}}ur.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class it extends Pt{constructor(){super(),this.decodeRowStringBuffer="",it.L_AND_G_PATTERNS=it.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=it.L_PATTERNS[t-10],i=new Int32Array(a.length);for(let l=0;l<a.length;l++)i[l]=a[a.length-l-1];it.L_AND_G_PATTERNS[t]=i}}decodeRow(t,a,i){let l=it.findStartGuardPattern(a),s=i==null?null:i.get(Ie.NEED_RESULT_POINT_CALLBACK);if(s!=null){const he=new Te((l[0]+l[1])/2,t);s.foundPossibleResultPoint(he)}let c=this.decodeMiddle(a,l,this.decodeRowStringBuffer),u=c.rowOffset,x=c.resultString;if(s!=null){const he=new Te(u,t);s.foundPossibleResultPoint(he)}let p=this.decodeEnd(a,u);if(s!=null){const he=new Te((p[0]+p[1])/2,t);s.foundPossibleResultPoint(he)}let A=p[1],N=A+(A-p[0]);if(N>=a.getSize()||!a.isRange(A,N,!1))throw new te;let _=x.toString();if(_.length<8)throw new ee;if(!it.checkChecksum(_))throw new Y;let B=(l[1]+l[0])/2,j=(p[1]+p[0])/2,U=this.getBarcodeFormat(),V=[new Te(B,t),new Te(j,t)],W=new Ae(_,null,0,V,U,new Date().getTime()),me=0;try{let he=ur.decodeRow(t,a,p[1]);W.putMetadata(ut.UPC_EAN_EXTENSION,he.getText()),W.putAllMetadata(he.getResultMetadata()),W.addResultPoints(he.getResultPoints()),me=he.getText().length}catch{}let ge=i==null?null:i.get(Ie.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let he=!1;for(let Ke in ge)if(me.toString()===Ke){he=!0;break}if(!he)throw new te}return W}decodeEnd(t,a){return it.findGuardPattern(t,a,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return it.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let i=parseInt(t.charAt(a-1),10);return it.getStandardUPCEANChecksum(t.substring(0,a-1))===i}static getStandardUPCEANChecksum(t){let a=t.length,i=0;for(let l=a-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ee;i+=s}i*=3;for(let l=a-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ee;i+=s}return(1e3-i)%10}}class ua extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1],u=0;for(let p=0;p<6&&c<s;p++){let A=it.decodeDigit(t,l,c,it.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);for(let N of l)c+=N;A>=10&&(u|=1<<5-p)}i=ua.determineFirstDigit(i,u),c=it.findGuardPattern(t,c,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<s;p++){let A=it.decodeDigit(t,l,c,it.L_PATTERNS);i+=String.fromCharCode(48+A);for(let N of l)c+=N}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(t,a){for(let i=0;i<10;i++)if(a===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new te}}ua.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class La extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1];for(let x=0;x<4&&c<s;x++){let p=it.decodeDigit(t,l,c,it.L_PATTERNS);i+=String.fromCharCode(48+p);for(let A of l)c+=A}c=it.findGuardPattern(t,c,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<s;x++){let p=it.decodeDigit(t,l,c,it.L_PATTERNS);i+=String.fromCharCode(48+p);for(let A of l)c+=A}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return ye.EAN_8}}class fr extends it{constructor(){super(...arguments),this.ean13Reader=new ua}getBarcodeFormat(){return ye.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,i))}decodeMiddle(t,a,i){return this.ean13Reader.decodeMiddle(t,a,i)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let i=new Ae(a.substring(1),null,null,t.getResultPoints(),ye.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new te}reset(){this.ean13Reader.reset()}}class An extends it{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,i){const l=this.decodeMiddleCounters.map(p=>p);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let c=a[1],u=0;for(let p=0;p<6&&c<s;p++){const A=An.decodeDigit(t,l,c,An.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);for(let N of l)c+=N;A>=10&&(u|=1<<5-p)}let x=An.determineNumSysAndCheckDigit(i,u);return{rowOffset:c,resultString:x}}decodeEnd(t,a){return An.findGuardPatternWithoutCounters(t,a,!0,An.MIDDLE_END_PATTERN)}checkChecksum(t){return it.checkChecksum(An.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let s=String.fromCharCode(48+i),c=String.fromCharCode(48+l);return s+t+c}throw te.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),i=new Qe;i.append(t.charAt(0));let l=a[5];switch(l){case 0:case 1:case 2:i.appendChars(a,0,2),i.append(l),i.append("0000"),i.appendChars(a,2,3);break;case 3:i.appendChars(a,0,3),i.append("00000"),i.appendChars(a,3,2);break;case 4:i.appendChars(a,0,4),i.append("00000"),i.append(a[4]);break;default:i.appendChars(a,0,5),i.append("0000"),i.append(l);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}An.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),An.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Rl extends jt{constructor(t){super();let a=t==null?null:t.get(Ie.POSSIBLE_FORMATS),i=[];b(a)?(i.push(new ua),i.push(new fr),i.push(new La),i.push(new An)):(a.indexOf(ye.EAN_13)>-1&&i.push(new ua),a.indexOf(ye.UPC_A)>-1&&i.push(new fr),a.indexOf(ye.EAN_8)>-1&&i.push(new La),a.indexOf(ye.UPC_E)>-1&&i.push(new An)),this.readers=i}decodeRow(t,a,i){for(let l of this.readers)try{const s=l.decodeRow(t,a,i),c=s.getBarcodeFormat()===ye.EAN_13&&s.getText().charAt(0)==="0",u=i==null?null:i.get(Ie.POSSIBLE_FORMATS),x=u==null||u.includes(ye.UPC_A);if(c&&x){const p=s.getRawBytes(),A=new Ae(s.getText().substring(1),p,p?p.length:null,s.getResultPoints(),ye.UPC_A);return A.putAllMetadata(s.getResultMetadata()),A}return s}catch{}throw new te}reset(){for(let t of this.readers)t.reset()}}class xn extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let i=0;i<a.length;i++)if(jt.patternMatchVariance(t,a[i],xn.MAX_INDIVIDUAL_VARIANCE)<xn.MAX_AVG_VARIANCE)return i;throw new te}static count(t){return et.sum(new Int32Array(t))}static increment(t,a){let i=0,l=a[0];for(let s=1;s<t.length;s++)a[s]>l&&(l=a[s],i=s);t[i]++}static decrement(t,a){let i=0,l=a[0];for(let s=1;s<t.length;s++)a[s]<l&&(l=a[s],i=s);t[i]--}static isFinderPattern(t){let a=t[0]+t[1],i=a+t[2]+t[3],l=a/i;if(l>=xn.MIN_FINDER_PATTERN_RATIO&&l<=xn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let u of t)u>c&&(c=u),u<s&&(s=u);return c<10*s}return!1}}xn.MAX_AVG_VARIANCE=.2,xn.MAX_INDIVIDUAL_VARIANCE=.45,xn.MIN_FINDER_PATTERN_RATIO=9.5/12,xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ka{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ka))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ja{constructor(t,a,i,l,s){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Te(i,s)),this.resultPoints.push(new Te(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof ja))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class fa{constructor(){}static getRSSvalue(t,a,i){let l=0;for(let x of t)l+=x;let s=0,c=0,u=t.length;for(let x=0;x<u-1;x++){let p;for(p=1,c|=1<<x;p<t[x];p++,c&=~(1<<x)){let A=fa.combins(l-p-1,u-x-2);if(i&&c===0&&l-p-(u-x-1)>=u-x-1&&(A-=fa.combins(l-p-(u-x),u-x-2)),u-x-1>1){let N=0;for(let _=l-p-(u-x-2);_>a;_--)N+=fa.combins(l-p-_-1,u-x-3);A-=N*(u-1-x)}else l-p>a&&A--;s+=A}l-=p}return s}static combins(t,a){let i,l;t-a>a?(l=a,i=t-a):(l=t-a,i=a);let s=1,c=1;for(let u=t;u>i;u--)s*=u,c<=l&&(s/=c,c++);for(;c<=l;)s/=c,c++;return s}}class Os{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let i=12*a,l=new Ee(i),s=0,u=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(u&1<<x)!=0&&l.set(s),s++;for(let x=1;x<t.length;++x){let p=t[x],A=p.getLeftChar().getValue();for(let N=11;N>=0;--N)(A&1<<N)!=0&&l.set(s),s++;if(p.getRightChar()!=null){let N=p.getRightChar().getValue();for(let _=11;_>=0;--_)(N&1<<_)!=0&&l.set(s),s++}}return l}}class Ua{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ur{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class yn extends Ur{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===yn.FNC1}}yn.FNC1="$";class Sa extends Ur{constructor(t,a,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Rn extends Ur{constructor(t,a,i){if(super(t),a<0||a>10||i<0||i>10)throw new ee;this.firstDigit=a,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Rn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Rn.FNC1}isAnyFNC1(){return this.firstDigit===Rn.FNC1||this.secondDigit===Rn.FNC1}}Rn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new te;let a=t.substring(0,2);for(let s of Se.TWO_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,s[2],t):Se.processFixedAI(2,s[1],t);if(t.length<3)throw new te;let i=t.substring(0,3);for(let s of Se.THREE_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,s[2],t):Se.processFixedAI(3,s[1],t);for(let s of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,s[2],t):Se.processFixedAI(4,s[1],t);if(t.length<4)throw new te;let l=t.substring(0,4);for(let s of Se.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,s[2],t):Se.processFixedAI(4,s[1],t);throw new te}static processFixedAI(t,a,i){if(i.length<t)throw new te;let l=i.substring(0,t);if(i.length<t+a)throw new te;let s=i.substring(t,t+a),c=i.substring(t+a),u="("+l+")"+s,x=Se.parseFieldsInGeneralPurpose(c);return x==null?u:u+x}static processVariableAI(t,a,i){let l=i.substring(0,t),s;i.length<t+a?s=i.length:s=t+a;let c=i.substring(t,s),u=i.substring(s),x="("+l+")"+c,p=Se.parseFieldsInGeneralPurpose(u);return p==null?x:x+p}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class On{constructor(t){this.buffer=new Qe,this.information=t}decodeAllCodes(t,a){let i=a,l=null;do{let s=this.decodeGeneralPurposeField(i,l),c=Se.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&t.append(c),s.isRemaining()?l=""+s.getRemainingValue():l=null,i===s.getNewPosition())break;i=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new Rn(this.information.getSize(),Rn.FNC1,Rn.FNC1):new Rn(this.information.getSize(),s-1,Rn.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),i=(a-8)/11,l=(a-8)%11;return new Rn(t+7,i,l)}extractNumericValueFromBitArray(t,a){return On.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,i){let l=0;for(let s=0;s<i;++s)t.get(a+s)&&(l|=1<<i-s-1);return l}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Sa(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Sa(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let i=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new Sa(this.current.getPosition(),this.buffer.toString()):a=new Sa(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ua(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new Sa(this.current.getPosition(),this.buffer.toString());return new Ua(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ua(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new Sa(this.current.getPosition(),this.buffer.toString());return new Ua(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ua(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new Sa(this.current.getPosition(),this.buffer.toString());return new Ua(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ua(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new yn(t+5,yn.FNC1);if(a>=5&&a<15)return new yn(t+5,"0"+(a-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new yn(t+7,""+(i+1));if(i>=90&&i<116)return new yn(t+7,""+(i+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new ee}return new yn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new yn(t+5,yn.FNC1);if(a>=5&&a<15)return new yn(t+5,"0"+(a-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new yn(t+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new jn("Decoding invalid alphanumeric value: "+i)}return new yn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class en{constructor(t){this.information=t,this.generalDecoder=new On(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class St extends en{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,i)}encodeCompressedGtinWithoutAI(t,a,i){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}St.appendCheckDigit(t,i)}static appendCheckDigit(t,a){let i=0;for(let l=0;l<13;l++){let s=t.charAt(l+a).charCodeAt(0)-48;i+=(l&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)}}St.GTIN_SIZE=40;class Kn extends St{constructor(t){super(t)}parseInformation(){let t=new Qe;t.append("(01)");let a=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,Kn.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,Kn.HEADER_SIZE+44)}}Kn.HEADER_SIZE=4;class vi extends en{constructor(t){super(t)}parseInformation(){let t=new Qe;return this.getGeneralDecoder().decodeAllCodes(t,vi.HEADER_SIZE)}}vi.HEADER_SIZE=5;class Fr extends St{constructor(t){super(t)}encodeCompressedWeight(t,a,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,i);this.addWeightCode(t,l);let s=this.checkWeight(l),c=1e5;for(let u=0;u<5;++u)s/c===0&&t.append("0"),c/=10;t.append(s)}}class da extends Fr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=da.HEADER_SIZE+Fr.GTIN_SIZE+da.WEIGHT_SIZE)throw new te;let t=new Qe;return this.encodeCompressedGtin(t,da.HEADER_SIZE),this.encodeCompressedWeight(t,da.HEADER_SIZE+Fr.GTIN_SIZE,da.WEIGHT_SIZE),t.toString()}}da.HEADER_SIZE=5,da.WEIGHT_SIZE=15;class Is extends da{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class dr extends da{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Fn extends St{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Fn.HEADER_SIZE+St.GTIN_SIZE)throw new te;let t=new Qe;this.encodeCompressedGtin(t,Fn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Fn.HEADER_SIZE+St.GTIN_SIZE,Fn.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Fn.HEADER_SIZE+St.GTIN_SIZE+Fn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Fn.HEADER_SIZE=8,Fn.LAST_DIGIT_SIZE=2;class Zt extends St{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Zt.HEADER_SIZE+St.GTIN_SIZE)throw new te;let t=new Qe;this.encodeCompressedGtin(t,Zt.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Zt.HEADER_SIZE+St.GTIN_SIZE,Zt.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Zt.HEADER_SIZE+St.GTIN_SIZE+Zt.LAST_DIGIT_SIZE,Zt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Zt.HEADER_SIZE+St.GTIN_SIZE+Zt.LAST_DIGIT_SIZE+Zt.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}Zt.HEADER_SIZE=8,Zt.LAST_DIGIT_SIZE=2,Zt.FIRST_THREE_DIGITS_SIZE=10;class bt extends Fr{constructor(t,a,i){super(t),this.dateCode=i,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE+bt.DATE_SIZE)throw new te;let t=new Qe;return this.encodeCompressedGtin(t,bt.HEADER_SIZE),this.encodeCompressedWeight(t,bt.HEADER_SIZE+bt.GTIN_SIZE,bt.WEIGHT_SIZE),this.encodeCompressedDate(t,bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,bt.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=i%32;i/=32;let s=i%12+1;i/=12;let c=i;c/10==0&&t.append("0"),t.append(c),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}bt.HEADER_SIZE=8,bt.WEIGHT_SIZE=20,bt.DATE_SIZE=16;function Si(S){try{if(S.get(1))return new Kn(S);if(!S.get(2))return new vi(S);switch(On.extractNumericValueFromBitArray(S,1,4)){case 4:return new Is(S);case 5:return new dr(S)}switch(On.extractNumericValueFromBitArray(S,1,5)){case 12:return new Fn(S);case 13:return new Zt(S)}switch(On.extractNumericValueFromBitArray(S,1,7)){case 56:return new bt(S,"310","11");case 57:return new bt(S,"320","11");case 58:return new bt(S,"310","13");case 59:return new bt(S,"320","13");case 60:return new bt(S,"310","15");case 61:return new bt(S,"320","15");case 62:return new bt(S,"310","17");case 63:return new bt(S,"320","17")}}catch(t){throw console.log(t),new jn("unknown decoder: "+S)}}class In{constructor(t,a,i,l){this.leftchar=t,this.rightchar=a,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof In?In.equalsOrNull(t.leftchar,a.leftchar)&&In.equalsOrNull(t.rightchar,a.rightchar)&&In.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:In.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Qt{constructor(t,a,i){this.pairs=t,this.rowNumber=a,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof Qt?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let i;return t.forEach((l,s)=>{a.forEach(c=>{l.getLeftChar().getValue()===c.getLeftChar().getValue()&&l.getRightChar().getValue()===c.getRightChar().getValue()&&l.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(i=!0)})}),i}}class de extends xn{constructor(t){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,i){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(t,a))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(s){if(s instanceof te){if(!this.pairs.length)throw new te;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new te}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let i=a;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(l.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,i+1)}catch(c){this.verbose&&console.log(c)}}throw new te}static isValidSequence(t){for(let a of de.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let i=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=a[l]){i=!1;break}if(i)return!0}return!1}storeRow(t,a){let i=0,l=!1,s=!1;for(;i<this.rows.length;){let c=this.rows[i];if(c.getRowNumber()>t){s=c.isEquivalent(this.pairs);break}l=c.isEquivalent(this.pairs),i++}s||l||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Qt(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let i of a)if(i.getPairs().length!==t.length){for(let l of i.getPairs())for(let s of t)if(In.equals(l,s))break}}static isPartialRow(t,a){for(let i of a){let l=!0;for(let s of t){let c=!1;for(let u of i.getPairs())if(s.equals(u)){c=!0;break}if(!c){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=Os.buildBitArray(t),l=Si(a).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),u=[s[0],s[1],c[0],c[1]];return new Ae(l,null,null,u,ye.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),s=2;for(let u=1;u<this.pairs.size();++u){let x=this.pairs.get(u);l+=x.getLeftChar().getChecksumPortion(),s++;let p=x.getRightChar();p!=null&&(l+=p.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==a.getValue()}static getNextSecondBar(t,a){let i;return t.get(a)?(i=t.getNextUnset(a),i=t.getNextSet(i)):(i=t.getNextSet(a),i=t.getNextUnset(i)),i}retrieveNextPair(t,a,i){let l=a.length%2==0;this.startFromEven&&(l=!l);let s,c=!0,u=-1;do this.findNextPair(t,a,u),s=this.parseFoundFinderPattern(t,i,l),s==null?u=de.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new te;let p;try{p=this.decodeDataCharacter(t,s,l,!1)}catch(A){p=null,this.verbose&&console.log(A)}return new In(x,p,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c;i>=0?c=i:this.isEmptyPair(a)?c=0:c=a[a.length-1].getFinderPattern().getStartEnd()[1];let u=a.length%2!=0;this.startFromEven&&(u=!u);let x=!1;for(;c<s&&(x=!t.get(c),!!x);)c++;let p=0,A=c;for(let N=c;N<s;N++)if(t.get(N)!=x)l[p]++;else{if(p==3){if(u&&de.reverseCounters(l),de.isFinderPattern(l)){this.startEnd[0]=A,this.startEnd[1]=N;return}u&&de.reverseCounters(l),A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,x=!x}throw new te}static reverseCounters(t){let a=t.length;for(let i=0;i<a/2;++i){let l=t[i];t[i]=t[a-i-1],t[a-i-1]=l}}parseFoundFinderPattern(t,a,i){let l,s,c;if(i){let p=this.startEnd[0]-1;for(;p>=0&&!t.get(p);)p--;p++,l=this.startEnd[0]-p,s=p,c=this.startEnd[1]}else s=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),l=c-this.startEnd[1];let u=this.getDecodeFinderCounters();le.arraycopy(u,0,u,1,u.length-1),u[0]=l;let x;try{x=this.parseFinderValue(u,de.FINDER_PATTERNS)}catch{return null}return new ja(x,[s,c],s,c,a)}decodeDataCharacter(t,a,i,l){let s=this.getDataCharacterCounters();for(let Ct=0;Ct<s.length;Ct++)s[Ct]=0;if(l)de.recordPatternInReverse(t,a.getStartEnd()[0],s);else{de.recordPattern(t,a.getStartEnd()[1],s);for(let Ct=0,pn=s.length-1;Ct<pn;Ct++,pn--){let Bn=s[Ct];s[Ct]=s[pn],s[pn]=Bn}}let c=17,u=et.sum(new Int32Array(s))/c,x=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(u-x)/x>.3)throw new te;let p=this.getOddCounts(),A=this.getEvenCounts(),N=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let Ct=0;Ct<s.length;Ct++){let pn=1*s[Ct]/u,Bn=pn+.5;if(Bn<1){if(pn<.3)throw new te;Bn=1}else if(Bn>8){if(pn>8.7)throw new te;Bn=8}let ji=Ct/2;(Ct&1)==0?(p[ji]=Bn,N[ji]=pn-Bn):(A[ji]=Bn,_[ji]=pn-Bn)}this.adjustOddEvenCounts(c);let B=4*a.getValue()+(i?0:2)+(l?0:1)-1,j=0,U=0;for(let Ct=p.length-1;Ct>=0;Ct--){if(de.isNotA1left(a,i,l)){let pn=de.WEIGHTS[B][2*Ct];U+=p[Ct]*pn}j+=p[Ct]}let V=0;for(let Ct=A.length-1;Ct>=0;Ct--)if(de.isNotA1left(a,i,l)){let pn=de.WEIGHTS[B][2*Ct+1];V+=A[Ct]*pn}let W=U+V;if((j&1)!=0||j>13||j<4)throw new te;let me=(13-j)/2,ge=de.SYMBOL_WIDEST[me],he=9-ge,Ke=fa.getRSSvalue(p,ge,!0),Pe=fa.getRSSvalue(A,he,!1),Kt=de.EVEN_TOTAL_SUBSET[me],Pn=de.GSUM[me],Cn=Ke*Kt+Pe+Pn;return new ka(Cn,W)}static isNotA1left(t,a,i){return!(t.getValue()==0&&a&&i)}adjustOddEvenCounts(t){let a=et.sum(new Int32Array(this.getOddCounts())),i=et.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;a>13?s=!0:a<4&&(l=!0);let c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let x=a+i-t,p=(a&1)==1,A=(i&1)==0;if(x==1)if(p){if(A)throw new te;s=!0}else{if(!A)throw new te;u=!0}else if(x==-1)if(p){if(A)throw new te;l=!0}else{if(!A)throw new te;c=!0}else if(x==0){if(p){if(!A)throw new te;a<i?(l=!0,u=!0):(s=!0,c=!0)}else if(A)throw new te}else throw new te;if(l){if(s)throw new te;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new te;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class Ds extends ka{constructor(t,a,i){super(t,a),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Et extends xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,i){const l=this.decodePair(a,!1,t,i);Et.addOrTally(this.possibleLeftPairs,l),a.reverse();let s=this.decodePair(a,!0,t,i);Et.addOrTally(this.possibleRightPairs,s),a.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Et.checkChecksum(c,u))return Et.constructResult(c,u)}throw new te}static addOrTally(t,a){if(a==null)return;let i=!1;for(let l of t)if(l.getValue()===a.getValue()){l.incrementCount(),i=!0;break}i||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let i=4537077*t.getValue()+a.getValue(),l=new String(i).toString(),s=new Qe;for(let p=13-l.length;p>0;p--)s.append("0");s.append(l);let c=0;for(let p=0;p<13;p++){let A=s.charAt(p).charCodeAt(0)-48;c+=(p&1)===0?3*A:A}c=10-c%10,c===10&&(c=0),s.append(c.toString());let u=t.getFinderPattern().getResultPoints(),x=a.getFinderPattern().getResultPoints();return new Ae(s.toString(),null,0,[u[0],u[1],x[0],x[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(t,a){let i=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(t,a,i,l){try{let s=this.findFinderPattern(t,a),c=this.parseFoundFinderPattern(t,i,a,s),u=l==null?null:l.get(Ie.NEED_RESULT_POINT_CALLBACK);if(u!=null){let A=(s[0]+s[1])/2;a&&(A=t.getSize()-1-A),u.foundPossibleResultPoint(new Te(A,i))}let x=this.decodeDataCharacter(t,c,!0),p=this.decodeDataCharacter(t,c,!1);return new Ds(1597*x.getValue()+p.getValue(),x.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,a,i){let l=this.getDataCharacterCounters();for(let V=0;V<l.length;V++)l[V]=0;if(i)jt.recordPatternInReverse(t,a.getStartEnd()[0],l);else{jt.recordPattern(t,a.getStartEnd()[1]+1,l);for(let V=0,W=l.length-1;V<W;V++,W--){let me=l[V];l[V]=l[W],l[W]=me}}let s=i?16:15,c=et.sum(new Int32Array(l))/s,u=this.getOddCounts(),x=this.getEvenCounts(),p=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let V=0;V<l.length;V++){let W=l[V]/c,me=Math.floor(W+.5);me<1?me=1:me>8&&(me=8);let ge=Math.floor(V/2);(V&1)===0?(u[ge]=me,p[ge]=W-me):(x[ge]=me,A[ge]=W-me)}this.adjustOddEvenCounts(i,s);let N=0,_=0;for(let V=u.length-1;V>=0;V--)_*=9,_+=u[V],N+=u[V];let B=0,j=0;for(let V=x.length-1;V>=0;V--)B*=9,B+=x[V],j+=x[V];let U=_+3*B;if(i){if((N&1)!==0||N>12||N<4)throw new te;let V=(12-N)/2,W=Et.OUTSIDE_ODD_WIDEST[V],me=9-W,ge=fa.getRSSvalue(u,W,!1),he=fa.getRSSvalue(x,me,!0),Ke=Et.OUTSIDE_EVEN_TOTAL_SUBSET[V],Pe=Et.OUTSIDE_GSUM[V];return new ka(ge*Ke+he+Pe,U)}else{if((j&1)!==0||j>10||j<4)throw new te;let V=(10-j)/2,W=Et.INSIDE_ODD_WIDEST[V],me=9-W,ge=fa.getRSSvalue(u,W,!0),he=fa.getRSSvalue(x,me,!1),Ke=Et.INSIDE_ODD_TOTAL_SUBSET[V],Pe=Et.INSIDE_GSUM[V];return new ka(he*Ke+ge+Pe,U)}}findFinderPattern(t,a){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=t.getSize(),s=!1,c=0;for(;c<l&&(s=!t.get(c),a!==s);)c++;let u=0,x=c;for(let p=c;p<l;p++)if(t.get(p)!==s)i[u]++;else{if(u===3){if(xn.isFinderPattern(i))return[x,p];x+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,s=!s}throw new te}parseFoundFinderPattern(t,a,i,l){let s=t.get(l[0]),c=l[0]-1;for(;c>=0&&s!==t.get(c);)c--;c++;const u=l[0]-c,x=this.getDecodeFinderCounters(),p=new Int32Array(x.length);le.arraycopy(x,0,p,1,x.length-1),p[0]=u;const A=this.parseFinderValue(p,Et.FINDER_PATTERNS);let N=c,_=l[1];return i&&(N=t.getSize()-1-N,_=t.getSize()-1-_),new ja(A,[c,l[1]],N,_,a)}adjustOddEvenCounts(t,a){let i=et.sum(new Int32Array(this.getOddCounts())),l=et.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1,u=!1,x=!1;t?(i>12?c=!0:i<4&&(s=!0),l>12?x=!0:l<4&&(u=!0)):(i>11?c=!0:i<5&&(s=!0),l>10?x=!0:l<4&&(u=!0));let p=i+l-a,A=(i&1)===(t?1:0),N=(l&1)===1;if(p===1)if(A){if(N)throw new te;c=!0}else{if(!N)throw new te;x=!0}else if(p===-1)if(A){if(N)throw new te;s=!0}else{if(!N)throw new te;u=!0}else if(p===0){if(A){if(!N)throw new te;i<l?(s=!0,x=!0):(c=!0,u=!0)}else if(N)throw new te}else throw new te;if(s){if(c)throw new te;xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(x)throw new te;xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Et.OUTSIDE_GSUM=[0,161,961,2015,2715],Et.INSIDE_GSUM=[0,336,1036,1516],Et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Et.INSIDE_ODD_WIDEST=[2,4,6,8],Et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Wn extends jt{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const i=t?t.get(Ie.POSSIBLE_FORMATS):null,l=t&&t.get(Ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ye.EAN_13)||i.includes(ye.UPC_A)||i.includes(ye.EAN_8)||i.includes(ye.UPC_E))&&this.readers.push(new Rl(t)),i.includes(ye.CODE_39)&&this.readers.push(new _t(l)),i.includes(ye.CODE_128)&&this.readers.push(new pe),i.includes(ye.ITF)&&this.readers.push(new Ye),i.includes(ye.RSS_14)&&this.readers.push(new Et),i.includes(ye.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new Rl(t)),this.readers.push(new _t),this.readers.push(new Rl(t)),this.readers.push(new pe),this.readers.push(new Ye),this.readers.push(new Et),this.readers.push(new de(this.verbose)))}decodeRow(t,a,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,a,i)}catch{}throw new te}reset(){this.readers.forEach(t=>t.reset())}}class sc extends we{constructor(t=500,a){super(new Wn(a),t,a)}}class ht{constructor(t,a,i){this.ecCodewords=t,this.ecBlocks=[a],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(t,a,i,l,s,c){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=c;let u=0;const x=c.getECCodewords(),p=c.getECBlocks();for(let A of p)u+=A.getCount()*(A.getDataCodewords()+x);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new ee;for(let i of tt.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===a)return i;throw new ee}toString(){return""+this.versionNumber}static buildVersions(){return[new tt(1,10,10,8,8,new ht(5,new dt(1,3))),new tt(2,12,12,10,10,new ht(7,new dt(1,5))),new tt(3,14,14,12,12,new ht(10,new dt(1,8))),new tt(4,16,16,14,14,new ht(12,new dt(1,12))),new tt(5,18,18,16,16,new ht(14,new dt(1,18))),new tt(6,20,20,18,18,new ht(18,new dt(1,22))),new tt(7,22,22,20,20,new ht(20,new dt(1,30))),new tt(8,24,24,22,22,new ht(24,new dt(1,36))),new tt(9,26,26,24,24,new ht(28,new dt(1,44))),new tt(10,32,32,14,14,new ht(36,new dt(1,62))),new tt(11,36,36,16,16,new ht(42,new dt(1,86))),new tt(12,40,40,18,18,new ht(48,new dt(1,114))),new tt(13,44,44,20,20,new ht(56,new dt(1,144))),new tt(14,48,48,22,22,new ht(68,new dt(1,174))),new tt(15,52,52,24,24,new ht(42,new dt(2,102))),new tt(16,64,64,14,14,new ht(56,new dt(2,140))),new tt(17,72,72,16,16,new ht(36,new dt(4,92))),new tt(18,80,80,18,18,new ht(48,new dt(4,114))),new tt(19,88,88,20,20,new ht(56,new dt(4,144))),new tt(20,96,96,22,22,new ht(68,new dt(4,174))),new tt(21,104,104,24,24,new ht(56,new dt(6,136))),new tt(22,120,120,18,18,new ht(68,new dt(6,175))),new tt(23,132,132,20,20,new ht(62,new dt(8,163))),new tt(24,144,144,22,22,new ht(62,new dt(8,156),new dt(2,155))),new tt(25,8,18,6,16,new ht(7,new dt(1,5))),new tt(26,8,32,6,14,new ht(11,new dt(1,10))),new tt(27,12,26,10,24,new ht(14,new dt(1,16))),new tt(28,12,36,10,16,new ht(18,new dt(1,22))),new tt(29,16,36,14,16,new ht(24,new dt(1,32))),new tt(30,16,48,14,22,new ht(28,new dt(1,49)))]}}tt.VERSIONS=tt.buildVersions();class Ni{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new ee;this.version=Ni.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new xt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),i=t.getWidth();return tt.getVersionForDimensions(a,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,i=4,l=0;const s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let u=!1,x=!1,p=!1,A=!1;do if(i===s&&l===0&&!u)t[a++]=this.readCorner1(s,c)&255,i-=2,l+=2,u=!0;else if(i===s-2&&l===0&&(c&3)!==0&&!x)t[a++]=this.readCorner2(s,c)&255,i-=2,l+=2,x=!0;else if(i===s+4&&l===2&&(c&7)===0&&!p)t[a++]=this.readCorner3(s,c)&255,i-=2,l+=2,p=!0;else if(i===s-2&&l===0&&(c&7)===4&&!A)t[a++]=this.readCorner4(s,c)&255,i-=2,l+=2,A=!0;else{do i<s&&l>=0&&!this.readMappingMatrix.get(l,i)&&(t[a++]=this.readUtah(i,l,s,c)&255),i-=2,l+=2;while(i>=0&&l<c);i+=1,l+=3;do i>=0&&l<c&&!this.readMappingMatrix.get(l,i)&&(t[a++]=this.readUtah(i,l,s,c)&255),i+=2,l-=2;while(i<s&&l>=0);i+=3,l+=1}while(i<s||l<c);if(a!==this.version.getTotalCodewords())throw new ee;return t}readModule(t,a,i,l){return t<0&&(t+=i,a+=4-(i+4&7)),a<0&&(a+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,i,l){let s=0;return this.readModule(t-2,a-2,i,l)&&(s|=1),s<<=1,this.readModule(t-2,a-1,i,l)&&(s|=1),s<<=1,this.readModule(t-1,a-2,i,l)&&(s|=1),s<<=1,this.readModule(t-1,a-1,i,l)&&(s|=1),s<<=1,this.readModule(t-1,a,i,l)&&(s|=1),s<<=1,this.readModule(t,a-2,i,l)&&(s|=1),s<<=1,this.readModule(t,a-1,i,l)&&(s|=1),s<<=1,this.readModule(t,a,i,l)&&(s|=1),s}readCorner1(t,a){let i=0;return this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,1,t,a)&&(i|=1),i<<=1,this.readModule(t-1,2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(2,a-1,t,a)&&(i|=1),i<<=1,this.readModule(3,a-1,t,a)&&(i|=1),i}readCorner2(t,a){let i=0;return this.readModule(t-3,0,t,a)&&(i|=1),i<<=1,this.readModule(t-2,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(0,a-4,t,a)&&(i|=1),i<<=1,this.readModule(0,a-3,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i}readCorner3(t,a){let i=0;return this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(0,a-3,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-3,t,a)&&(i|=1),i<<=1,this.readModule(1,a-2,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i}readCorner4(t,a){let i=0;return this.readModule(t-3,0,t,a)&&(i|=1),i<<=1,this.readModule(t-2,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(2,a-1,t,a)&&(i|=1),i<<=1,this.readModule(3,a-1,t,a)&&(i|=1),i}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new I("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=a/l|0,u=i/s|0,x=c*l,p=u*s,A=new xt(p,x);for(let N=0;N<c;++N){const _=N*l;for(let B=0;B<u;++B){const j=B*s;for(let U=0;U<l;++U){const V=N*(l+2)+1+U,W=_+U;for(let me=0;me<s;++me){const ge=B*(s+2)+1+me;if(t.get(ge,V)){const he=j+me;A.set(he,W)}}}}}return A}}class Ti{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const i=a.getECBlocks();let l=0;const s=i.getECBlocks();for(let U of s)l+=U.getCount();const c=new Array(l);let u=0;for(let U of s)for(let V=0;V<U.getCount();V++){const W=U.getDataCodewords(),me=i.getECCodewords()+W;c[u++]=new Ti(W,new Uint8Array(me))}const p=c[0].codewords.length-i.getECCodewords(),A=p-1;let N=0;for(let U=0;U<A;U++)for(let V=0;V<u;V++)c[V].codewords[U]=t[N++];const _=a.getVersionNumber()===24,B=_?8:u;for(let U=0;U<B;U++)c[U].codewords[p-1]=t[N++];const j=c[0].codewords.length;for(let U=p;U<j;U++)for(let V=0;V<u;V++){const W=_?(V+8)%u:V,me=_&&W>7?U-1:U;c[W].codewords[me]=t[N++]}if(N!==t.length)throw new I;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new I(""+t);let a=0,i=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(i>0){const c=8-i,u=t<c?t:c,x=c-u,p=255>>8-u<<x;a=(s[l]&p)>>x,t-=u,i+=u,i===8&&(i=0,l++)}if(t>0){for(;t>=8;)a=a<<8|s[l]&255,l++,t-=8;if(t>0){const c=8-t,u=255>>c<<c;a=a<<t|(s[l]&u)>>c,i+=t}}return this.bitOffset=i,this.byteOffset=l,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var gt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(gt||(gt={}));class Na{static decode(t){const a=new Jn(t),i=new Qe,l=new Qe,s=new Array;let c=gt.ASCII_ENCODE;do if(c===gt.ASCII_ENCODE)c=this.decodeAsciiSegment(a,i,l);else{switch(c){case gt.C40_ENCODE:this.decodeC40Segment(a,i);break;case gt.TEXT_ENCODE:this.decodeTextSegment(a,i);break;case gt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,i);break;case gt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,i);break;case gt.BASE256_ENCODE:this.decodeBase256Segment(a,i,s);break;default:throw new ee}c=gt.ASCII_ENCODE}while(c!==gt.PAD_ENCODE&&a.available()>0);return l.length()>0&&i.append(l.toString()),new Dt(t,i.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,a,i){let l=!1;do{let s=t.readBits(8);if(s===0)throw new ee;if(s<=128)return l&&(s+=128),a.append(String.fromCharCode(s-1)),gt.ASCII_ENCODE;if(s===129)return gt.PAD_ENCODE;if(s<=229){const c=s-130;c<10&&a.append("0"),a.append(""+c)}else switch(s){case 230:return gt.C40_ENCODE;case 231:return gt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:a.append("[)>05"),i.insert(0,"");break;case 237:a.append("[)>06"),i.insert(0,"");break;case 238:return gt.ANSIX12_ENCODE;case 239:return gt.TEXT_ENCODE;case 240:return gt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new ee;break}}while(t.available()>0);return gt.ASCII_ENCODE}static decodeC40Segment(t,a){let i=!1;const l=[];let s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[x];i?(a.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):a.append(p)}else throw new ee;break;case 1:i?(a.append(String.fromCharCode(x+128)),i=!1):a.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[x];i?(a.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):a.append(p)}else switch(x){case 27:a.append("");break;case 30:i=!0;break;default:throw new ee}s=0;break;case 3:i?(a.append(String.fromCharCode(x+224)),i=!1):a.append(String.fromCharCode(x+96)),s=0;break;default:throw new ee}}}while(t.available()>0)}static decodeTextSegment(t,a){let i=!1,l=[],s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[x];i?(a.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):a.append(p)}else throw new ee;break;case 1:i?(a.append(String.fromCharCode(x+128)),i=!1):a.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[x];i?(a.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):a.append(p)}else switch(x){case 27:a.append("");break;case 30:i=!0;break;default:throw new ee}s=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[x];i?(a.append(String.fromCharCode(p.charCodeAt(0)+128)),i=!1):a.append(p),s=0}else throw new ee;break;default:throw new ee}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const i=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),i);for(let s=0;s<3;s++){const c=i[s];switch(c){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(c<14)a.append(String.fromCharCode(c+44));else if(c<40)a.append(String.fromCharCode(c+51));else throw new ee;break}}}while(t.available()>0)}static parseTwoBytes(t,a,i){let l=(t<<8)+a-1,s=Math.floor(l/1600);i[0]=s,l-=s*1600,s=Math.floor(l/40),i[1]=s,i[2]=l-s*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),a.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,a,i){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let c;if(s===0?c=t.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),c<0)throw new ee;const u=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new ee;u[x]=this.unrandomize255State(t.readBits(8),l++)}i.push(u);try{a.append(We.decode(u,ve.ISO88591))}catch(x){throw new jn("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,a){const i=149*a%255+1,l=t-i;return l>=0?l:l+256}}Na.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Na.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Na.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Na.TEXT_SHIFT2_SET_CHARS=Na.C40_SHIFT2_SET_CHARS,Na.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class oc{constructor(){this.rsDecoder=new Za(ft.DATA_MATRIX_FIELD_256)}decode(t){const a=new Ni(t),i=a.getVersion(),l=a.readCodewords(),s=Ti.getDataBlocks(l,i);let c=0;for(let p of s)c+=p.getNumDataCodewords();const u=new Uint8Array(c),x=s.length;for(let p=0;p<x;p++){const A=s[p],N=A.getCodewords(),_=A.getNumDataCodewords();this.correctErrors(N,_);for(let B=0;B<_;B++)u[B*x+p]=N[B]}return Na.decode(u)}correctErrors(t,a){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-a)}catch{throw new Y}for(let l=0;l<a;l++)t[l]=i[l]}}class Ut{constructor(t){this.image=t,this.rectangleDetector=new Yt(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new te;a=this.shiftToModuleCenter(a);const i=a[0],l=a[1],s=a[2],c=a[3];let u=this.transitionsBetween(i,c)+1,x=this.transitionsBetween(s,c)+1;(u&1)===1&&(u+=1),(x&1)===1&&(x+=1),4*u<7*x&&4*x<7*u&&(u=x=Math.max(u,x));let p=Ut.sampleGrid(this.image,i,l,s,c,u,x);return new kr(p,[i,l,s,c])}static shiftPoint(t,a,i){let l=(a.getX()-t.getX())/(i+1),s=(a.getY()-t.getY())/(i+1);return new Te(t.getX()+l,t.getY()+s)}static moveAway(t,a,i){let l=t.getX(),s=t.getY();return l<a?l-=1:l+=1,s<i?s-=1:s+=1,new Te(l,s)}detectSolid1(t){let a=t[0],i=t[1],l=t[3],s=t[2],c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,l),x=this.transitionsBetween(l,s),p=this.transitionsBetween(s,a),A=c,N=[s,a,i,l];return A>u&&(A=u,N[0]=a,N[1]=i,N[2]=l,N[3]=s),A>x&&(A=x,N[0]=i,N[1]=l,N[2]=s,N[3]=a),A>p&&(N[0]=l,N[1]=s,N[2]=a,N[3]=i),N}detectSolid2(t){let a=t[0],i=t[1],l=t[2],s=t[3],c=this.transitionsBetween(a,s),u=Ut.shiftPoint(i,l,(c+1)*4),x=Ut.shiftPoint(l,i,(c+1)*4),p=this.transitionsBetween(u,a),A=this.transitionsBetween(x,s);return p<A?(t[0]=a,t[1]=i,t[2]=l,t[3]=s):(t[0]=i,t[1]=l,t[2]=s,t[3]=a),t}correctTopRight(t){let a=t[0],i=t[1],l=t[2],s=t[3],c=this.transitionsBetween(a,s),u=this.transitionsBetween(i,s),x=Ut.shiftPoint(a,i,(u+1)*4),p=Ut.shiftPoint(l,i,(c+1)*4);c=this.transitionsBetween(x,s),u=this.transitionsBetween(p,s);let A=new Te(s.getX()+(l.getX()-i.getX())/(c+1),s.getY()+(l.getY()-i.getY())/(c+1)),N=new Te(s.getX()+(a.getX()-i.getX())/(u+1),s.getY()+(a.getY()-i.getY())/(u+1));if(!this.isValid(A))return this.isValid(N)?N:null;if(!this.isValid(N))return A;let _=this.transitionsBetween(x,A)+this.transitionsBetween(p,A),B=this.transitionsBetween(x,N)+this.transitionsBetween(p,N);return _>B?A:N}shiftToModuleCenter(t){let a=t[0],i=t[1],l=t[2],s=t[3],c=this.transitionsBetween(a,s)+1,u=this.transitionsBetween(l,s)+1,x=Ut.shiftPoint(a,i,u*4),p=Ut.shiftPoint(l,i,c*4);c=this.transitionsBetween(x,s)+1,u=this.transitionsBetween(p,s)+1,(c&1)===1&&(c+=1),(u&1)===1&&(u+=1);let A=(a.getX()+i.getX()+l.getX()+s.getX())/4,N=(a.getY()+i.getY()+l.getY()+s.getY())/4;a=Ut.moveAway(a,A,N),i=Ut.moveAway(i,A,N),l=Ut.moveAway(l,A,N),s=Ut.moveAway(s,A,N);let _,B;return x=Ut.shiftPoint(a,i,u*4),x=Ut.shiftPoint(x,s,c*4),_=Ut.shiftPoint(i,a,u*4),_=Ut.shiftPoint(_,l,c*4),p=Ut.shiftPoint(l,s,u*4),p=Ut.shiftPoint(p,i,c*4),B=Ut.shiftPoint(s,l,u*4),B=Ut.shiftPoint(B,a,c*4),[x,_,p,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,i,l,s,c,u){return Qn.getInstance().sampleGrid(t,c,u,.5,.5,c-.5,.5,c-.5,u-.5,.5,u-.5,a.getX(),a.getY(),s.getX(),s.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(t,a){let i=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(a.getX()),c=Math.trunc(a.getY()),u=Math.abs(c-l)>Math.abs(s-i);if(u){let U=i;i=l,l=U,U=s,s=c,c=U}let x=Math.abs(s-i),p=Math.abs(c-l),A=-x/2,N=l<c?1:-1,_=i<s?1:-1,B=0,j=this.image.get(u?l:i,u?i:l);for(let U=i,V=l;U!==s;U+=_){let W=this.image.get(u?V:U,u?U:V);if(W!==j&&(B++,j=W),A+=p,A>0){if(V===c)break;V+=N,A-=x}}return B}}class Ta{constructor(){this.decoder=new oc}decode(t,a=null){let i,l;if(a!=null&&a.has(Ie.PURE_BARCODE)){const p=Ta.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(p),l=Ta.NO_POINTS}else{const p=new Ut(t.getBlackMatrix()).detect();i=this.decoder.decode(p.getBits()),l=p.getPoints()}const s=i.getRawBytes(),c=new Ae(i.getText(),s,8*s.length,l,ye.DATA_MATRIX,le.currentTimeMillis()),u=i.getByteSegments();u!=null&&c.putMetadata(ut.BYTE_SEGMENTS,u);const x=i.getECLevel();return x!=null&&c.putMetadata(ut.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(a==null||i==null)throw new te;const l=this.moduleSize(a,t);let s=a[1];const c=i[1];let u=a[0];const p=(i[0]-u+1)/l,A=(c-s+1)/l;if(p<=0||A<=0)throw new te;const N=l/2;s+=N,u+=N;const _=new xt(p,A);for(let B=0;B<A;B++){const j=s+B*l;for(let U=0;U<p;U++)t.get(u+U*l,j)&&_.set(U,B)}return _}static moduleSize(t,a){const i=a.getWidth();let l=t[0];const s=t[1];for(;l<i&&a.get(l,s);)l++;if(l===i)throw new te;const c=l-t[0];if(c===0)throw new te;return c}}Ta.NO_POINTS=[];class zr extends we{constructor(t=500){super(new Ta,t)}}var _i;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(_i||(_i={}));class $e{constructor(t,a,i){this.value=t,this.stringValue=a,this.bits=i,$e.FOR_BITS.set(i,this),$e.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return $e.L;case"M":return $e.M;case"Q":return $e.Q;case"H":return $e.H;default:throw new L(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof $e))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=$e.FOR_BITS.size)throw new I;return $e.FOR_BITS.get(t)}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.L=new $e(_i.L,"L",1),$e.M=new $e(_i.M,"M",0),$e.Q=new $e(_i.Q,"Q",3),$e.H=new $e(_i.H,"H",2);class ln{constructor(t){this.errorCorrectionLevel=$e.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return ae.bitCount(t^a)}static decodeFormatInformation(t,a){const i=ln.doDecodeFormatInformation(t,a);return i!==null?i:ln.doDecodeFormatInformation(t^ln.FORMAT_INFO_MASK_QR,a^ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let i=Number.MAX_SAFE_INTEGER,l=0;for(const s of ln.FORMAT_INFO_DECODE_LOOKUP){const c=s[0];if(c===t||c===a)return new ln(s[1]);let u=ln.numBitsDiffering(t,c);u<i&&(l=s[1],i=u),t!==a&&(u=ln.numBitsDiffering(a,c),u<i&&(l=s[1],i=u))}return i<=3?new ln(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof ln))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}ln.FORMAT_INFO_MASK_QR=21522,ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const i of a)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(t,a,...i){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=i;let l=0;const s=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();for(const u of c)l+=u.getCount()*(u.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ee;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ee}}static getVersionForNumber(t){if(t<1||t>40)throw new I;return Oe.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<Oe.VERSION_DECODE_INFO.length;l++){const s=Oe.VERSION_DECODE_INFO[l];if(s===t)return Oe.getVersionForNumber(l+7);const c=ln.numBitsDiffering(t,s);c<a&&(i=l+7,a=c)}return a<=3?Oe.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new xt(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const s=this.alignmentPatternCenters[l]-2;for(let c=0;c<i;c++)l===0&&(c===0||c===i-1)||l===i-1&&c===0||a.setRegion(this.alignmentPatternCenters[c]-2,s,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}Oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Oe.VERSIONS=[new Oe(1,new Int32Array(0),new X(7,new M(1,19)),new X(10,new M(1,16)),new X(13,new M(1,13)),new X(17,new M(1,9))),new Oe(2,Int32Array.from([6,18]),new X(10,new M(1,34)),new X(16,new M(1,28)),new X(22,new M(1,22)),new X(28,new M(1,16))),new Oe(3,Int32Array.from([6,22]),new X(15,new M(1,55)),new X(26,new M(1,44)),new X(18,new M(2,17)),new X(22,new M(2,13))),new Oe(4,Int32Array.from([6,26]),new X(20,new M(1,80)),new X(18,new M(2,32)),new X(26,new M(2,24)),new X(16,new M(4,9))),new Oe(5,Int32Array.from([6,30]),new X(26,new M(1,108)),new X(24,new M(2,43)),new X(18,new M(2,15),new M(2,16)),new X(22,new M(2,11),new M(2,12))),new Oe(6,Int32Array.from([6,34]),new X(18,new M(2,68)),new X(16,new M(4,27)),new X(24,new M(4,19)),new X(28,new M(4,15))),new Oe(7,Int32Array.from([6,22,38]),new X(20,new M(2,78)),new X(18,new M(4,31)),new X(18,new M(2,14),new M(4,15)),new X(26,new M(4,13),new M(1,14))),new Oe(8,Int32Array.from([6,24,42]),new X(24,new M(2,97)),new X(22,new M(2,38),new M(2,39)),new X(22,new M(4,18),new M(2,19)),new X(26,new M(4,14),new M(2,15))),new Oe(9,Int32Array.from([6,26,46]),new X(30,new M(2,116)),new X(22,new M(3,36),new M(2,37)),new X(20,new M(4,16),new M(4,17)),new X(24,new M(4,12),new M(4,13))),new Oe(10,Int32Array.from([6,28,50]),new X(18,new M(2,68),new M(2,69)),new X(26,new M(4,43),new M(1,44)),new X(24,new M(6,19),new M(2,20)),new X(28,new M(6,15),new M(2,16))),new Oe(11,Int32Array.from([6,30,54]),new X(20,new M(4,81)),new X(30,new M(1,50),new M(4,51)),new X(28,new M(4,22),new M(4,23)),new X(24,new M(3,12),new M(8,13))),new Oe(12,Int32Array.from([6,32,58]),new X(24,new M(2,92),new M(2,93)),new X(22,new M(6,36),new M(2,37)),new X(26,new M(4,20),new M(6,21)),new X(28,new M(7,14),new M(4,15))),new Oe(13,Int32Array.from([6,34,62]),new X(26,new M(4,107)),new X(22,new M(8,37),new M(1,38)),new X(24,new M(8,20),new M(4,21)),new X(22,new M(12,11),new M(4,12))),new Oe(14,Int32Array.from([6,26,46,66]),new X(30,new M(3,115),new M(1,116)),new X(24,new M(4,40),new M(5,41)),new X(20,new M(11,16),new M(5,17)),new X(24,new M(11,12),new M(5,13))),new Oe(15,Int32Array.from([6,26,48,70]),new X(22,new M(5,87),new M(1,88)),new X(24,new M(5,41),new M(5,42)),new X(30,new M(5,24),new M(7,25)),new X(24,new M(11,12),new M(7,13))),new Oe(16,Int32Array.from([6,26,50,74]),new X(24,new M(5,98),new M(1,99)),new X(28,new M(7,45),new M(3,46)),new X(24,new M(15,19),new M(2,20)),new X(30,new M(3,15),new M(13,16))),new Oe(17,Int32Array.from([6,30,54,78]),new X(28,new M(1,107),new M(5,108)),new X(28,new M(10,46),new M(1,47)),new X(28,new M(1,22),new M(15,23)),new X(28,new M(2,14),new M(17,15))),new Oe(18,Int32Array.from([6,30,56,82]),new X(30,new M(5,120),new M(1,121)),new X(26,new M(9,43),new M(4,44)),new X(28,new M(17,22),new M(1,23)),new X(28,new M(2,14),new M(19,15))),new Oe(19,Int32Array.from([6,30,58,86]),new X(28,new M(3,113),new M(4,114)),new X(26,new M(3,44),new M(11,45)),new X(26,new M(17,21),new M(4,22)),new X(26,new M(9,13),new M(16,14))),new Oe(20,Int32Array.from([6,34,62,90]),new X(28,new M(3,107),new M(5,108)),new X(26,new M(3,41),new M(13,42)),new X(30,new M(15,24),new M(5,25)),new X(28,new M(15,15),new M(10,16))),new Oe(21,Int32Array.from([6,28,50,72,94]),new X(28,new M(4,116),new M(4,117)),new X(26,new M(17,42)),new X(28,new M(17,22),new M(6,23)),new X(30,new M(19,16),new M(6,17))),new Oe(22,Int32Array.from([6,26,50,74,98]),new X(28,new M(2,111),new M(7,112)),new X(28,new M(17,46)),new X(30,new M(7,24),new M(16,25)),new X(24,new M(34,13))),new Oe(23,Int32Array.from([6,30,54,78,102]),new X(30,new M(4,121),new M(5,122)),new X(28,new M(4,47),new M(14,48)),new X(30,new M(11,24),new M(14,25)),new X(30,new M(16,15),new M(14,16))),new Oe(24,Int32Array.from([6,28,54,80,106]),new X(30,new M(6,117),new M(4,118)),new X(28,new M(6,45),new M(14,46)),new X(30,new M(11,24),new M(16,25)),new X(30,new M(30,16),new M(2,17))),new Oe(25,Int32Array.from([6,32,58,84,110]),new X(26,new M(8,106),new M(4,107)),new X(28,new M(8,47),new M(13,48)),new X(30,new M(7,24),new M(22,25)),new X(30,new M(22,15),new M(13,16))),new Oe(26,Int32Array.from([6,30,58,86,114]),new X(28,new M(10,114),new M(2,115)),new X(28,new M(19,46),new M(4,47)),new X(28,new M(28,22),new M(6,23)),new X(30,new M(33,16),new M(4,17))),new Oe(27,Int32Array.from([6,34,62,90,118]),new X(30,new M(8,122),new M(4,123)),new X(28,new M(22,45),new M(3,46)),new X(30,new M(8,23),new M(26,24)),new X(30,new M(12,15),new M(28,16))),new Oe(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new M(3,117),new M(10,118)),new X(28,new M(3,45),new M(23,46)),new X(30,new M(4,24),new M(31,25)),new X(30,new M(11,15),new M(31,16))),new Oe(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new M(7,116),new M(7,117)),new X(28,new M(21,45),new M(7,46)),new X(30,new M(1,23),new M(37,24)),new X(30,new M(19,15),new M(26,16))),new Oe(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new M(5,115),new M(10,116)),new X(28,new M(19,47),new M(10,48)),new X(30,new M(15,24),new M(25,25)),new X(30,new M(23,15),new M(25,16))),new Oe(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new M(13,115),new M(3,116)),new X(28,new M(2,46),new M(29,47)),new X(30,new M(42,24),new M(1,25)),new X(30,new M(23,15),new M(28,16))),new Oe(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new M(17,115)),new X(28,new M(10,46),new M(23,47)),new X(30,new M(10,24),new M(35,25)),new X(30,new M(19,15),new M(35,16))),new Oe(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new M(17,115),new M(1,116)),new X(28,new M(14,46),new M(21,47)),new X(30,new M(29,24),new M(19,25)),new X(30,new M(11,15),new M(46,16))),new Oe(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new M(13,115),new M(6,116)),new X(28,new M(14,46),new M(23,47)),new X(30,new M(44,24),new M(7,25)),new X(30,new M(59,16),new M(1,17))),new Oe(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new M(12,121),new M(7,122)),new X(28,new M(12,47),new M(26,48)),new X(30,new M(39,24),new M(14,25)),new X(30,new M(22,15),new M(41,16))),new Oe(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new M(6,121),new M(14,122)),new X(28,new M(6,47),new M(34,48)),new X(30,new M(46,24),new M(10,25)),new X(30,new M(2,15),new M(64,16))),new Oe(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new M(17,122),new M(4,123)),new X(28,new M(29,46),new M(14,47)),new X(30,new M(49,24),new M(10,25)),new X(30,new M(24,15),new M(46,16))),new Oe(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new M(4,122),new M(18,123)),new X(28,new M(13,46),new M(32,47)),new X(30,new M(48,24),new M(14,25)),new X(30,new M(42,15),new M(32,16))),new Oe(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new M(20,117),new M(4,118)),new X(28,new M(40,47),new M(7,48)),new X(30,new M(43,24),new M(22,25)),new X(30,new M(10,15),new M(67,16))),new Oe(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new M(19,118),new M(6,119)),new X(28,new M(18,47),new M(31,48)),new X(30,new M(34,24),new M(34,25)),new X(30,new M(20,15),new M(61,16)))];var tn;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(tn||(tn={}));class Dn{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let i=0;i<a;i++)for(let l=0;l<a;l++)this.isMasked(i,l)&&t.flip(l,i)}}Dn.values=new Map([[tn.DATA_MASK_000,new Dn(tn.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[tn.DATA_MASK_001,new Dn(tn.DATA_MASK_001,(S,t)=>(S&1)===0)],[tn.DATA_MASK_010,new Dn(tn.DATA_MASK_010,(S,t)=>t%3===0)],[tn.DATA_MASK_011,new Dn(tn.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[tn.DATA_MASK_100,new Dn(tn.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[tn.DATA_MASK_101,new Dn(tn.DATA_MASK_101,(S,t)=>S*t%6===0)],[tn.DATA_MASK_110,new Dn(tn.DATA_MASK_110,(S,t)=>S*t%6<3)],[tn.DATA_MASK_111,new Dn(tn.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class Ri{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new ee;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const a=this.bitMatrix.getHeight();let i=0;const l=a-7;for(let s=a-1;s>=l;s--)i=this.copyBit(8,s,i);for(let s=a-8;s<a;s++)i=this.copyBit(s,8,i);if(this.parsedFormatInfo=ln.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ee}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return Oe.getVersionForNumber(a);let i=0;const l=t-11;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)i=this.copyBit(u,c,i);let s=Oe.decodeVersionInformation(i);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;i=0;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)i=this.copyBit(c,u,i);if(s=Oe.decodeVersionInformation(i),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new ee}copyBit(t,a,i){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),i=Dn.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const s=a.buildFunctionPattern();let c=!0;const u=new Uint8Array(a.getTotalCodewords());let x=0,p=0,A=0;for(let N=l-1;N>0;N-=2){N===6&&N--;for(let _=0;_<l;_++){const B=c?l-1-_:_;for(let j=0;j<2;j++)s.get(N-j,B)||(A++,p<<=1,this.bitMatrix.get(N-j,B)&&(p|=1),A===8&&(u[x++]=p,A=0,p=0))}c=!c}if(x!==a.getTotalCodewords())throw new ee;return u}remask(){if(this.parsedFormatInfo===null)return;const t=Dn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,i=t.getWidth();a<i;a++)for(let l=a+1,s=t.getHeight();l<s;l++)t.get(a,l)!==t.get(l,a)&&(t.flip(l,a),t.flip(a,l))}}class Ol{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,i){if(t.length!==a.getTotalCodewords())throw new I;const l=a.getECBlocksForLevel(i);let s=0;const c=l.getECBlocks();for(const j of c)s+=j.getCount();const u=new Array(s);let x=0;for(const j of c)for(let U=0;U<j.getCount();U++){const V=j.getDataCodewords(),W=l.getECCodewordsPerBlock()+V;u[x++]=new Ol(V,new Uint8Array(W))}const p=u[0].codewords.length;let A=u.length-1;for(;A>=0&&u[A].codewords.length!==p;)A--;A++;const N=p-l.getECCodewordsPerBlock();let _=0;for(let j=0;j<N;j++)for(let U=0;U<x;U++)u[U].codewords[j]=t[_++];for(let j=A;j<x;j++)u[j].codewords[N]=t[_++];const B=u[0].codewords.length;for(let j=N;j<B;j++)for(let U=0;U<x;U++){const V=U<A?j:j+1;u[U].codewords[V]=t[_++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Mn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Mn||(Mn={}));class Le{constructor(t,a,i,l){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=i,this.bits=l,Le.FOR_BITS.set(l,this),Le.FOR_VALUE.set(t,this)}static forBits(t){const a=Le.FOR_BITS.get(t);if(a===void 0)throw new I;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let i;return a<=9?i=0:a<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Le))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(Mn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(Mn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(Mn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(Mn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(Mn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(Mn.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(Mn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(Mn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(Mn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(Mn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(t,a,i,l){const s=new Jn(t);let c=new Qe;const u=new Array;let x=-1,p=-1;try{let A=null,N=!1,_;do{if(s.available()<4)_=Le.TERMINATOR;else{const B=s.readBits(4);_=Le.forBits(B)}switch(_){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:N=!0;break;case Le.STRUCTURED_APPEND:if(s.available()<16)throw new ee;x=s.readBits(8),p=s.readBits(8);break;case Le.ECI:const B=Mt.parseECIValue(s);if(A=ue.getCharacterSetECIByValue(B),A===null)throw new ee;break;case Le.HANZI:const j=s.readBits(4),U=s.readBits(_.getCharacterCountBits(a));j===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(s,c,U);break;default:const V=s.readBits(_.getCharacterCountBits(a));switch(_){case Le.NUMERIC:Mt.decodeNumericSegment(s,c,V);break;case Le.ALPHANUMERIC:Mt.decodeAlphanumericSegment(s,c,V,N);break;case Le.BYTE:Mt.decodeByteSegment(s,c,V,A,u,l);break;case Le.KANJI:Mt.decodeKanjiSegment(s,c,V);break;default:throw new ee}break}}while(_!==Le.TERMINATOR)}catch{throw new ee}return new Dt(t,c.toString(),u.length===0?null:u,i===null?null:i.toString(),x,p)}static decodeHanziSegment(t,a,i){if(i*13>t.available())throw new ee;const l=new Uint8Array(2*i);let s=0;for(;i>0;){const c=t.readBits(13);let u=c/96<<8&4294967295|c%96;u<959?u+=41377:u+=42657,l[s]=u>>8&255,l[s+1]=u&255,s+=2,i--}try{a.append(We.decode(l,ve.GB2312))}catch(c){throw new ee(c)}}static decodeKanjiSegment(t,a,i){if(i*13>t.available())throw new ee;const l=new Uint8Array(2*i);let s=0;for(;i>0;){const c=t.readBits(13);let u=c/192<<8&4294967295|c%192;u<7936?u+=33088:u+=49472,l[s]=u>>8,l[s+1]=u,s+=2,i--}try{a.append(We.decode(l,ve.SHIFT_JIS))}catch(c){throw new ee(c)}}static decodeByteSegment(t,a,i,l,s,c){if(8*i>t.available())throw new ee;const u=new Uint8Array(i);for(let p=0;p<i;p++)u[p]=t.readBits(8);let x;l===null?x=ve.guessEncoding(u,c):x=l.getName();try{a.append(We.decode(u,x))}catch(p){throw new ee(p)}s.push(u)}static toAlphaNumericChar(t){if(t>=Mt.ALPHANUMERIC_CHARS.length)throw new ee;return Mt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,i,l){const s=a.length();for(;i>1;){if(t.available()<11)throw new ee;const c=t.readBits(11);a.append(Mt.toAlphaNumericChar(Math.floor(c/45))),a.append(Mt.toAlphaNumericChar(c%45)),i-=2}if(i===1){if(t.available()<6)throw new ee;a.append(Mt.toAlphaNumericChar(t.readBits(6)))}if(l)for(let c=s;c<a.length();c++)a.charAt(c)==="%"&&(c<a.length()-1&&a.charAt(c+1)==="%"?a.deleteCharAt(c+1):a.setCharAt(c,""))}static decodeNumericSegment(t,a,i){for(;i>=3;){if(t.available()<10)throw new ee;const l=t.readBits(10);if(l>=1e3)throw new ee;a.append(Mt.toAlphaNumericChar(Math.floor(l/100))),a.append(Mt.toAlphaNumericChar(Math.floor(l/10)%10)),a.append(Mt.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(t.available()<7)throw new ee;const l=t.readBits(7);if(l>=100)throw new ee;a.append(Mt.toAlphaNumericChar(Math.floor(l/10))),a.append(Mt.toAlphaNumericChar(l%10))}else if(i===1){if(t.available()<4)throw new ee;const l=t.readBits(4);if(l>=10)throw new ee;a.append(Mt.toAlphaNumericChar(l))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const i=t.readBits(8);return(a&63)<<8&4294967295|i}if((a&224)===192){const i=t.readBits(16);return(a&31)<<16&4294967295|i}throw new ee}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class Ms{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class cc{constructor(){this.rsDecoder=new Za(ft.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(xt.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const i=new Ri(t);let l=null;try{return this.decodeBitMatrixParser(i,a)}catch(s){l=s}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const s=this.decodeBitMatrixParser(i,a);return s.setOther(new Ms(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,a){const i=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),c=Ol.getDataBlocks(s,i,l);let u=0;for(const A of c)u+=A.getNumDataCodewords();const x=new Uint8Array(u);let p=0;for(const A of c){const N=A.getCodewords(),_=A.getNumDataCodewords();this.correctErrors(N,_);for(let B=0;B<_;B++)x[p++]=N[B]}return Mt.decode(x,i,l,a)}correctErrors(t,a){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-a)}catch{throw new Y}for(let l=0;l<a;l++)t[l]=i[l]}}class Oi extends Te{constructor(t,a,i){super(t,a),this.estimatedModuleSize=i}aboutEquals(t,a,i){if(Math.abs(a-this.getY())<=t&&Math.abs(i-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,a,i){const l=(this.getX()+a)/2,s=(this.getY()+t)/2,c=(this.estimatedModuleSize+i)/2;return new Oi(l,s,c)}}class zn{constructor(t,a,i,l,s,c,u){this.image=t,this.startX=a,this.startY=i,this.width=l,this.height=s,this.moduleSize=c,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,i=this.width,l=t+i,s=this.startY+a/2,c=new Int32Array(3),u=this.image;for(let x=0;x<a;x++){const p=s+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let A=t;for(;A<l&&!u.get(A,p);)A++;let N=0;for(;A<l;){if(u.get(A,p))if(N===1)c[1]++;else if(N===2){if(this.foundPatternCross(c)){const _=this.handlePossibleCenter(c,p,A);if(_!==null)return _}c[0]=c[2],c[1]=1,c[2]=0,N=1}else c[++N]++;else N===1&&N++,c[N]++;A++}if(this.foundPatternCross(c)){const _=this.handlePossibleCenter(c,p,l);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,i=a/2;for(let l=0;l<3;l++)if(Math.abs(a-t[l])>=i)return!1;return!0}crossCheckVertical(t,a,i,l){const s=this.image,c=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let x=t;for(;x>=0&&s.get(a,x)&&u[1]<=i;)u[1]++,x--;if(x<0||u[1]>i)return NaN;for(;x>=0&&!s.get(a,x)&&u[0]<=i;)u[0]++,x--;if(u[0]>i)return NaN;for(x=t+1;x<c&&s.get(a,x)&&u[1]<=i;)u[1]++,x++;if(x===c||u[1]>i)return NaN;for(;x<c&&!s.get(a,x)&&u[2]<=i;)u[2]++,x++;if(u[2]>i)return NaN;const p=u[0]+u[1]+u[2];return 5*Math.abs(p-l)>=2*l?NaN:this.foundPatternCross(u)?zn.centerFromEnd(u,x):NaN}handlePossibleCenter(t,a,i){const l=t[0]+t[1]+t[2],s=zn.centerFromEnd(t,i),c=this.crossCheckVertical(a,s,2*t[1],l);if(!isNaN(c)){const u=(t[0]+t[1]+t[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(u,c,s))return p.combineEstimate(c,s,u);const x=new Oi(s,c,u);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class hr extends Te{constructor(t,a,i,l){super(t,a),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,i){if(Math.abs(a-this.getY())<=t&&Math.abs(i-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,a,i){const l=this.count+1,s=(this.count*this.getX()+a)/l,c=(this.count*this.getY()+t)/l,u=(this.count*this.estimatedModuleSize+i)/l;return new hr(s,c,u,l)}}class Il{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ft{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(Ie.TRY_HARDER)!==void 0,i=t!=null&&t.get(Ie.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),c=l.getWidth();let u=Math.floor(3*s/(4*Ft.MAX_MODULES));(u<Ft.MIN_SKIP||a)&&(u=Ft.MIN_SKIP);let x=!1;const p=new Int32Array(5);for(let N=u-1;N<s&&!x;N+=u){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let _=0;for(let B=0;B<c;B++)if(l.get(B,N))(_&1)===1&&_++,p[_]++;else if((_&1)===0)if(_===4)if(Ft.foundPatternCross(p)){if(this.handlePossibleCenter(p,N,B,i)===!0)if(u=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>p[2]&&(N+=U-p[2]-u,B=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,_=3;continue}_=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,_=3;else p[++_]++;else p[_]++;Ft.foundPatternCross(p)&&this.handlePossibleCenter(p,N,c,i)===!0&&(u=p[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return Te.orderBestPatterns(A),new Il(A)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let s=0;s<5;s++){const c=t[s];if(c===0)return!1;a+=c}if(a<7)return!1;const i=a/7,l=i/2;return Math.abs(i-t[0])<l&&Math.abs(i-t[1])<l&&Math.abs(3*i-t[2])<3*l&&Math.abs(i-t[3])<l&&Math.abs(i-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,i,l){const s=this.getCrossCheckStateCount();let c=0;const u=this.image;for(;t>=c&&a>=c&&u.get(a-c,t-c);)s[2]++,c++;if(t<c||a<c)return!1;for(;t>=c&&a>=c&&!u.get(a-c,t-c)&&s[1]<=i;)s[1]++,c++;if(t<c||a<c||s[1]>i)return!1;for(;t>=c&&a>=c&&u.get(a-c,t-c)&&s[0]<=i;)s[0]++,c++;if(s[0]>i)return!1;const x=u.getHeight(),p=u.getWidth();for(c=1;t+c<x&&a+c<p&&u.get(a+c,t+c);)s[2]++,c++;if(t+c>=x||a+c>=p)return!1;for(;t+c<x&&a+c<p&&!u.get(a+c,t+c)&&s[3]<i;)s[3]++,c++;if(t+c>=x||a+c>=p||s[3]>=i)return!1;for(;t+c<x&&a+c<p&&u.get(a+c,t+c)&&s[4]<i;)s[4]++,c++;if(s[4]>=i)return!1;const A=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(A-l)<2*l&&Ft.foundPatternCross(s)}crossCheckVertical(t,a,i,l){const s=this.image,c=s.getHeight(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(a,x);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(a,x)&&u[1]<=i;)u[1]++,x--;if(x<0||u[1]>i)return NaN;for(;x>=0&&s.get(a,x)&&u[0]<=i;)u[0]++,x--;if(u[0]>i)return NaN;for(x=t+1;x<c&&s.get(a,x);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(a,x)&&u[3]<i;)u[3]++,x++;if(x===c||u[3]>=i)return NaN;for(;x<c&&s.get(a,x)&&u[4]<i;)u[4]++,x++;if(u[4]>=i)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-l)>=2*l?NaN:Ft.foundPatternCross(u)?Ft.centerFromEnd(u,x):NaN}crossCheckHorizontal(t,a,i,l){const s=this.image,c=s.getWidth(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(x,a);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(x,a)&&u[1]<=i;)u[1]++,x--;if(x<0||u[1]>i)return NaN;for(;x>=0&&s.get(x,a)&&u[0]<=i;)u[0]++,x--;if(u[0]>i)return NaN;for(x=t+1;x<c&&s.get(x,a);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(x,a)&&u[3]<i;)u[3]++,x++;if(x===c||u[3]>=i)return NaN;for(;x<c&&s.get(x,a)&&u[4]<i;)u[4]++,x++;if(u[4]>=i)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-l)>=l?NaN:Ft.foundPatternCross(u)?Ft.centerFromEnd(u,x):NaN}handlePossibleCenter(t,a,i,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let c=Ft.centerFromEnd(t,i),u=this.crossCheckVertical(a,Math.floor(c),t[2],s);if(!isNaN(u)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(u),t[2],s),!isNaN(c)&&(!l||this.crossCheckDiagonal(Math.floor(u),Math.floor(c),t[2],s)))){const x=s/7;let p=!1;const A=this.possibleCenters;for(let N=0,_=A.length;N<_;N++){const B=A[N];if(B.aboutEquals(x,u,c)){A[N]=B.combineEstimate(u,c,x),p=!0;break}}if(!p){const N=new hr(c,u,x);A.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const i of this.possibleCenters)if(i.getCount()>=Ft.CENTER_QUORUM)if(a==null)a=i;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-i.getX())-Math.abs(a.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const i=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Ft.CENTER_QUORUM&&(t++,a+=c.getEstimatedModuleSize());if(t<3)return!1;const l=a/i;let s=0;for(const c of this.possibleCenters)s+=Math.abs(c.getEstimatedModuleSize()-l);return s<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new te;const a=this.possibleCenters;let i;if(t>3){let l=0,s=0;for(const x of this.possibleCenters){const p=x.getEstimatedModuleSize();l+=p,s+=p*p}i=l/t;let c=Math.sqrt(s/t-i*i);a.sort((x,p)=>{const A=Math.abs(p.getEstimatedModuleSize()-i),N=Math.abs(x.getEstimatedModuleSize()-i);return A<N?-1:A>N?1:0});const u=Math.max(.2*i,c);for(let x=0;x<a.length&&a.length>3;x++){const p=a[x];Math.abs(p.getEstimatedModuleSize()-i)>u&&(a.splice(x,1),x--)}}if(a.length>3){let l=0;for(const s of a)l+=s.getEstimatedModuleSize();i=l/a.length,a.sort((s,c)=>{if(c.getCount()===s.getCount()){const u=Math.abs(c.getEstimatedModuleSize()-i),x=Math.abs(s.getEstimatedModuleSize()-i);return u<x?1:u>x?-1:0}else return c.getCount()-s.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Ft.CENTER_QUORUM=2,Ft.MIN_SKIP=3,Ft.MAX_MODULES=57;class ha{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ie.NEED_RESULT_POINT_CALLBACK);const i=new Ft(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const a=t.getTopLeft(),i=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(a,i,l);if(s<1)throw new te("No pattern found in proccess finder.");const c=ha.computeDimension(a,i,l,s),u=Oe.getProvisionalVersionForDimension(c),x=u.getDimensionForVersion()-7;let p=null;if(u.getAlignmentPatternCenters().length>0){const B=i.getX()-a.getX()+l.getX(),j=i.getY()-a.getY()+l.getY(),U=1-3/x,V=Math.floor(a.getX()+U*(B-a.getX())),W=Math.floor(a.getY()+U*(j-a.getY()));for(let me=4;me<=16;me<<=1)try{p=this.findAlignmentInRegion(s,V,W,me);break}catch(ge){if(!(ge instanceof te))throw ge}}const A=ha.createTransform(a,i,l,p,c),N=ha.sampleGrid(this.image,A,c);let _;return p===null?_=[l,a,i]:_=[l,a,i,p],new kr(N,_)}static createTransform(t,a,i,l,s){const c=s-3.5;let u,x,p,A;return l!==null?(u=l.getX(),x=l.getY(),p=c-3,A=p):(u=a.getX()-t.getX()+i.getX(),x=a.getY()-t.getY()+i.getY(),p=c,A=c),Un.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,A,3.5,c,t.getX(),t.getY(),a.getX(),a.getY(),u,x,i.getX(),i.getY())}static sampleGrid(t,a,i){return Qn.getInstance().sampleGridWithTransform(t,i,i,a)}static computeDimension(t,a,i,l){const s=et.round(Te.distance(t,a)/l),c=et.round(Te.distance(t,i)/l);let u=Math.floor((s+c)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new te("Dimensions could be not found.")}return u}calculateModuleSize(t,a,i){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,a){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,i,l){let s=this.sizeOfBlackWhiteBlackRun(t,a,i,l),c=1,u=t-(i-t);u<0?(c=t/(t-u),u=0):u>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);let x=Math.floor(a-(l-a)*c);return c=1,x<0?(c=a/(a-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-a)/(x-a),x=this.image.getHeight()-1),u=Math.floor(t+(u-t)*c),s+=this.sizeOfBlackWhiteBlackRun(t,a,u,x),s-1}sizeOfBlackWhiteBlackRun(t,a,i,l){const s=Math.abs(l-a)>Math.abs(i-t);if(s){let B=t;t=a,a=B,B=i,i=l,l=B}const c=Math.abs(i-t),u=Math.abs(l-a);let x=-c/2;const p=t<i?1:-1,A=a<l?1:-1;let N=0;const _=i+p;for(let B=t,j=a;B!==_;B+=p){const U=s?j:B,V=s?B:j;if(N===1===this.image.get(U,V)){if(N===2)return et.distance(B,j,t,a);N++}if(x+=u,x>0){if(j===l)break;j+=A,x-=c}}return N===2?et.distance(i+p,l,t,a):NaN}findAlignmentInRegion(t,a,i,l){const s=Math.floor(l*t),c=Math.max(0,a-s),u=Math.min(this.image.getWidth()-1,a+s);if(u-c<t*3)throw new te("Alignment top exceeds estimated module size.");const x=Math.max(0,i-s),p=Math.min(this.image.getHeight()-1,i+s);if(p-x<t*3)throw new te("Alignment bottom exceeds estimated module size.");return new zn(this.image,c,x,u-c,p-x,t,this.resultPointCallback).find()}}class _a{constructor(){this.decoder=new cc}getDecoder(){return this.decoder}decode(t,a){let i,l;if(a!=null&&a.get(Ie.PURE_BARCODE)!==void 0){const x=_a.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(x,a),l=_a.NO_POINTS}else{const x=new ha(t.getBlackMatrix()).detect(a);i=this.decoder.decodeBitMatrix(x.getBits(),a),l=x.getPoints()}i.getOther()instanceof Ms&&i.getOther().applyMirroredCorrection(l);const s=new Ae(i.getText(),i.getRawBytes(),void 0,l,ye.QR_CODE,void 0),c=i.getByteSegments();c!==null&&s.putMetadata(ut.BYTE_SEGMENTS,c);const u=i.getECLevel();return u!==null&&s.putMetadata(ut.ERROR_CORRECTION_LEVEL,u),i.hasStructuredAppend()&&(s.putMetadata(ut.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),s.putMetadata(ut.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(a===null||i===null)throw new te;const l=this.moduleSize(a,t);let s=a[1],c=i[1],u=a[0],x=i[0];if(u>=x||s>=c)throw new te;if(c-s!==x-u&&(x=u+(c-s),x>=t.getWidth()))throw new te;const p=Math.round((x-u+1)/l),A=Math.round((c-s+1)/l);if(p<=0||A<=0)throw new te;if(A!==p)throw new te;const N=Math.floor(l/2);s+=N,u+=N;const _=u+Math.floor((p-1)*l)-x;if(_>0){if(_>N)throw new te;u-=_}const B=s+Math.floor((A-1)*l)-c;if(B>0){if(B>N)throw new te;s-=B}const j=new xt(p,A);for(let U=0;U<A;U++){const V=s+Math.floor(U*l);for(let W=0;W<p;W++)t.get(u+Math.floor(W*l),V)&&j.set(W,U)}return j}static moduleSize(t,a){const i=a.getHeight(),l=a.getWidth();let s=t[0],c=t[1],u=!0,x=0;for(;s<l&&c<i;){if(u!==a.get(s,c)){if(++x===5)break;u=!u}s++,c++}if(s===l||c===i)throw new te;return(s-t[0])/7}}_a.NO_POINTS=new Array;class je{PDF417Common(){}static getBitCountSum(t){return et.sum(t)}static toIntArray(t){if(t==null||!t.length)return je.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let i=0;for(const l of t)a[i++]=l;return a}static getCodeword(t){const a=xe.binarySearch(je.SYMBOL_TABLE,t&262143);return a<0?-1:(je.CODEWORD_TABLE[a]-1)%je.NUMBER_OF_CODEWORDS}}je.NUMBER_OF_CODEWORDS=929,je.MAX_CODEWORDS_IN_BARCODE=je.NUMBER_OF_CODEWORDS-1,je.MIN_ROWS_IN_BARCODE=3,je.MAX_ROWS_IN_BARCODE=90,je.MODULES_IN_CODEWORD=17,je.MODULES_IN_STOP_PATTERN=18,je.BARS_IN_MODULE=8,je.EMPTY_INT_ARRAY=new Int32Array([]),je.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),je.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Bs{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(t,a,i){let l=t.getBlackMatrix(),s=He.detect(i,l);return s.length||(l=l.clone(),l.rotate180(),s=He.detect(i,l)),new Bs(l,s)}static detect(t,a){const i=new Array;let l=0,s=0,c=!1;for(;l<a.getHeight();){const u=He.findVertices(a,l,s);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,s=0;for(const x of i)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=He.ROW_STEP;continue}if(c=!0,i.push(u),!t)break;u[2]!=null?(s=Math.trunc(u[2].getX()),l=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),l=Math.trunc(u[4].getY()))}return i}static findVertices(t,a,i){const l=t.getHeight(),s=t.getWidth(),c=new Array(8);return He.copyToResult(c,He.findRowsWithPattern(t,l,s,a,i,He.START_PATTERN),He.INDEXES_START_PATTERN),c[4]!=null&&(i=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY())),He.copyToResult(c,He.findRowsWithPattern(t,l,s,a,i,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),c}static copyToResult(t,a,i){for(let l=0;l<i.length;l++)t[i[l]]=a[l]}static findRowsWithPattern(t,a,i,l,s,c){const u=new Array(4);let x=!1;const p=new Int32Array(c.length);for(;l<a;l+=He.ROW_STEP){let N=He.findGuardPattern(t,s,l,i,!1,c,p);if(N!=null){for(;l>0;){const _=He.findGuardPattern(t,s,--l,i,!1,c,p);if(_!=null)N=_;else{l++;break}}u[0]=new Te(N[0],l),u[1]=new Te(N[1],l),x=!0;break}}let A=l+1;if(x){let N=0,_=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;A<a;A++){const B=He.findGuardPattern(t,_[0],A,i,!1,c,p);if(B!=null&&Math.abs(_[0]-B[0])<He.MAX_PATTERN_DRIFT&&Math.abs(_[1]-B[1])<He.MAX_PATTERN_DRIFT)_=B,N=0;else{if(N>He.SKIPPED_ROW_COUNT_MAX)break;N++}}A-=N+1,u[2]=new Te(_[0],A),u[3]=new Te(_[1],A)}return A-l<He.BARCODE_MIN_HEIGHT&&xe.fill(u,null),u}static findGuardPattern(t,a,i,l,s,c,u){xe.fillWithin(u,0,u.length,0);let x=a,p=0;for(;t.get(x,i)&&x>0&&p++<He.MAX_PIXEL_DRIFT;)x--;let A=x,N=0,_=c.length;for(let B=s;A<l;A++)if(t.get(A,i)!==B)u[N]++;else{if(N===_-1){if(He.patternMatchVariance(u,c,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([x,A]);x+=u[0]+u[1],le.arraycopy(u,2,u,0,N-1),u[N-1]=0,u[N]=0,N--}else N++;u[N]=1,B=!B}return N===_-1&&He.patternMatchVariance(u,c,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([x,A-1]):null}static patternMatchVariance(t,a,i){let l=t.length,s=0,c=0;for(let p=0;p<l;p++)s+=t[p],c+=a[p];if(s<c)return 1/0;let u=s/c;i*=u;let x=0;for(let p=0;p<l;p++){let A=t[p],N=a[p]*u,_=A>N?A-N:N-A;if(_>i)return 1/0;x+=_}return x/s}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class Bt{constructor(t,a){if(a.length===0)throw new I;this.field=t;let i=a.length;if(i>1&&a[0]===0){let l=1;for(;l<i&&a[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),le.arraycopy(a,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let a=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)a=this.field.add(this.field.multiply(t,a),this.coefficients[l]);return a}add(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,i=t.coefficients;if(a.length>i.length){let c=a;a=i,i=c}let l=new Int32Array(i.length),s=i.length-a.length;le.arraycopy(i,0,l,0,s);for(let c=s;c<i.length;c++)l[c]=this.field.add(a[c-s],i[c]);return new Bt(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Bt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Bt(this.field,new Int32Array([0]));let a=this.coefficients,i=a.length,l=t.coefficients,s=l.length,c=new Int32Array(i+s-1);for(let u=0;u<i;u++){let x=a[u];for(let p=0;p<s;p++)c[u+p]=this.field.add(c[u+p],this.field.multiply(x,l[p]))}return new Bt(this.field,c)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let i=0;i<t;i++)a[i]=this.field.subtract(0,this.coefficients[i]);return new Bt(this.field,a)}multiplyScalar(t){if(t===0)return new Bt(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,i=new Int32Array(a);for(let l=0;l<a;l++)i[l]=this.field.multiply(this.coefficients[l],t);return new Bt(this.field,i)}multiplyByMonomial(t,a){if(t<0)throw new I;if(a===0)return new Bt(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+t);for(let s=0;s<i;s++)l[s]=this.field.multiply(this.coefficients[s],a);return new Bt(this.field,l)}toString(){let t=new Qe;for(let a=this.getDegree();a>=0;a--){let i=this.getCoefficient(a);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(a===0||i!==1)&&t.append(i),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class Dl{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}inverse(t){if(t===0)throw new Ai;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Qa extends Dl{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let l=0;l<t;l++)this.expTable[l]=i,i=i*a%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Bt(this,new Int32Array([0])),this.one=new Bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new I;if(a===0)return this.zero;let i=new Int32Array(t+1);return i[0]=a,new Bt(this,i)}}Qa.PDF417_GF=new Qa(je.NUMBER_OF_CODEWORDS,3);class Ra{constructor(){this.field=Qa.PDF417_GF}decode(t,a,i){let l=new Bt(this.field,t),s=new Int32Array(a),c=!1;for(let j=a;j>0;j--){let U=l.evaluateAt(this.field.exp(j));s[a-j]=U,U!==0&&(c=!0)}if(!c)return 0;let u=this.field.getOne();if(i!=null)for(const j of i){let U=this.field.exp(t.length-1-j),V=new Bt(this.field,new Int32Array([this.field.subtract(0,U),1]));u=u.multiply(V)}let x=new Bt(this.field,s),p=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),x,a),A=p[0],N=p[1],_=this.findErrorLocations(A),B=this.findErrorMagnitudes(N,A,_);for(let j=0;j<_.length;j++){let U=t.length-1-this.field.log(_[j]);if(U<0)throw Y.getChecksumInstance();t[U]=this.field.subtract(t[U],B[j])}return _.length}runEuclideanAlgorithm(t,a,i){if(t.getDegree()<a.getDegree()){let _=t;t=a,a=_}let l=t,s=a,c=this.field.getZero(),u=this.field.getOne();for(;s.getDegree()>=Math.round(i/2);){let _=l,B=c;if(l=s,c=u,l.isZero())throw Y.getChecksumInstance();s=_;let j=this.field.getZero(),U=l.getCoefficient(l.getDegree()),V=this.field.inverse(U);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let W=s.getDegree()-l.getDegree(),me=this.field.multiply(s.getCoefficient(s.getDegree()),V);j=j.add(this.field.buildMonomial(W,me)),s=s.subtract(l.multiplyByMonomial(W,me))}u=j.multiply(c).subtract(B).negative()}let x=u.getCoefficient(0);if(x===0)throw Y.getChecksumInstance();let p=this.field.inverse(x),A=u.multiply(p),N=s.multiply(p);return[A,N]}findErrorLocations(t){let a=t.getDegree(),i=new Int32Array(a),l=0;for(let s=1;s<this.field.getSize()&&l<a;s++)t.evaluateAt(s)===0&&(i[l]=this.field.inverse(s),l++);if(l!==a)throw Y.getChecksumInstance();return i}findErrorMagnitudes(t,a,i){let l=a.getDegree(),s=new Int32Array(l);for(let p=1;p<=l;p++)s[l-p]=this.field.multiply(p,a.getCoefficient(p));let c=new Bt(this.field,s),u=i.length,x=new Int32Array(u);for(let p=0;p<u;p++){let A=this.field.inverse(i[p]),N=this.field.subtract(0,t.evaluateAt(A)),_=this.field.inverse(c.evaluateAt(A));x[p]=this.field.multiply(N,_)}return x}}class Oa{constructor(t,a,i,l,s){t instanceof Oa?this.constructor_2(t):this.constructor_1(t,a,i,l,s)}constructor_1(t,a,i,l,s){const c=a==null||i==null,u=l==null||s==null;if(c&&u)throw new te;c?(a=new Te(0,l.getY()),i=new Te(0,s.getY())):u&&(l=new Te(t.getWidth()-1,a.getY()),s=new Te(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=a,this.bottomLeft=i,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(a.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(a.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new Oa(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,i){let l=this.topLeft,s=this.bottomLeft,c=this.topRight,u=this.bottomRight;if(t>0){let x=i?this.topLeft:this.topRight,p=Math.trunc(x.getY()-t);p<0&&(p=0);let A=new Te(x.getX(),p);i?l=A:c=A}if(a>0){let x=i?this.bottomLeft:this.bottomRight,p=Math.trunc(x.getY()+a);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let A=new Te(x.getX(),p);i?s=A:u=A}return new Oa(this.image,l,s,c,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Hr{constructor(t,a,i,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=a,this.rowCountLowerPart=i,this.rowCount=a+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ii{constructor(){this.buffer=""}static form(t,a){let i=-1;function l(c,u,x,p,A,N){if(c==="%%")return"%";if(a[++i]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let _=A?parseInt(A.substr(1)):void 0,B;switch(N){case"s":B=a[i];break;case"c":B=a[i][0];break;case"f":B=parseFloat(a[i]).toFixed(c);break;case"p":B=parseFloat(a[i]).toPrecision(c);break;case"e":B=parseFloat(a[i]).toExponential(c);break;case"x":B=parseInt(a[i]).toString(_||16);break;case"d":B=parseFloat(parseInt(a[i],_||10).toPrecision(c)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(_);let j=parseInt(x),U=x&&x[0]+""=="0"?"0":" ";for(;B.length<j;)B=u!==void 0?B+U:U+B;return B}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...a){this.buffer+=Ii.form(t,a)}toString(){return this.buffer}}class Fa{constructor(t){this.boundingBox=new Oa(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let i=1;i<Fa.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(t)-i;if(l>=0&&(a=this.codewords[l],a!=null)||(l=this.imageRowToCodewordIndex(t)+i,l<this.codewords.length&&(a=this.codewords[l],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ii;let a=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,i.getRowNumber(),i.getValue())}return t.toString()}}Fa.MAX_NEARBY_DISTANCE=5;class za{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[i,l]of this.values.entries()){const s={getKey:()=>i,getValue:()=>l};s.getValue()>t?(t=s.getValue(),a=[],a.push(s.getKey())):s.getValue()===t&&a.push(s.getKey())}return je.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class Ml extends Fa{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),x=-1,p=1,A=0;for(let N=c;N<u;N++){if(a[N]==null)continue;let _=a[N],B=_.getRowNumber()-x;if(B===0)A++;else if(B===1)p=Math.max(p,A),A=1,x=_.getRowNumber();else if(B<0||_.getRowNumber()>=t.getRowCount()||B>N)a[N]=null;else{let j;p>2?j=(p-2)*B:j=B;let U=j>=N;for(let V=1;V<=j&&!U;V++)U=a[N-V]!=null;U?a[N]=null:(x=_.getRowNumber(),A=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=a.length)continue;a[l]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.getCodewords(),x=-1;for(let p=s;p<c;p++){if(u[p]==null)continue;let A=u[p];A.setRowNumberAsRowIndicatorColumn();let N=A.getRowNumber()-x;N===0||(N===1?x=A.getRowNumber():A.getRowNumber()>=t.getRowCount()?u[p]=null:x=A.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new za,i=new za,l=new za,s=new za;for(let u of t){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let x=u.getValue()%30,p=u.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:i.setValue(x*3+1);break;case 1:s.setValue(x/3),l.setValue(x%3);break;case 2:a.setValue(x+1);break}}if(a.getValue().length===0||i.getValue().length===0||l.getValue().length===0||s.getValue().length===0||a.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<je.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>je.MAX_ROWS_IN_BARCODE)return null;let c=new Hr(a.getValue()[0],i.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,a){for(let i=0;i<t.length;i++){let l=t[i];if(t[i]==null)continue;let s=l.getValue()%30,c=l.getRowNumber();if(c>a.getRowCount()){t[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:s*3+1!==a.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==a.getErrorCorrectionLevel()||s%3!==a.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==a.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class sn{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=je.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let i=this.detectionResultColumns[a].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(a,l,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&a[i]!=null&&t[i].getRowNumber()===a[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[i];s!=null&&(s.setRowNumber(t[i].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<a.length;i++){if(a[i]==null)continue;let l=a[i].getRowNumber(),s=0;for(let c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){let u=this.detectionResultColumns[c].getCodewords()[i];u!=null&&(s=sn.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let i=0;i<a.length;i++){if(a[i]==null)continue;let l=a[i].getRowNumber(),s=0;for(let c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){let u=this.detectionResultColumns[c].getCodewords()[i];u!=null&&(s=sn.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,i){if(!this.detectionResultColumns[t-1])return;let l=i[a],s=this.detectionResultColumns[t-1].getCodewords(),c=s;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let u=new Array(14);u[2]=s[a],u[3]=c[a],a>0&&(u[0]=i[a-1],u[4]=s[a-1],u[5]=c[a-1]),a>1&&(u[8]=i[a-2],u[10]=s[a-2],u[11]=c[a-2]),a<i.length-1&&(u[1]=i[a+1],u[6]=s[a+1],u[7]=c[a+1]),a<i.length-2&&(u[9]=i[a+2],u[12]=s[a+2],u[13]=c[a+2]);for(let x of u)if(sn.adjustRowNumber(l,x))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Ii;for(let i=0;i<t.getCodewords().length;i++){a.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){a.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[i];if(s==null){a.format("    |   ");continue}a.format(" %3d|%3d",s.getRowNumber(),s.getValue())}a.format("%n")}return a.toString()}}class $n{constructor(t,a,i,l){this.rowNumber=$n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==$n.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}$n.BARCODE_ROW_UNKNOWN=-1;class gn{static initialize(){for(let t=0;t<je.SYMBOL_TABLE.length;t++){let a=je.SYMBOL_TABLE[t],i=a&1;for(let l=0;l<je.BARS_IN_MODULE;l++){let s=0;for(;(a&1)===i;)s+=1,a>>=1;i=a&1,gn.RATIOS_TABLE[t]||(gn.RATIOS_TABLE[t]=new Array(je.BARS_IN_MODULE)),gn.RATIOS_TABLE[t][je.BARS_IN_MODULE-l-1]=Math.fround(s/je.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=gn.getDecodedCodewordValue(gn.sampleBitCounts(t));return a!==-1?a:gn.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=et.sum(t),i=new Int32Array(je.BARS_IN_MODULE),l=0,s=0;for(let c=0;c<je.MODULES_IN_CODEWORD;c++){let u=a/(2*je.MODULES_IN_CODEWORD)+c*a/je.MODULES_IN_CODEWORD;s+t[l]<=u&&(s+=t[l],l++),i[l]++}return i}static getDecodedCodewordValue(t){let a=gn.getBitValue(t);return je.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let i=0;i<t.length;i++)for(let l=0;l<t[i];l++)a=a<<1|(i%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=et.sum(t),i=new Array(je.BARS_IN_MODULE);if(a>1)for(let c=0;c<i.length;c++)i[c]=Math.fround(t[c]/a);let l=Ci.MAX_VALUE,s=-1;this.bSymbolTableReady||gn.initialize();for(let c=0;c<gn.RATIOS_TABLE.length;c++){let u=0,x=gn.RATIOS_TABLE[c];for(let p=0;p<je.BARS_IN_MODULE;p++){let A=Math.fround(x[p]-i[p]);if(u+=Math.fround(A*A),u>=l)break}u<l&&(l=u,s=je.SYMBOL_TABLE[c])}return s}}gn.bSymbolTableReady=!1,gn.RATIOS_TABLE=new Array(je.SYMBOL_TABLE.length).map(S=>new Array(je.BARS_IN_MODULE));class Di{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Ls{static parseLong(t,a=void 0){return parseInt(t,a)}}class Pr extends v{}Pr.kind="NullPointerException";class Bl{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,i){if(t==null)throw new Pr;if(a<0||a>t.length||i<0||a+i>t.length||a+i<0)throw new ie;if(i===0)return;for(let l=0;l<i;l++)this.write(t[a+l])}flush(){}close(){}}class xr extends v{}class Gr extends Bl{constructor(t=32){if(super(),this.count=0,t<0)throw new I("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new xr;i=ae.MAX_VALUE}this.buf=xe.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,i){if(a<0||a>t.length||i<0||a+i-t.length>0)throw new ie;this.ensureCapacity(this.count+i),le.arraycopy(t,a,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return xe.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var yt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(yt||(yt={}));function ks(){if(typeof window<"u")return window.BigInt||null;if(typeof Zo<"u")return Zo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Vr;function Ha(S){if(typeof Vr>"u"&&(Vr=ks()),Vr===null)throw new Error("BigInt is not supported!");return Vr(S)}function Ll(){let S=[];S[0]=Ha(1);let t=Ha(900);S[1]=t;for(let a=2;a<16;a++)S[a]=S[a-1]*t;return S}class J{static decode(t,a){let i=new Qe(""),l=ue.ISO8859_1;i.enableDecoding(l);let s=1,c=t[s++],u=new Di;for(;s<t[0];){switch(c){case J.TEXT_COMPACTION_MODE_LATCH:s=J.textCompaction(t,s,i);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:s=J.byteCompaction(c,t,l,s,i);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:s=J.numericCompaction(t,s,i);break;case J.ECI_CHARSET:ue.getCharacterSetECIByValue(t[s++]);break;case J.ECI_GENERAL_PURPOSE:s+=2;break;case J.ECI_USER_DEFINED:s++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=J.decodeMacroBlock(t,s,u);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new ee;default:s--,s=J.textCompaction(t,s,i);break}if(s<t.length)c=t[s++];else throw ee.getFormatInstance()}if(i.length()===0)throw ee.getFormatInstance();let x=new Dt(null,i.toString(),null,a);return x.setOther(u),x}static decodeMacroBlock(t,a,i){if(a+J.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ee.getFormatInstance();let l=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<J.NUMBER_OF_SEQUENCE_CODEWORDS;u++,a++)l[u]=t[a];i.setSegmentIndex(ae.parseInt(J.decodeBase900toBase10(l,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Qe;a=J.textCompaction(t,a,s),i.setFileId(s.toString());let c=-1;for(t[a]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=a+1);a<t[0];)switch(t[a]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Qe;a=J.textCompaction(t,a+1,u),i.setFileName(u.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Qe;a=J.textCompaction(t,a+1,x),i.setSender(x.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Qe;a=J.textCompaction(t,a+1,p),i.setAddressee(p.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new Qe;a=J.numericCompaction(t,a+1,A),i.setSegmentCount(ae.parseInt(A.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Qe;a=J.numericCompaction(t,a+1,N),i.setTimestamp(Ls.parseLong(N.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _=new Qe;a=J.numericCompaction(t,a+1,_),i.setChecksum(ae.parseInt(_.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Qe;a=J.numericCompaction(t,a+1,B),i.setFileSize(Ls.parseLong(B.toString()));break;default:throw ee.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:a++,i.setLastSegment(!0);break;default:throw ee.getFormatInstance()}if(c!==-1){let u=a-c;i.isLastSegment()&&u--,i.setOptionalData(xe.copyOfRange(t,c,c+u))}return a}static textCompaction(t,a,i){let l=new Int32Array((t[0]-a)*2),s=new Int32Array((t[0]-a)*2),c=0,u=!1;for(;a<t[0]&&!u;){let x=t[a++];if(x<J.TEXT_COMPACTION_MODE_LATCH)l[c]=x/30,l[c+1]=x%30,c+=2;else switch(x){case J.TEXT_COMPACTION_MODE_LATCH:l[c++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:a--,u=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[c]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[a++],s[c]=x,c++;break}}return J.decodeTextCompaction(l,s,c,i),a}static decodeTextCompaction(t,a,i,l){let s=yt.ALPHA,c=yt.ALPHA,u=0;for(;u<i;){let x=t[u],p="";switch(s){case yt.ALPHA:if(x<26)p=String.fromCharCode(65+x);else switch(x){case 26:p=" ";break;case J.LL:s=yt.LOWER;break;case J.ML:s=yt.MIXED;break;case J.PS:c=s,s=yt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case J.TEXT_COMPACTION_MODE_LATCH:s=yt.ALPHA;break}break;case yt.LOWER:if(x<26)p=String.fromCharCode(97+x);else switch(x){case 26:p=" ";break;case J.AS:c=s,s=yt.ALPHA_SHIFT;break;case J.ML:s=yt.MIXED;break;case J.PS:c=s,s=yt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case J.TEXT_COMPACTION_MODE_LATCH:s=yt.ALPHA;break}break;case yt.MIXED:if(x<J.PL)p=J.MIXED_CHARS[x];else switch(x){case J.PL:s=yt.PUNCT;break;case 26:p=" ";break;case J.LL:s=yt.LOWER;break;case J.AL:s=yt.ALPHA;break;case J.PS:c=s,s=yt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case J.TEXT_COMPACTION_MODE_LATCH:s=yt.ALPHA;break}break;case yt.PUNCT:if(x<J.PAL)p=J.PUNCT_CHARS[x];else switch(x){case J.PAL:s=yt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case J.TEXT_COMPACTION_MODE_LATCH:s=yt.ALPHA;break}break;case yt.ALPHA_SHIFT:if(s=c,x<26)p=String.fromCharCode(65+x);else switch(x){case 26:p=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:s=yt.ALPHA;break}break;case yt.PUNCT_SHIFT:if(s=c,x<J.PAL)p=J.PUNCT_CHARS[x];else switch(x){case J.PAL:s=yt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case J.TEXT_COMPACTION_MODE_LATCH:s=yt.ALPHA;break}break}p!==""&&l.append(p),u++}}static byteCompaction(t,a,i,l,s){let c=new Gr,u=0,x=0,p=!1;switch(t){case J.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),N=a[l++];for(;l<a[0]&&!p;)switch(A[u++]=N,x=900*x+N,N=a[l++],N){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:l--,p=!0;break;default:if(u%5===0&&u>0){for(let _=0;_<6;++_)c.write(Number(Ha(x)>>Ha(8*(5-_))));x=0,u=0}break}l===a[0]&&N<J.TEXT_COMPACTION_MODE_LATCH&&(A[u++]=N);for(let _=0;_<u;_++)c.write(A[_]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;l<a[0]&&!p;){let _=a[l++];if(_<J.TEXT_COMPACTION_MODE_LATCH)u++,x=900*x+_;else switch(_){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:l--,p=!0;break}if(u%5===0&&u>0){for(let B=0;B<6;++B)c.write(Number(Ha(x)>>Ha(8*(5-B))));x=0,u=0}}break}return s.append(We.decode(c.toByteArray(),i)),l}static numericCompaction(t,a,i){let l=0,s=!1,c=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!s;){let u=t[a++];if(a===t[0]&&(s=!0),u<J.TEXT_COMPACTION_MODE_LATCH)c[l]=u,l++;else switch(u){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:a--,s=!0;break}(l%J.MAX_NUMERIC_CODEWORDS===0||u===J.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(i.append(J.decodeBase900toBase10(c,l)),l=0)}return a}static decodeBase900toBase10(t,a){let i=Ha(0);for(let s=0;s<a;s++)i+=J.EXP900[a-s-1]*Ha(t[s]);let l=i.toString();if(l.charAt(0)!=="1")throw new ee;return l.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=ks()?Ll():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qe{constructor(){}static decode(t,a,i,l,s,c,u){let x=new Oa(t,a,i,l,s),p=null,A=null,N;for(let j=!0;;j=!1){if(a!=null&&(p=qe.getRowIndicatorColumn(t,x,a,!0,c,u)),l!=null&&(A=qe.getRowIndicatorColumn(t,x,l,!1,c,u)),N=qe.merge(p,A),N==null)throw te.getNotFoundInstance();let U=N.getBoundingBox();if(j&&U!=null&&(U.getMinY()<x.getMinY()||U.getMaxY()>x.getMaxY()))x=U;else break}N.setBoundingBox(x);let _=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,p),N.setDetectionResultColumn(_,A);let B=p!=null;for(let j=1;j<=_;j++){let U=B?j:_-j;if(N.getDetectionResultColumn(U)!==void 0)continue;let V;U===0||U===_?V=new Ml(x,U===0):V=new Fa(x),N.setDetectionResultColumn(U,V);let W=-1,me=W;for(let ge=x.getMinY();ge<=x.getMaxY();ge++){if(W=qe.getStartColumn(N,U,ge,B),W<0||W>x.getMaxX()){if(me===-1)continue;W=me}let he=qe.detectCodeword(t,x.getMinX(),x.getMaxX(),B,W,ge,c,u);he!=null&&(V.setCodeword(ge,he),me=W,c=Math.min(c,he.getWidth()),u=Math.max(u,he.getWidth()))}}return qe.createDecoderResult(N)}static merge(t,a){if(t==null&&a==null)return null;let i=qe.getBarcodeMetadata(t,a);if(i==null)return null;let l=Oa.merge(qe.adjustBoundingBox(t),qe.adjustBoundingBox(a));return new sn(i,l)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let i=qe.getMax(a),l=0;for(let u of a)if(l+=i-u,u>0)break;let s=t.getCodewords();for(let u=0;l>0&&s[u]==null;u++)l--;let c=0;for(let u=a.length-1;u>=0&&(c+=i-a[u],!(a[u]>0));u--);for(let u=s.length-1;c>0&&s[u]==null;u--)c--;return t.getBoundingBox().addMissingRows(l,c,t.isLeft())}static getMax(t){let a=-1;for(let i of t)a=Math.max(a,i);return a}static getBarcodeMetadata(t,a){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let l;return a==null||(l=a.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(t,a,i,l,s,c){let u=new Ml(a,l);for(let x=0;x<2;x++){let p=x===0?1:-1,A=Math.trunc(Math.trunc(i.getX()));for(let N=Math.trunc(Math.trunc(i.getY()));N<=a.getMaxY()&&N>=a.getMinY();N+=p){let _=qe.detectCodeword(t,0,t.getWidth(),l,A,N,s,c);_!=null&&(u.setCodeword(N,_),l?A=_.getStartX():A=_.getEndX())}}return u}static adjustCodewordCount(t,a){let i=a[0][1],l=i.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-qe.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>je.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();i.setValue(s)}else l[0]!==s&&i.setValue(s)}static createDecoderResult(t){let a=qe.createBarcodeMatrix(t);qe.adjustCodewordCount(t,a);let i=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let p=0;p<t.getBarcodeColumnCount();p++){let A=a[x][p+1].getValue(),N=x*t.getBarcodeColumnCount()+p;A.length===0?i.push(N):A.length===1?l[N]=A[0]:(c.push(N),s.push(A))}let u=new Array(s.length);for(let x=0;x<u.length;x++)u[x]=s[x];return qe.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,je.toIntArray(i),je.toIntArray(c),u)}static createDecoderResultFromAmbiguousValues(t,a,i,l,s){let c=new Int32Array(l.length),u=100;for(;u-- >0;){for(let x=0;x<c.length;x++)a[l[x]]=s[x][c[x]];try{return qe.decodeCodewords(a,t,i)}catch(x){if(!(x instanceof Y))throw x}if(c.length===0)throw Y.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<s[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw Y.getChecksumInstance()}throw Y.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<a.length;l++)for(let s=0;s<a[l].length;s++)a[l][s]=new za;let i=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=0){if(c>=a.length)continue;a[c][i].setValue(s.getValue())}}}i++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,i,l){let s=l?1:-1,c=null;if(qe.isValidBarcodeColumn(t,a-s)&&(c=t.getDetectionResultColumn(a-s).getCodeword(i)),c!=null)return l?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(a).getCodewordNearby(i),c!=null)return l?c.getStartX():c.getEndX();if(qe.isValidBarcodeColumn(t,a-s)&&(c=t.getDetectionResultColumn(a-s).getCodewordNearby(i)),c!=null)return l?c.getEndX():c.getStartX();let u=0;for(;qe.isValidBarcodeColumn(t,a-s);){a-=s;for(let x of t.getDetectionResultColumn(a).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+s*u*(x.getEndX()-x.getStartX());u++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,i,l,s,c,u,x){s=qe.adjustCodewordStartColumn(t,a,i,l,s,c);let p=qe.getModuleBitCount(t,a,i,l,s,c);if(p==null)return null;let A,N=et.sum(p);if(l)A=s+N;else{for(let j=0;j<p.length/2;j++){let U=p[j];p[j]=p[p.length-1-j],p[p.length-1-j]=U}A=s,s=A-N}if(!qe.checkCodewordSkew(N,u,x))return null;let _=gn.getDecodedValue(p),B=je.getCodeword(_);return B===-1?null:new $n(s,A,qe.getCodewordBucketNumber(_),B)}static getModuleBitCount(t,a,i,l,s,c){let u=s,x=new Int32Array(8),p=0,A=l?1:-1,N=l;for(;(l?u<i:u>=a)&&p<x.length;)t.get(u,c)===N?(x[p]++,u+=A):(p++,N=!N);return p===x.length||u===(l?i:a)&&p===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,i,l,s,c){let u=s,x=l?-1:1;for(let p=0;p<2;p++){for(;(l?u>=a:u<i)&&l===t.get(u,c);){if(Math.abs(s-u)>qe.CODEWORD_SKEW_SIZE)return s;u+=x}x=-x,l=!l}return u}static checkCodewordSkew(t,a,i){return a-qe.CODEWORD_SKEW_SIZE<=t&&t<=i+qe.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,i){if(t.length===0)throw ee.getFormatInstance();let l=1<<a+1,s=qe.correctErrors(t,i,l);qe.verifyCodewordCount(t,l);let c=J.decode(t,""+a);return c.setErrorsCorrected(s),c.setErasures(i.length),c}static correctErrors(t,a,i){if(a!=null&&a.length>i/2+qe.MAX_ERRORS||i<0||i>qe.MAX_EC_CODEWORDS)throw Y.getChecksumInstance();return qe.errorCorrection.decode(t,i,a)}static verifyCodewordCount(t,a){if(t.length<4)throw ee.getFormatInstance();let i=t[0];if(i>t.length)throw ee.getFormatInstance();if(i===0)if(a<t.length)t[0]=t.length-a;else throw ee.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),i=0,l=a.length-1;for(;!((t&1)!==i&&(i=t&1,l--,l<0));)a[l]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return qe.getCodewordBucketNumber(qe.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new Ii;for(let i=0;i<t.length;i++){a.format("Row %2d: ",i);for(let l=0;l<t[i].length;l++){let s=t[i][l];s.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}a.format("%n")}return a.toString()}}qe.CODEWORD_SKEW_SIZE=2,qe.MAX_ERRORS=3,qe.MAX_EC_CODEWORDS=512,qe.errorCorrection=new Ra;class mn{decode(t,a=null){let i=mn.decode(t,a,!1);if(i==null||i.length===0||i[0]==null)throw te.getNotFoundInstance();return i[0]}decodeMultiple(t,a=null){try{return mn.decode(t,a,!0)}catch(i){throw i instanceof ee||i instanceof Y?te.getNotFoundInstance():i}}static decode(t,a,i){const l=new Array,s=He.detectMultiple(t,a,i);for(const c of s.getPoints()){const u=qe.decode(s.getBits(),c[4],c[5],c[6],c[7],mn.getMinCodewordWidth(c),mn.getMaxCodewordWidth(c)),x=new Ae(u.getText(),u.getRawBytes(),void 0,c,ye.PDF_417);x.putMetadata(ut.ERROR_CORRECTION_LEVEL,u.getECLevel());const p=u.getOther();p!=null&&x.putMetadata(ut.PDF417_EXTRA_METADATA,p),l.push(x)}return l.map(c=>c)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?ae.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(mn.getMaxWidth(t[0],t[4]),mn.getMaxWidth(t[6],t[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.max(mn.getMaxWidth(t[1],t[5]),mn.getMaxWidth(t[7],t[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(mn.getMinWidth(t[0],t[4]),mn.getMinWidth(t[6],t[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.min(mn.getMinWidth(t[1],t[5]),mn.getMinWidth(t[7],t[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}reset(){}}class Xr extends v{}Xr.kind="ReaderException";class js{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!b(t)&&t.get(Ie.TRY_HARDER)===!0,i=b(t)?null:t.get(Ie.POSSIBLE_FORMATS),l=new Array;if(!b(i)){const s=i.some(c=>c===ye.UPC_A||c===ye.UPC_E||c===ye.EAN_13||c===ye.EAN_8||c===ye.CODABAR||c===ye.CODE_39||c===ye.CODE_93||c===ye.CODE_128||c===ye.ITF||c===ye.RSS_14||c===ye.RSS_EXPANDED);s&&!a&&l.push(new Wn(t,this.verbose)),i.includes(ye.QR_CODE)&&l.push(new _a),i.includes(ye.DATA_MATRIX)&&l.push(new Ta),i.includes(ye.AZTEC)&&l.push(new jr),i.includes(ye.PDF_417)&&l.push(new mn),s&&a&&l.push(new Wn(t,this.verbose))}l.length===0&&(a||l.push(new Wn(t,this.verbose)),l.push(new _a),l.push(new Ta),l.push(new jr),l.push(new mn),a&&l.push(new Wn(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Xr("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(i){if(i instanceof Xr)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Us extends we{constructor(t=null,a=500){const i=new js;i.setHints(t),super(i,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class uc extends we{constructor(t=500){super(new mn,t)}}class fc extends we{constructor(t=500){super(new _a,t)}}var kl;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(kl||(kl={}));var nn=kl;class gr{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new dn(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let i=a[a.length-1];const l=this.field;for(let s=a.length;s<=t;s++){const c=i.multiply(new dn(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));a.push(c),i=c}}return a[t]}encode(t,a){if(a===0)throw new I("No error correction bytes");const i=t.length-a;if(i<=0)throw new I("No data bytes provided");const l=this.buildGenerator(a),s=new Int32Array(i);le.arraycopy(t,0,s,0,i);let c=new dn(this.field,s);c=c.multiplyByMonomial(a,1);const x=c.divide(l)[1].getCoefficients(),p=a-x.length;for(let A=0;A<p;A++)t[i+A]=0;le.arraycopy(x,0,t,i+p,x.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(t){return Gt.applyMaskPenaltyRule1Internal(t,!0)+Gt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const i=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s-1;c++){const u=i[c];for(let x=0;x<l-1;x++){const p=u[x];p===u[x+1]&&p===i[c+1][x]&&p===i[c+1][x+1]&&a++}}return Gt.N2*a}static applyMaskPenaltyRule3(t){let a=0;const i=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s;c++)for(let u=0;u<l;u++){const x=i[c];u+6<l&&x[u]===1&&x[u+1]===0&&x[u+2]===1&&x[u+3]===1&&x[u+4]===1&&x[u+5]===0&&x[u+6]===1&&(Gt.isWhiteHorizontal(x,u-4,u)||Gt.isWhiteHorizontal(x,u+7,u+11))&&a++,c+6<s&&i[c][u]===1&&i[c+1][u]===0&&i[c+2][u]===1&&i[c+3][u]===1&&i[c+4][u]===1&&i[c+5][u]===0&&i[c+6][u]===1&&(Gt.isWhiteVertical(i,u,c-4,c)||Gt.isWhiteVertical(i,u,c+7,c+11))&&a++}return a*Gt.N3}static isWhiteHorizontal(t,a,i){a=Math.max(a,0),i=Math.min(i,t.length);for(let l=a;l<i;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,a,i,l){i=Math.max(i,0),l=Math.min(l,t.length);for(let s=i;s<l;s++)if(t[s][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const i=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let x=0;x<s;x++){const p=i[x];for(let A=0;A<l;A++)p[A]===1&&a++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-c)*10/c)*Gt.N4}static getDataMaskBit(t,a,i){let l,s;switch(t){case 0:l=i+a&1;break;case 1:l=i&1;break;case 2:l=a%3;break;case 3:l=(i+a)%3;break;case 4:l=Math.floor(i/2)+Math.floor(a/3)&1;break;case 5:s=i*a,l=(s&1)+s%3;break;case 6:s=i*a,l=(s&1)+s%3&1;break;case 7:s=i*a,l=s%3+(i+a&1)&1;break;default:throw new I("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,a){let i=0;const l=a?t.getHeight():t.getWidth(),s=a?t.getWidth():t.getHeight(),c=t.getArray();for(let u=0;u<l;u++){let x=0,p=-1;for(let A=0;A<s;A++){const N=a?c[u][A]:c[A][u];N===p?x++:(x>=5&&(i+=Gt.N1+(x-5)),x=1,p=N)}x>=5&&(i+=Gt.N1+(x-5))}return i}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class Yr{constructor(t,a){this.width=t,this.height=a;const i=new Array(a);for(let l=0;l!==a;l++)i[l]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,i){this.bytes[a][t]=i}setBoolean(t,a,i){this.bytes[a][t]=i?1:0}clear(t){for(const a of this.bytes)xe.fill(a,t)}equals(t){if(!(t instanceof Yr))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let i=0,l=this.height;i<l;++i){const s=this.bytes[i],c=a.bytes[i];for(let u=0,x=this.width;u<x;++u)if(s[u]!==c[u])return!1}return!0}toString(){const t=new Qe;for(let a=0,i=this.height;a<i;++a){const l=this.bytes[a];for(let s=0,c=this.width;s<c;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ka{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Qe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ka.NUM_MASK_PATTERNS}}Ka.NUM_MASK_PATTERNS=8;class At extends v{}At.kind="WriterException";class Ue{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,i,l,s){Ue.clearMatrix(s),Ue.embedBasicPatterns(i,s),Ue.embedTypeInfo(a,l,s),Ue.maybeEmbedVersionInfo(i,s),Ue.embedDataBits(t,l,s)}static embedBasicPatterns(t,a){Ue.embedPositionDetectionPatternsAndSeparators(a),Ue.embedDarkDotAtLeftBottomCorner(a),Ue.maybeEmbedPositionAdjustmentPatterns(t,a),Ue.embedTimingPatterns(a)}static embedTypeInfo(t,a,i){const l=new Ee;Ue.makeTypeInfoBits(t,a,l);for(let s=0,c=l.getSize();s<c;++s){const u=l.get(l.getSize()-1-s),x=Ue.TYPE_INFO_COORDINATES[s],p=x[0],A=x[1];if(i.setBoolean(p,A,u),s<8){const N=i.getWidth()-s-1;i.setBoolean(N,8,u)}else{const _=i.getHeight()-7+(s-8);i.setBoolean(8,_,u)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const i=new Ee;Ue.makeVersionInfoBits(t,i);let l=17;for(let s=0;s<6;++s)for(let c=0;c<3;++c){const u=i.get(l);l--,a.setBoolean(s,a.getHeight()-11+c,u),a.setBoolean(a.getHeight()-11+c,s,u)}}static embedDataBits(t,a,i){let l=0,s=-1,c=i.getWidth()-1,u=i.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);u>=0&&u<i.getHeight();){for(let x=0;x<2;++x){const p=c-x;if(!Ue.isEmpty(i.get(p,u)))continue;let A;l<t.getSize()?(A=t.get(l),++l):A=!1,a!==255&&Gt.getDataMaskBit(a,p,u)&&(A=!A),i.setBoolean(p,u,A)}u+=s}s=-s,u+=s,c-=2}if(l!==t.getSize())throw new At("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-ae.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new I("0 polynomial");const i=Ue.findMSBSet(a);for(t<<=i-1;Ue.findMSBSet(t)>=i;)t^=a<<Ue.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,a,i){if(!Ka.isValidMaskPattern(a))throw new At("Invalid mask pattern");const l=t.getBits()<<3|a;i.appendBits(l,5);const s=Ue.calculateBCHCode(l,Ue.TYPE_INFO_POLY);i.appendBits(s,10);const c=new Ee;if(c.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),i.xor(c),i.getSize()!==15)throw new At("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const i=Ue.calculateBCHCode(t.getVersionNumber(),Ue.VERSION_INFO_POLY);if(a.appendBits(i,12),a.getSize()!==18)throw new At("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const i=(a+1)%2;Ue.isEmpty(t.get(a,6))&&t.setNumber(a,6,i),Ue.isEmpty(t.get(6,a))&&t.setNumber(6,a,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new At;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,i){for(let l=0;l<8;++l){if(!Ue.isEmpty(i.get(t+l,a)))throw new At;i.setNumber(t+l,a,0)}}static embedVerticalSeparationPattern(t,a,i){for(let l=0;l<7;++l){if(!Ue.isEmpty(i.get(t,a+l)))throw new At;i.setNumber(t,a+l,0)}}static embedPositionAdjustmentPattern(t,a,i){for(let l=0;l<5;++l){const s=Ue.POSITION_ADJUSTMENT_PATTERN[l];for(let c=0;c<5;++c)i.setNumber(t+c,a+l,s[c])}}static embedPositionDetectionPattern(t,a,i){for(let l=0;l<7;++l){const s=Ue.POSITION_DETECTION_PATTERN[l];for(let c=0;c<7;++c)i.setNumber(t+c,a+l,s[c])}}static embedPositionDetectionPatternsAndSeparators(t){const a=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,t),Ue.embedPositionDetectionPattern(t.getWidth()-a,0,t),Ue.embedPositionDetectionPattern(0,t.getWidth()-a,t);const i=8;Ue.embedHorizontalSeparationPattern(0,i-1,t),Ue.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Ue.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const l=7;Ue.embedVerticalSeparationPattern(l,0,t),Ue.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Ue.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,l=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let s=0,c=l.length;s!==c;s++){const u=l[s];if(u>=0)for(let x=0;x!==c;x++){const p=l[x];p>=0&&Ue.isEmpty(a.get(p,u))&&Ue.embedPositionAdjustmentPattern(p-2,u-2,a)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class dc{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Lt{constructor(){}static calculateMaskPenalty(t){return Gt.applyMaskPenaltyRule1(t)+Gt.applyMaskPenaltyRule2(t)+Gt.applyMaskPenaltyRule3(t)+Gt.applyMaskPenaltyRule4(t)}static encode(t,a,i=null){let l=Lt.DEFAULT_BYTE_MODE_ENCODING;const s=i!==null&&i.get(nn.CHARACTER_SET)!==void 0;s&&(l=i.get(nn.CHARACTER_SET).toString());const c=this.chooseMode(t,l),u=new Ee;if(c===Le.BYTE&&(s||Lt.DEFAULT_BYTE_MODE_ENCODING!==l)){const ge=ue.getCharacterSetECIByName(l);ge!==void 0&&this.appendECI(ge,u)}this.appendModeInfo(c,u);const x=new Ee;this.appendBytes(t,c,x,l);let p;if(i!==null&&i.get(nn.QR_VERSION)!==void 0){const ge=Number.parseInt(i.get(nn.QR_VERSION).toString(),10);p=Oe.getVersionForNumber(ge);const he=this.calculateBitsNeeded(c,u,x,p);if(!this.willFit(he,p,a))throw new At("Data too big for requested version")}else p=this.recommendVersion(a,c,u,x);const A=new Ee;A.appendBitArray(u);const N=c===Le.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(N,p,c,A),A.appendBitArray(x);const _=p.getECBlocksForLevel(a),B=p.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(B,A);const j=this.interleaveWithECBytes(A,p.getTotalCodewords(),B,_.getNumBlocks()),U=new Ka;U.setECLevel(a),U.setMode(c),U.setVersion(p);const V=p.getDimensionForVersion(),W=new Yr(V,V),me=this.chooseMaskPattern(j,a,p,W);return U.setMaskPattern(me),Ue.buildMatrix(j,a,p,me,W),U.setMatrix(W),U}static recommendVersion(t,a,i,l){const s=this.calculateBitsNeeded(a,i,l,Oe.getVersionForNumber(1)),c=this.chooseVersion(s,t),u=this.calculateBitsNeeded(a,i,l,c);return this.chooseVersion(u,t)}static calculateBitsNeeded(t,a,i,l){return a.getSize()+t.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(t){return t<Lt.ALPHANUMERIC_TABLE.length?Lt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(ue.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return Le.KANJI;let i=!1,l=!1;for(let s=0,c=t.length;s<c;++s){const u=t.charAt(s);if(Lt.isDigit(u))i=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)l=!0;else return Le.BYTE}return l?Le.ALPHANUMERIC:i?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=We.encode(t,ue.SJIS)}catch{return!1}const i=a.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const s=a[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,a,i,l){let s=Number.MAX_SAFE_INTEGER,c=-1;for(let u=0;u<Ka.NUM_MASK_PATTERNS;u++){Ue.buildMatrix(t,a,i,u,l);let x=this.calculateMaskPenalty(l);x<s&&(s=x,c=u)}return c}static chooseVersion(t,a){for(let i=1;i<=40;i++){const l=Oe.getVersionForNumber(i);if(Lt.willFit(t,l,a))return l}throw new At("Data too big")}static willFit(t,a,i){const l=a.getTotalCodewords(),c=a.getECBlocksForLevel(i).getTotalECCodewords(),u=l-c,x=(t+7)/8;return u>=x}static terminateBits(t,a){const i=t*8;if(a.getSize()>i)throw new At("data bits cannot fit in the QR Code"+a.getSize()+" > "+i);for(let c=0;c<4&&a.getSize()<i;++c)a.appendBit(!1);const l=a.getSize()&7;if(l>0)for(let c=l;c<8;c++)a.appendBit(!1);const s=t-a.getSizeInBytes();for(let c=0;c<s;++c)a.appendBits((c&1)===0?236:17,8);if(a.getSize()!==i)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,i,l,s,c){if(l>=i)throw new At("Block ID too large");const u=t%i,x=i-u,p=Math.floor(t/i),A=p+1,N=Math.floor(a/i),_=N+1,B=p-N,j=A-_;if(B!==j)throw new At("EC bytes mismatch");if(i!==x+u)throw new At("RS blocks mismatch");if(t!==(N+B)*x+(_+j)*u)throw new At("Total bytes mismatch");l<x?(s[0]=N,c[0]=B):(s[0]=_,c[0]=j)}static interleaveWithECBytes(t,a,i,l){if(t.getSizeInBytes()!==i)throw new At("Number of bits and data bytes does not match");let s=0,c=0,u=0;const x=new Array;for(let A=0;A<l;++A){const N=new Int32Array(1),_=new Int32Array(1);Lt.getNumDataBytesAndNumECBytesForBlockID(a,i,l,A,N,_);const B=N[0],j=new Uint8Array(B);t.toBytes(8*s,j,0,B);const U=Lt.generateECBytes(j,_[0]);x.push(new dc(j,U)),c=Math.max(c,B),u=Math.max(u,U.length),s+=N[0]}if(i!==s)throw new At("Data bytes does not match offset");const p=new Ee;for(let A=0;A<c;++A)for(const N of x){const _=N.getDataBytes();A<_.length&&p.appendBits(_[A],8)}for(let A=0;A<u;++A)for(const N of x){const _=N.getErrorCorrectionBytes();A<_.length&&p.appendBits(_[A],8)}if(a!==p.getSizeInBytes())throw new At("Interleaving error: "+a+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(t,a){const i=t.length,l=new Int32Array(i+a);for(let c=0;c<i;c++)l[c]=t[c]&255;new gr(ft.QR_CODE_FIELD_256).encode(l,a);const s=new Uint8Array(a);for(let c=0;c<a;c++)s[c]=l[i+c];return s}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,i,l){const s=i.getCharacterCountBits(a);if(t>=1<<s)throw new At(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,a,i,l){switch(a){case Le.NUMERIC:Lt.appendNumericBytes(t,i);break;case Le.ALPHANUMERIC:Lt.appendAlphanumericBytes(t,i);break;case Le.BYTE:Lt.append8BitBytes(t,i,l);break;case Le.KANJI:Lt.appendKanjiBytes(t,i);break;default:throw new At("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=Lt.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const i=t.length;let l=0;for(;l<i;){const s=Lt.getDigit(t.charAt(l));if(l+2<i){const c=Lt.getDigit(t.charAt(l+1)),u=Lt.getDigit(t.charAt(l+2));a.appendBits(s*100+c*10+u,10),l+=3}else if(l+1<i){const c=Lt.getDigit(t.charAt(l+1));a.appendBits(s*10+c,7),l+=2}else a.appendBits(s,4),l++}}static appendAlphanumericBytes(t,a){const i=t.length;let l=0;for(;l<i;){const s=Lt.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new At;if(l+1<i){const c=Lt.getAlphanumericCode(t.charCodeAt(l+1));if(c===-1)throw new At;a.appendBits(s*45+c,11),l+=2}else a.appendBits(s,6),l++}}static append8BitBytes(t,a,i){let l;try{l=We.encode(t,i)}catch(s){throw new At(s)}for(let s=0,c=l.length;s!==c;s++){const u=l[s];a.appendBits(u,8)}}static appendKanjiBytes(t,a){let i;try{i=We.encode(t,ue.SJIS)}catch(s){throw new At(s)}const l=i.length;for(let s=0;s<l;s+=2){const c=i[s]&255,u=i[s+1]&255,x=c<<8&4294967295|u;let p=-1;if(x>=33088&&x<=40956?p=x-33088:x>=57408&&x<=60351&&(p=x-49472),p===-1)throw new At("Invalid byte sequence");const A=(p>>8)*192+(p&255);a.appendBits(A,13)}}static appendECI(t,a){a.appendBits(Le.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}Lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Lt.DEFAULT_BYTE_MODE_ENCODING=ue.UTF8.getName();class Wa{write(t,a,i,l=null){if(t.length===0)throw new I("Found empty contents");if(a<0||i<0)throw new I("Requested dimensions are too small: "+a+"x"+i);let s=$e.L,c=Wa.QUIET_ZONE_SIZE;l!==null&&(l.get(nn.ERROR_CORRECTION)!==void 0&&(s=$e.fromString(l.get(nn.ERROR_CORRECTION).toString())),l.get(nn.MARGIN)!==void 0&&(c=Number.parseInt(l.get(nn.MARGIN).toString(),10)));const u=Lt.encode(t,s,l);return this.renderResult(u,a,i,c)}writeToDom(t,a,i,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(a,i,l,s);t&&t.appendChild(c)}renderResult(t,a,i,l){const s=t.getMatrix();if(s===null)throw new jn;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,p=u+l*2,A=Math.max(a,x),N=Math.max(i,p),_=Math.min(Math.floor(A/x),Math.floor(N/p)),B=Math.floor((A-c*_)/2),j=Math.floor((N-u*_)/2),U=this.createSVGElement(A,N);for(let V=0,W=j;V<u;V++,W+=_)for(let me=0,ge=B;me<c;me++,ge+=_)if(s.get(me,V)===1){const he=this.createSvgRectElement(ge,W,_,_);U.appendChild(he)}return U}createSVGElement(t,a){const i=document.createElementNS(Wa.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",a.toString()),i}createSvgRectElement(t,a,i,l){const s=document.createElementNS(Wa.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",a.toString()),s.setAttributeNS(null,"height",i.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Wa.QUIET_ZONE_SIZE=4,Wa.SVG_NS="http://www.w3.org/2000/svg";class Mi{encode(t,a,i,l,s){if(t.length===0)throw new I("Found empty contents");if(a!==ye.QR_CODE)throw new I("Can only encode QR_CODE, but got "+a);if(i<0||l<0)throw new I(`Requested dimensions are too small: ${i}x${l}`);let c=$e.L,u=Mi.QUIET_ZONE_SIZE;s!==null&&(s.get(nn.ERROR_CORRECTION)!==void 0&&(c=$e.fromString(s.get(nn.ERROR_CORRECTION).toString())),s.get(nn.MARGIN)!==void 0&&(u=Number.parseInt(s.get(nn.MARGIN).toString(),10)));const x=Lt.encode(t,c,s);return Mi.renderResult(x,i,l,u)}static renderResult(t,a,i,l){const s=t.getMatrix();if(s===null)throw new jn;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,p=u+l*2,A=Math.max(a,x),N=Math.max(i,p),_=Math.min(Math.floor(A/x),Math.floor(N/p)),B=Math.floor((A-c*_)/2),j=Math.floor((N-u*_)/2),U=new xt(A,N);for(let V=0,W=j;V<u;V++,W+=_)for(let me=0,ge=B;me<c;me++,ge+=_)s.get(me,V)===1&&U.setRegion(ge,W,_,_);return U}}Mi.QUIET_ZONE_SIZE=4;class hc{encode(t,a,i,l,s){let c;switch(a){case ye.QR_CODE:c=new Mi;break;default:throw new I("No encoder available for format "+a)}return c.encode(t,a,i,l,s)}}class xa extends Be{constructor(t,a,i,l,s,c,u,x){if(super(c,u),this.yuvData=t,this.dataWidth=a,this.dataHeight=i,this.left=l,this.top=s,l+c>a||s+u>i)throw new I("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,u)}getRow(t,a){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));const l=(t+this.top)*this.dataWidth+this.left;return le.arraycopy(this.yuvData,l,a,0,i),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const i=t*a,l=new Uint8ClampedArray(i);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return le.arraycopy(this.yuvData,s,l,0,i),l;for(let c=0;c<a;c++){const u=c*t;le.arraycopy(this.yuvData,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,a,i,l){return new xa(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,i,l,!1)}renderThumbnail(){const t=this.getWidth()/xa.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/xa.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*a),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let c=0;c<a;c++){const u=c*t;for(let x=0;x<t;x++){const p=l[s+x*xa.THUMBNAIL_SCALE_FACTOR]&255;i[u+x]=4278190080|p*65793}s+=this.dataWidth*xa.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/xa.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xa.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const i=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<a;l++,s+=this.dataWidth){const c=s+t/2;for(let u=s,x=s+t-1;u<c;u++,x--){const p=i[u];i[u]=i[x],i[x]=p}}}invert(){return new Ve(this)}}xa.THUMBNAIL_SCALE_FACTOR=2;class jl extends Be{constructor(t,a,i,l,s,c,u){if(super(a,i),this.dataWidth=l,this.dataHeight=s,this.left=c,this.top=u,t.BYTES_PER_ELEMENT===4){const x=a*i,p=new Uint8ClampedArray(x);for(let A=0;A<x;A++){const N=t[A],_=N>>16&255,B=N>>7&510,j=N&255;p[A]=(_+B+j)/4&255}this.luminances=p}else this.luminances=t;if(l===void 0&&(this.dataWidth=a),s===void 0&&(this.dataHeight=i),c===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+i>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));const l=(t+this.top)*this.dataWidth+this.left;return le.arraycopy(this.luminances,l,a,0,i),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const i=t*a,l=new Uint8ClampedArray(i);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return le.arraycopy(this.luminances,s,l,0,i),l;for(let c=0;c<a;c++){const u=c*t;le.arraycopy(this.luminances,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,a,i,l){return new jl(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new Ve(this)}}class Fs extends ue{static forName(t){return this.getCharacterSetECIByName(t)}}class mr{}mr.ISO_8859_1=ue.ISO8859_1;class Bi{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class zs{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class Hs{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ja extends Hs{constructor(t,a,i){super(t),this.value=a,this.bitCount=i}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new Ja(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ja(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+ae.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class qr extends Ja{constructor(t,a,i){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=i}appendTo(t,a){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+i],8)}addBinaryShift(t,a){return new qr(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ps(S,t,a){return new qr(S,t,a)}function Li(S,t,a){return new Ja(S,t,a)}const ki=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Pa=0,Zr=1,Hn=2,Ul=3,ea=4,pr=new Ja(null,0,0),$a=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function xc(S){for(let t of S)xe.fill(t,-1);return S[Pa][ea]=0,S[Zr][ea]=0,S[Zr][Pa]=28,S[Ul][ea]=0,S[Hn][ea]=0,S[Hn][Pa]=15,S}const br=xc(xe.createInt32Array(6,6));class ta{constructor(t,a,i,l){this.token=t,this.mode=a,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let i=this.bitCount,l=this.token;if(t!==this.mode){let c=$a[this.mode][t];l=Li(l,c&65535,c>>16),i+=c>>16}let s=t===Hn?4:5;return l=Li(l,a,s),new ta(l,t,0,i+s)}shiftAndAppend(t,a){let i=this.token,l=this.mode===Hn?4:5;return i=Li(i,br[this.mode][t],l),i=Li(i,a,5),new ta(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let a=this.token,i=this.mode,l=this.bitCount;if(this.mode===ea||this.mode===Hn){let u=$a[i][Pa];a=Li(a,u&65535,u>>16),l+=u>>16,i=Pa}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new ta(a,i,this.binaryShiftByteCount+1,l+s);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Ps(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new ta(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+($a[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=ta.calculateBinaryShiftCost(t)-ta.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())a.unshift(l);let i=new Ee;for(const l of a)l.appendTo(i,t);return i}toString(){return ve.format("%s bits=%d bytes=%d",ki[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}ta.INITIAL_STATE=new ta(pr,Pa,0,0);function Gs(S){const t=ve.getCharCode(" "),a=ve.getCharCode("."),i=ve.getCharCode(",");S[Pa][t]=1;const l=ve.getCharCode("Z"),s=ve.getCharCode("A");for(let _=s;_<=l;_++)S[Pa][_]=_-s+2;S[Zr][t]=1;const c=ve.getCharCode("z"),u=ve.getCharCode("a");for(let _=u;_<=c;_++)S[Zr][_]=_-u+2;S[Hn][t]=1;const x=ve.getCharCode("9"),p=ve.getCharCode("0");for(let _=p;_<=x;_++)S[Hn][_]=_-p+2;S[Hn][i]=12,S[Hn][a]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let _=0;_<A.length;_++)S[Ul][ve.getCharCode(A[_])]=_;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _=0;_<N.length;_++)ve.getCharCode(N[_])>0&&(S[ea][ve.getCharCode(N[_])]=_);return S}const yr=Gs(xe.createInt32Array(5,256));class ei{constructor(t){this.text=t}encode(){const t=ve.getCharCode(" "),a=ve.getCharCode(`
`);let i=zs.singletonList(ta.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let c,u=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case ve.getCharCode("\r"):c=u===a?2:0;break;case ve.getCharCode("."):c=u===t?3:0;break;case ve.getCharCode(","):c=u===t?4:0;break;case ve.getCharCode(":"):c=u===t?5:0;break;default:c=0}c>0?(i=ei.updateStateListForPair(i,s,c),s++):i=this.updateStateListForChar(i,s)}return zs.min(i,(s,c)=>s.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const i=[];for(let l of t)this.updateStateForChar(l,a,i);return ei.simplifyStates(i)}updateStateForChar(t,a,i){let l=this.text[a]&255,s=yr[t.getMode()][l]>0,c=null;for(let u=0;u<=ea;u++){let x=yr[u][l];if(x>0){if(c==null&&(c=t.endBinaryShift(a)),!s||u===t.getMode()||u===Hn){const p=c.latchAndAppend(u,x);i.push(p)}if(!s&&br[t.getMode()][u]>=0){const p=c.shiftAndAppend(u,x);i.push(p)}}}if(t.getBinaryShiftByteCount()>0||yr[t.getMode()][l]===0){let u=t.addBinaryShiftChar(a);i.push(u)}}static updateStateListForPair(t,a,i){const l=[];for(let s of t)this.updateStateForPair(s,a,i,l);return this.simplifyStates(l)}static updateStateForPair(t,a,i,l){let s=t.endBinaryShift(a);if(l.push(s.latchAndAppend(ea,i)),t.getMode()!==ea&&l.push(s.shiftAndAppend(ea,i)),i===3||i===4){let c=s.latchAndAppend(Hn,16-i).latchAndAppend(Hn,1);l.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);l.push(c)}}static simplifyStates(t){let a=[];for(const i of t){let l=!0;for(const s of a){if(s.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(s)&&(a=a.filter(c=>c!==s))}l&&a.push(i)}return a}}class rt{constructor(){}static encodeBytes(t){return rt.encode(t,rt.DEFAULT_EC_PERCENT,rt.DEFAULT_AZTEC_LAYERS)}static encode(t,a,i){let l=new ei(t).encode(),s=ae.truncDivision(l.getSize()*a,100)+11,c=l.getSize()+s,u,x,p,A,N;if(i!==rt.DEFAULT_AZTEC_LAYERS){if(u=i<0,x=Math.abs(i),x>(u?rt.MAX_NB_BITS_COMPACT:rt.MAX_NB_BITS))throw new I(ve.format("Illegal value %s for layers",i));p=rt.totalBitsInLayer(x,u),A=rt.WORD_SIZE[x];let he=p-p%A;if(N=rt.stuffBits(l,A),N.getSize()+s>he)throw new I("Data to large for user specified layer");if(u&&N.getSize()>A*64)throw new I("Data to large for user specified layer")}else{A=0,N=null;for(let he=0;;he++){if(he>rt.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(u=he<=3,x=u?he+1:he,p=rt.totalBitsInLayer(x,u),c>p)continue;(N==null||A!==rt.WORD_SIZE[x])&&(A=rt.WORD_SIZE[x],N=rt.stuffBits(l,A));let Ke=p-p%A;if(!(u&&N.getSize()>A*64)&&N.getSize()+s<=Ke)break}}let _=rt.generateCheckWords(N,p,A),B=N.getSize()/A,j=rt.generateModeMessage(u,x,B),U=(u?11:14)+x*4,V=new Int32Array(U),W;if(u){W=U;for(let he=0;he<V.length;he++)V[he]=he}else{W=U+1+2*ae.truncDivision(ae.truncDivision(U,2)-1,15);let he=ae.truncDivision(U,2),Ke=ae.truncDivision(W,2);for(let Pe=0;Pe<he;Pe++){let Kt=Pe+ae.truncDivision(Pe,15);V[he-Pe-1]=Ke-Kt-1,V[he+Pe]=Ke+Kt+1}}let me=new xt(W);for(let he=0,Ke=0;he<x;he++){let Pe=(x-he)*4+(u?9:12);for(let Kt=0;Kt<Pe;Kt++){let Pn=Kt*2;for(let Cn=0;Cn<2;Cn++)_.get(Ke+Pn+Cn)&&me.set(V[he*2+Cn],V[he*2+Kt]),_.get(Ke+Pe*2+Pn+Cn)&&me.set(V[he*2+Kt],V[U-1-he*2-Cn]),_.get(Ke+Pe*4+Pn+Cn)&&me.set(V[U-1-he*2-Cn],V[U-1-he*2-Kt]),_.get(Ke+Pe*6+Pn+Cn)&&me.set(V[U-1-he*2-Kt],V[he*2+Cn])}Ke+=Pe*8}if(rt.drawModeMessage(me,u,W,j),u)rt.drawBullsEye(me,ae.truncDivision(W,2),5);else{rt.drawBullsEye(me,ae.truncDivision(W,2),7);for(let he=0,Ke=0;he<ae.truncDivision(U,2)-1;he+=15,Ke+=16)for(let Pe=ae.truncDivision(W,2)&1;Pe<W;Pe+=2)me.set(ae.truncDivision(W,2)-Ke,Pe),me.set(ae.truncDivision(W,2)+Ke,Pe),me.set(Pe,ae.truncDivision(W,2)-Ke),me.set(Pe,ae.truncDivision(W,2)+Ke)}let ge=new Bi;return ge.setCompact(u),ge.setSize(W),ge.setLayers(x),ge.setCodeWords(B),ge.setMatrix(me),ge}static drawBullsEye(t,a,i){for(let l=0;l<i;l+=2)for(let s=a-l;s<=a+l;s++)t.set(s,a-l),t.set(s,a+l),t.set(a-l,s),t.set(a+l,s);t.set(a-i,a-i),t.set(a-i+1,a-i),t.set(a-i,a-i+1),t.set(a+i,a-i),t.set(a+i,a-i+1),t.set(a+i,a+i-1)}static generateModeMessage(t,a,i){let l=new Ee;return t?(l.appendBits(a-1,2),l.appendBits(i-1,6),l=rt.generateCheckWords(l,28,4)):(l.appendBits(a-1,5),l.appendBits(i-1,11),l=rt.generateCheckWords(l,40,4)),l}static drawModeMessage(t,a,i,l){let s=ae.truncDivision(i,2);if(a)for(let c=0;c<7;c++){let u=s-3+c;l.get(c)&&t.set(u,s-5),l.get(c+7)&&t.set(s+5,u),l.get(20-c)&&t.set(u,s+5),l.get(27-c)&&t.set(s-5,u)}else for(let c=0;c<10;c++){let u=s-5+c+ae.truncDivision(c,5);l.get(c)&&t.set(u,s-7),l.get(c+10)&&t.set(s+7,u),l.get(29-c)&&t.set(u,s+7),l.get(39-c)&&t.set(s-7,u)}}static generateCheckWords(t,a,i){let l=t.getSize()/i,s=new gr(rt.getGF(i)),c=ae.truncDivision(a,i),u=rt.bitsToWords(t,i,c);s.encode(u,c-l);let x=a%i,p=new Ee;p.appendBits(0,x);for(const A of Array.from(u))p.appendBits(A,i);return p}static bitsToWords(t,a,i){let l=new Int32Array(i),s,c;for(s=0,c=t.getSize()/a;s<c;s++){let u=0;for(let x=0;x<a;x++)u|=t.get(s*a+x)?1<<a-x-1:0;l[s]=u}return l}static getGF(t){switch(t){case 4:return ft.AZTEC_PARAM;case 6:return ft.AZTEC_DATA_6;case 8:return ft.AZTEC_DATA_8;case 10:return ft.AZTEC_DATA_10;case 12:return ft.AZTEC_DATA_12;default:throw new I("Unsupported word size "+t)}}static stuffBits(t,a){let i=new Ee,l=t.getSize(),s=(1<<a)-2;for(let c=0;c<l;c+=a){let u=0;for(let x=0;x<a;x++)(c+x>=l||t.get(c+x))&&(u|=1<<a-1-x);(u&s)===s?(i.appendBits(u&s,a),c--):(u&s)===0?(i.appendBits(u|1,a),c--):i.appendBits(u,a)}return i}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}rt.DEFAULT_EC_PERCENT=33,rt.DEFAULT_AZTEC_LAYERS=0,rt.MAX_NB_BITS=32,rt.MAX_NB_BITS_COMPACT=4,rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class wr{encode(t,a,i,l){return this.encodeWithHints(t,a,i,l,null)}encodeWithHints(t,a,i,l,s){let c=mr.ISO_8859_1,u=rt.DEFAULT_EC_PERCENT,x=rt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(nn.CHARACTER_SET)&&(c=Fs.forName(s.get(nn.CHARACTER_SET).toString())),s.has(nn.ERROR_CORRECTION)&&(u=ae.parseInt(s.get(nn.ERROR_CORRECTION).toString())),s.has(nn.AZTEC_LAYERS)&&(x=ae.parseInt(s.get(nn.AZTEC_LAYERS).toString()))),wr.encodeLayers(t,a,i,l,c,u,x)}static encodeLayers(t,a,i,l,s,c,u){if(a!==ye.AZTEC)throw new I("Can only encode AZTEC, but got "+a);let x=rt.encode(ve.getBytes(t,s),c,u);return wr.renderResult(x,i,l)}static renderResult(t,a,i){let l=t.getMatrix();if(l==null)throw new jn;let s=l.getWidth(),c=l.getHeight(),u=Math.max(a,s),x=Math.max(i,c),p=Math.min(u/s,x/c),A=(u-s*p)/2,N=(x-c*p)/2,_=new xt(u,x);for(let B=0,j=N;B<c;B++,j+=p)for(let U=0,V=A;U<s;U++,V+=p)l.get(U,B)&&_.setRegion(V,j,p,p);return _}}h.AbstractExpandedDecoder=en,h.ArgumentException=L,h.ArithmeticException=Ai,h.AztecCode=Bi,h.AztecCodeReader=jr,h.AztecCodeWriter=wr,h.AztecDecoder=vt,h.AztecDetector=Tl,h.AztecDetectorResult=Rs,h.AztecEncoder=rt,h.AztecHighLevelEncoder=ei,h.AztecPoint=En,h.BarcodeFormat=ye,h.Binarizer=oe,h.BinaryBitmap=G,h.BitArray=Ee,h.BitMatrix=xt,h.BitSource=Jn,h.BrowserAztecCodeReader=lc,h.BrowserBarcodeReader=sc,h.BrowserCodeReader=we,h.BrowserDatamatrixCodeReader=zr,h.BrowserMultiFormatReader=Us,h.BrowserPDF417Reader=uc,h.BrowserQRCodeReader=fc,h.BrowserQRCodeSvgWriter=Wa,h.CharacterSetECI=ue,h.ChecksumException=Y,h.Code128Reader=pe,h.Code39Reader=_t,h.DataMatrixDecodedBitStreamParser=Na,h.DataMatrixReader=Ta,h.DecodeHintType=Ie,h.DecoderResult=Dt,h.DefaultGridSampler=Nl,h.DetectorResult=kr,h.EAN13Reader=ua,h.EncodeHintType=nn,h.Exception=v,h.FormatException=ee,h.GenericGF=ft,h.GenericGFPoly=dn,h.GlobalHistogramBinarizer=$,h.GridSampler=Sl,h.GridSamplerInstance=Qn,h.HTMLCanvasElementLuminanceSource=Je,h.HybridBinarizer=K,h.ITFReader=Ye,h.IllegalArgumentException=I,h.IllegalStateException=jn,h.InvertedLuminanceSource=Ve,h.LuminanceSource=Be,h.MathUtils=et,h.MultiFormatOneDReader=Wn,h.MultiFormatReader=js,h.MultiFormatWriter=hc,h.NotFoundException=te,h.OneDReader=jt,h.PDF417DecodedBitStreamParser=J,h.PDF417DecoderErrorCorrection=Ra,h.PDF417Reader=mn,h.PDF417ResultMetadata=Di,h.PerspectiveTransform=Un,h.PlanarYUVLuminanceSource=xa,h.QRCodeByteMatrix=Yr,h.QRCodeDataMask=Dn,h.QRCodeDecodedBitStreamParser=Mt,h.QRCodeDecoderErrorCorrectionLevel=$e,h.QRCodeDecoderFormatInformation=ln,h.QRCodeEncoder=Lt,h.QRCodeEncoderQRCode=Ka,h.QRCodeMaskUtil=Gt,h.QRCodeMatrixUtil=Ue,h.QRCodeMode=Le,h.QRCodeReader=_a,h.QRCodeVersion=Oe,h.QRCodeWriter=Mi,h.RGBLuminanceSource=jl,h.RSS14Reader=Et,h.RSSExpandedReader=de,h.ReaderException=Xr,h.ReedSolomonDecoder=Za,h.ReedSolomonEncoder=gr,h.ReedSolomonException=kn,h.Result=Ae,h.ResultMetadataType=ut,h.ResultPoint=Te,h.StringUtils=ve,h.UnsupportedOperationException=Me,h.VideoInputDevice=H,h.WhiteRectangleDetector=Yt,h.WriterException=At,h.ZXingArrays=xe,h.ZXingCharset=Fs,h.ZXingInteger=ae,h.ZXingStandardCharsets=mr,h.ZXingStringBuilder=Qe,h.ZXingStringEncoding=We,h.ZXingSystem=le,h.createAbstractExpandedDecoder=Si,Object.defineProperty(h,"__esModule",{value:!0})}))})(Es,Es.exports)),Es.exports}var qt=fm();const dm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Jd=(function(){function f(m,h,b){if(this.formatMap=new Map([[Ne.QR_CODE,qt.BarcodeFormat.QR_CODE],[Ne.AZTEC,qt.BarcodeFormat.AZTEC],[Ne.CODABAR,qt.BarcodeFormat.CODABAR],[Ne.CODE_39,qt.BarcodeFormat.CODE_39],[Ne.CODE_93,qt.BarcodeFormat.CODE_93],[Ne.CODE_128,qt.BarcodeFormat.CODE_128],[Ne.DATA_MATRIX,qt.BarcodeFormat.DATA_MATRIX],[Ne.MAXICODE,qt.BarcodeFormat.MAXICODE],[Ne.ITF,qt.BarcodeFormat.ITF],[Ne.EAN_13,qt.BarcodeFormat.EAN_13],[Ne.EAN_8,qt.BarcodeFormat.EAN_8],[Ne.PDF_417,qt.BarcodeFormat.PDF_417],[Ne.RSS_14,qt.BarcodeFormat.RSS_14],[Ne.RSS_EXPANDED,qt.BarcodeFormat.RSS_EXPANDED],[Ne.UPC_A,qt.BarcodeFormat.UPC_A],[Ne.UPC_E,qt.BarcodeFormat.UPC_E],[Ne.UPC_EAN_EXTENSION,qt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!dm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=h,this.logger=b;var E=this.createZXingFormats(m),w=new Map;w.set(qt.DecodeHintType.POSSIBLE_FORMATS,E),w.set(qt.DecodeHintType.TRY_HARDER,!1),this.hints=w}return f.prototype.decodeAsync=function(m){var h=this;return new Promise(function(b,E){try{b(h.decode(m))}catch(w){E(w)}})},f.prototype.decode=function(m){var h=new qt.MultiFormatReader(this.verbose,this.hints),b=new qt.HTMLCanvasElementLuminanceSource(m),E=new qt.BinaryBitmap(new qt.HybridBinarizer(b)),w=h.decode(E);return{text:w.text,format:Gh.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},f.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(h,b,E){m.set(h,b)}),m},f.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},f.prototype.createZXingFormats=function(m){for(var h=[],b=0,E=m;b<E.length;b++){var w=E[b];this.formatMap.has(w)?h.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return h},f.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},f})(),hm=function(f,m,h,b){function E(w){return w instanceof h?w:new h(function(T){T(w)})}return new(h||(h=Promise))(function(w,T){function D(L){try{v(b.next(L))}catch(I){T(I)}}function O(L){try{v(b.throw(L))}catch(I){T(I)}}function v(L){L.done?w(L.value):E(L.value).then(D,O)}v((b=b.apply(f,m||[])).next())})},xm=function(f,m){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,E,w,T;return T={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function D(v){return function(L){return O([v,L])}}function O(v){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(h=0)),h;)try{if(b=1,E&&(w=v[0]&2?E.return:v[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,v[1])).done)return w;switch(E=0,w&&(v=[v[0]&2,w.value]),v[0]){case 0:case 1:w=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,E=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!w||v[1]>w[0]&&v[1]<w[3])){h.label=v[1];break}if(v[0]===6&&h.label<w[1]){h.label=w[1],w=v;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(v);break}w[2]&&h.ops.pop(),h.trys.pop();continue}v=m.call(f,h)}catch(L){v=[6,L],E=0}finally{b=w=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},$d=(function(){function f(m,h,b){if(this.formatMap=new Map([[Ne.QR_CODE,"qr_code"],[Ne.AZTEC,"aztec"],[Ne.CODABAR,"codabar"],[Ne.CODE_39,"code_39"],[Ne.CODE_93,"code_93"],[Ne.CODE_128,"code_128"],[Ne.DATA_MATRIX,"data_matrix"],[Ne.ITF,"itf"],[Ne.EAN_13,"ean_13"],[Ne.EAN_8,"ean_8"],[Ne.PDF_417,"pdf417"],[Ne.UPC_A,"upc_a"],[Ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!f.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=h,this.logger=b;var E=this.createBarcodeDetectorFormats(m);if(this.detector=new BarcodeDetector(E),!this.detector)throw"BarcodeDetector detector not supported"}return f.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var m=new BarcodeDetector({formats:["qr_code"]});return typeof m<"u"},f.prototype.decodeAsync=function(m){return hm(this,void 0,void 0,function(){var h,b;return xm(this,function(E){switch(E.label){case 0:return[4,this.detector.detect(m)];case 1:if(h=E.sent(),!h||h.length===0)throw"No barcode or QR code detected.";return b=this.selectLargestBarcode(h),[2,{text:b.rawValue,format:Gh.create(this.toHtml5QrcodeSupportedFormats(b.format)),debugData:this.createDebugData()}]}})})},f.prototype.selectLargestBarcode=function(m){for(var h=null,b=0,E=0,w=m;E<w.length;E++){var T=w[E],D=T.boundingBox.width*T.boundingBox.height;D>b&&(b=D,h=T)}if(!h)throw"No largest barcode found";return h},f.prototype.createBarcodeDetectorFormats=function(m){for(var h=[],b=0,E=m;b<E.length;b++){var w=E[b];this.formatMap.has(w)?h.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:h}},f.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},f.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(h,b,E){m.set(h,b)}),m},f.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},f})(),eh=function(f,m,h,b){function E(w){return w instanceof h?w:new h(function(T){T(w)})}return new(h||(h=Promise))(function(w,T){function D(L){try{v(b.next(L))}catch(I){T(I)}}function O(L){try{v(b.throw(L))}catch(I){T(I)}}function v(L){L.done?w(L.value):E(L.value).then(D,O)}v((b=b.apply(f,m||[])).next())})},th=function(f,m){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,E,w,T;return T={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function D(v){return function(L){return O([v,L])}}function O(v){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(h=0)),h;)try{if(b=1,E&&(w=v[0]&2?E.return:v[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,v[1])).done)return w;switch(E=0,w&&(v=[v[0]&2,w.value]),v[0]){case 0:case 1:w=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,E=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!w||v[1]>w[0]&&v[1]<w[3])){h.label=v[1];break}if(v[0]===6&&h.label<w[1]){h.label=w[1],w=v;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(v);break}w[2]&&h.ops.pop(),h.trys.pop();continue}v=m.call(f,h)}catch(L){v=[6,L],E=0}finally{b=w=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},gm=(function(){function f(m,h,b,E){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=b,h&&$d.isSupported()?(this.primaryDecoder=new $d(m,b,E),this.secondaryDecoder=new Jd(m,b,E)):this.primaryDecoder=new Jd(m,b,E)}return f.prototype.decodeAsync=function(m){return eh(this,void 0,void 0,function(){var h;return th(this,function(b){switch(b.label){case 0:h=performance.now(),b.label=1;case 1:return b.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(m)];case 2:return[2,b.sent()];case 3:return this.possiblyLogPerformance(h),[7];case 4:return[2]}})})},f.prototype.decodeRobustlyAsync=function(m){return eh(this,void 0,void 0,function(){var h,b;return th(this,function(E){switch(E.label){case 0:h=performance.now(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(m)];case 2:return[2,E.sent()];case 3:if(b=E.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(m)];throw b;case 4:return this.possiblyLogPerformance(h),[7];case 5:return[2]}})})},f.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},f.prototype.possiblyLogPerformance=function(m){if(this.verbose){var h=performance.now()-m;this.executionResults.push(h),this.executions++,this.possiblyFlushPerformanceReport()}},f.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var m=0,h=0,b=this.executionResults;h<b.length;h++){var E=b[h];m+=E}var w=m/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},f})(),Sf=(function(){var f=function(m,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(b[w]=E[w])},f(m,h)};return function(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");f(m,h);function b(){this.constructor=m}m.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}})(),tc=function(f,m,h,b){function E(w){return w instanceof h?w:new h(function(T){T(w)})}return new(h||(h=Promise))(function(w,T){function D(L){try{v(b.next(L))}catch(I){T(I)}}function O(L){try{v(b.throw(L))}catch(I){T(I)}}function v(L){L.done?w(L.value):E(L.value).then(D,O)}v((b=b.apply(f,m||[])).next())})},nc=function(f,m){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,E,w,T;return T={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function D(v){return function(L){return O([v,L])}}function O(v){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(h=0)),h;)try{if(b=1,E&&(w=v[0]&2?E.return:v[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,v[1])).done)return w;switch(E=0,w&&(v=[v[0]&2,w.value]),v[0]){case 0:case 1:w=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,E=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!w||v[1]>w[0]&&v[1]<w[3])){h.label=v[1];break}if(v[0]===6&&h.label<w[1]){h.label=w[1],w=v;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(v);break}w[2]&&h.ops.pop(),h.trys.pop();continue}v=m.call(f,h)}catch(L){v=[6,L],E=0}finally{b=w=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Xh=(function(){function f(m,h){this.name=m,this.track=h}return f.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},f.prototype.apply=function(m){var h={};h[this.name]=m;var b={advanced:[h]};return this.track.applyConstraints(b)},f.prototype.value=function(){var m=this.track.getSettings();if(this.name in m){var h=m[this.name];return h}return null},f})(),mm=(function(f){Sf(m,f);function m(h,b){return f.call(this,h,b)||this}return m.prototype.min=function(){return this.getCapabilities().min},m.prototype.max=function(){return this.getCapabilities().max},m.prototype.step=function(){return this.getCapabilities().step},m.prototype.apply=function(h){var b={};b[this.name]=h;var E={advanced:[b]};return this.track.applyConstraints(E)},m.prototype.getCapabilities=function(){this.failIfNotSupported();var h=this.track.getCapabilities(),b=h[this.name];return{min:b.min,max:b.max,step:b.step}},m.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},m})(Xh),pm=(function(f){Sf(m,f);function m(h){return f.call(this,"zoom",h)||this}return m})(mm),bm=(function(f){Sf(m,f);function m(h){return f.call(this,"torch",h)||this}return m})(Xh),ym=(function(){function f(m){this.track=m}return f.prototype.zoomFeature=function(){return new pm(this.track)},f.prototype.torchFeature=function(){return new bm(this.track)},f})(),wm=(function(){function f(m,h,b){this.isClosed=!1,this.parentElement=m,this.mediaStream=h,this.callbacks=b,this.surface=this.createVideoElement(this.parentElement.clientWidth),m.append(this.surface)}return f.prototype.createVideoElement=function(m){var h=document.createElement("video");return h.style.width="".concat(m,"px"),h.style.display="block",h.muted=!0,h.setAttribute("muted","true"),h.playsInline=!0,h},f.prototype.setupSurface=function(){var m=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var h=function(){var b=m.surface.clientWidth,E=m.surface.clientHeight;m.callbacks.onRenderSurfaceReady(b,E),m.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.srcObject=this.mediaStream,this.surface.play()},f.create=function(m,h,b,E){return tc(this,void 0,void 0,function(){var w,T;return nc(this,function(D){switch(D.label){case 0:return w=new f(m,h,E),b.aspectRatio?(T={aspectRatio:b.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(T)]):[3,2];case 1:D.sent(),D.label=2;case 2:return w.setupSurface(),[2,w]}})})},f.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},f.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},f.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},f.prototype.resume=function(m){this.failIfClosed();var h=this,b=function(){setTimeout(m,200),h.surface.removeEventListener("playing",b)};this.surface.addEventListener("playing",b),this.surface.play()},f.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},f.prototype.getSurface=function(){return this.failIfClosed(),this.surface},f.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},f.prototype.applyVideoConstraints=function(m){return tc(this,void 0,void 0,function(){return nc(this,function(h){if("aspectRatio"in m)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(m)]})})},f.prototype.close=function(){if(this.isClosed)return Promise.resolve();var m=this;return new Promise(function(h,b){var E=m.mediaStream.getVideoTracks(),w=E.length,T=0;m.mediaStream.getVideoTracks().forEach(function(D){m.mediaStream.removeTrack(D),D.stop(),++T,T>=w&&(m.isClosed=!0,m.parentElement.removeChild(m.surface),h())})})},f.prototype.getCapabilities=function(){return new ym(this.getFirstTrackOrFail())},f})(),Em=(function(){function f(m){this.mediaStream=m}return f.prototype.render=function(m,h,b){return tc(this,void 0,void 0,function(){return nc(this,function(E){return[2,wm.create(m,this.mediaStream,h,b)]})})},f.create=function(m){return tc(this,void 0,void 0,function(){var h,b;return nc(this,function(E){switch(E.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return h={audio:!1,video:m},[4,navigator.mediaDevices.getUserMedia(h)];case 1:return b=E.sent(),[2,new f(b)]}})})},f})(),nh=function(f,m,h,b){function E(w){return w instanceof h?w:new h(function(T){T(w)})}return new(h||(h=Promise))(function(w,T){function D(L){try{v(b.next(L))}catch(I){T(I)}}function O(L){try{v(b.throw(L))}catch(I){T(I)}}function v(L){L.done?w(L.value):E(L.value).then(D,O)}v((b=b.apply(f,m||[])).next())})},ah=function(f,m){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,E,w,T;return T={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function D(v){return function(L){return O([v,L])}}function O(v){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(h=0)),h;)try{if(b=1,E&&(w=v[0]&2?E.return:v[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,v[1])).done)return w;switch(E=0,w&&(v=[v[0]&2,w.value]),v[0]){case 0:case 1:w=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,E=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!w||v[1]>w[0]&&v[1]<w[3])){h.label=v[1];break}if(v[0]===6&&h.label<w[1]){h.label=w[1],w=v;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(v);break}w[2]&&h.ops.pop(),h.trys.pop();continue}v=m.call(f,h)}catch(L){v=[6,L],E=0}finally{b=w=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Am=(function(){function f(){}return f.failIfNotSupported=function(){return nh(this,void 0,void 0,function(){return ah(this,function(m){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new f]})})},f.prototype.create=function(m){return nh(this,void 0,void 0,function(){return ah(this,function(h){return[2,Em.create(m)]})})},f})(),Cm=function(f,m,h,b){function E(w){return w instanceof h?w:new h(function(T){T(w)})}return new(h||(h=Promise))(function(w,T){function D(L){try{v(b.next(L))}catch(I){T(I)}}function O(L){try{v(b.throw(L))}catch(I){T(I)}}function v(L){L.done?w(L.value):E(L.value).then(D,O)}v((b=b.apply(f,m||[])).next())})},vm=function(f,m){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,E,w,T;return T={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function D(v){return function(L){return O([v,L])}}function O(v){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(h=0)),h;)try{if(b=1,E&&(w=v[0]&2?E.return:v[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,v[1])).done)return w;switch(E=0,w&&(v=[v[0]&2,w.value]),v[0]){case 0:case 1:w=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,E=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!w||v[1]>w[0]&&v[1]<w[3])){h.label=v[1];break}if(v[0]===6&&h.label<w[1]){h.label=w[1],w=v;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(v);break}w[2]&&h.ops.pop(),h.trys.pop();continue}v=m.call(f,h)}catch(L){v=[6,L],E=0}finally{b=w=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Sm=(function(){function f(){}return f.retrieve=function(){if(navigator.mediaDevices)return f.getCamerasFromMediaDevices();var m=MediaStreamTrack;return MediaStreamTrack&&m.getSources?f.getCamerasFromMediaStreamTrack():f.rejectWithError()},f.rejectWithError=function(){var m=Al.unableToQuerySupportedDevices();return f.isHttpsOrLocalhost()||(m=Al.insecureContextCameraQueryError()),Promise.reject(m)},f.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var m=location.host.split(":")[0];return m==="127.0.0.1"||m==="localhost"},f.getCamerasFromMediaDevices=function(){return Cm(this,void 0,void 0,function(){var m,h,b,E,w,T,D;return vm(this,function(O){switch(O.label){case 0:return m=function(v){for(var L=v.getVideoTracks(),I=0,G=L;I<G.length;I++){var Y=G[I];Y.enabled=!1,Y.stop(),v.removeTrack(Y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return h=O.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(b=O.sent(),E=[],w=0,T=b;w<T.length;w++)D=T[w],D.kind==="videoinput"&&E.push({id:D.deviceId,label:D.label});return m(h),[2,E]}})})},f.getCamerasFromMediaStreamTrack=function(){return new Promise(function(m,h){var b=function(w){for(var T=[],D=0,O=w;D<O.length;D++){var v=O[D];v.kind==="video"&&T.push({id:v.id,label:v.label})}m(T)},E=MediaStreamTrack;E.getSources(b)})},f})(),$t;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.NOT_STARTED=1]="NOT_STARTED",f[f.SCANNING=2]="SCANNING",f[f.PAUSED=3]="PAUSED"})($t||($t={}));var Nm=(function(){function f(){this.state=$t.NOT_STARTED,this.onGoingTransactionNewState=$t.UNKNOWN}return f.prototype.directTransition=function(m){this.failIfTransitionOngoing(),this.validateTransition(m),this.state=m},f.prototype.startTransition=function(m){return this.failIfTransitionOngoing(),this.validateTransition(m),this.onGoingTransactionNewState=m,this},f.prototype.execute=function(){if(this.onGoingTransactionNewState===$t.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var m=this.onGoingTransactionNewState;this.onGoingTransactionNewState=$t.UNKNOWN,this.directTransition(m)},f.prototype.cancel=function(){if(this.onGoingTransactionNewState===$t.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=$t.UNKNOWN},f.prototype.getState=function(){return this.state},f.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==$t.UNKNOWN)throw"Cannot transition to a new state, already under transition"},f.prototype.validateTransition=function(m){switch(this.state){case $t.UNKNOWN:throw"Transition from unknown is not allowed";case $t.NOT_STARTED:this.failIfNewStateIs(m,[$t.PAUSED]);break;case $t.SCANNING:break;case $t.PAUSED:break}},f.prototype.failIfNewStateIs=function(m,h){for(var b=0,E=h;b<E.length;b++){var w=E[b];if(m===w)throw"Cannot transition from ".concat(this.state," to ").concat(m)}},f})(),Tm=(function(){function f(m){this.stateManager=m}return f.prototype.startTransition=function(m){return this.stateManager.startTransition(m)},f.prototype.directTransition=function(m){this.stateManager.directTransition(m)},f.prototype.getState=function(){return this.stateManager.getState()},f.prototype.canScanFile=function(){return this.stateManager.getState()===$t.NOT_STARTED},f.prototype.isScanning=function(){return this.stateManager.getState()!==$t.NOT_STARTED},f.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===$t.SCANNING},f.prototype.isPaused=function(){return this.stateManager.getState()===$t.PAUSED},f})(),_m=(function(){function f(){}return f.create=function(){return new Tm(new Nm)},f})(),Rm=(function(){var f=function(m,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(b[w]=E[w])},f(m,h)};return function(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");f(m,h);function b(){this.constructor=m}m.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}})(),oa=(function(f){Rm(m,f);function m(){return f!==null&&f.apply(this,arguments)||this}return m.DEFAULT_WIDTH=300,m.DEFAULT_WIDTH_OFFSET=2,m.FILE_SCAN_MIN_HEIGHT=300,m.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,m.MIN_QR_BOX_SIZE=50,m.SHADED_LEFT=1,m.SHADED_RIGHT=2,m.SHADED_TOP=3,m.SHADED_BOTTOM=4,m.SHADED_REGION_ELEMENT_ID="qr-shaded-region",m.VERBOSE=!1,m.BORDER_SHADER_DEFAULT_COLOR="#ffffff",m.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",m})(sm),Om=(function(){function f(m,h){this.logger=h,this.fps=oa.SCAN_DEFAULT_FPS,m?(m.fps&&(this.fps=m.fps),this.disableFlip=m.disableFlip===!0,this.qrbox=m.qrbox,this.aspectRatio=m.aspectRatio,this.videoConstraints=m.videoConstraints):this.disableFlip=oa.DEFAULT_DISABLE_FLIP}return f.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Vh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},f.prototype.isShadedBoxEnabled=function(){return!bi(this.qrbox)},f.create=function(m,h){return new f(m,h)},f})(),Yh=(function(){function f(m,h){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.elementId=m,this.verbose=!1;var b;typeof h=="boolean"?this.verbose=h===!0:h&&(b=h,this.verbose=b.verbose===!0,b.experimentalFeatures),this.logger=new cm(this.verbose),this.qrcode=new gm(this.getSupportedFormats(h),this.getUseBarCodeDetectorIfSupported(b),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_m.create()}return f.prototype.start=function(m,h,b,E){var w=this;if(!m)throw"cameraIdOrConfig is required";if(!b||typeof b!="function")throw"qrCodeSuccessCallback is required and should be a function.";var T;E?T=E:T=this.verbose?this.logger.log:function(){};var D=Om.create(h,this.logger);this.clearElement();var O=!1;D.videoConstraints&&(D.isMediaStreamConstraintsValid()?O=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=O,L=document.getElementById(this.elementId);L.clientWidth?L.clientWidth:oa.DEFAULT_WIDTH,L.style.position="relative",this.shouldScan=!0,this.element=L;var I=this,G=this.stateManagerProxy.startTransition($t.SCANNING);return new Promise(function(Y,oe){var le=v?D.videoConstraints:I.createVideoConstraints(m);if(!le){G.cancel(),oe("videoConstraints should be defined");return}var ie={};(!v||D.aspectRatio)&&(ie.aspectRatio=D.aspectRatio);var be={onRenderSurfaceReady:function(xe,ae){I.setupUi(xe,ae,D),I.isScanning=!0,I.foreverScan(D,b,T)}};Am.failIfNotSupported().then(function(xe){xe.create(le).then(function(ae){return ae.render(w.element,ie,be).then(function(Ee){I.renderedCamera=Ee,G.execute(),Y(null)}).catch(function(Ee){G.cancel(),oe(Ee)})}).catch(function(ae){G.cancel(),oe(Al.errorGettingUserMedia(ae))})}).catch(function(xe){G.cancel(),oe(Al.cameraStreamingNotSupported())})})},f.prototype.pause=function(m){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition($t.PAUSED),this.showPausedState(),(bi(m)||m!==!0)&&(m=!1),m&&this.renderedCamera&&this.renderedCamera.pause()},f.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var m=this,h=function(){m.stateManagerProxy.directTransition($t.SCANNING),m.hidePausedState()};if(!this.renderedCamera.isPaused()){h();return}this.renderedCamera.resume(function(){h()})},f.prototype.getState=function(){return this.stateManagerProxy.getState()},f.prototype.stop=function(){var m=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var h=this.stateManagerProxy.startTransition($t.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var b=function(){if(m.element){var w=document.getElementById(oa.SHADED_REGION_ELEMENT_ID);w&&m.element.removeChild(w)}},E=this;return this.renderedCamera.close().then(function(){return E.renderedCamera=null,E.element&&(E.element.removeChild(E.canvasElement),E.canvasElement=null),b(),E.qrRegion&&(E.qrRegion=null),E.context&&(E.context=null),h.execute(),E.hidePausedState(),E.isScanning=!1,Promise.resolve()})},f.prototype.scanFile=function(m,h){return this.scanFileV2(m,h).then(function(b){return b.decodedText})},f.prototype.scanFileV2=function(m,h){var b=this;if(!m||!(m instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bi(h)&&(h=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(E,w){b.possiblyCloseLastScanImageFile(),b.clearElement(),b.lastScanImageFile=URL.createObjectURL(m);var T=new Image;T.onload=function(){var D=T.width,O=T.height,v=document.getElementById(b.elementId),L=v.clientWidth?v.clientWidth:oa.DEFAULT_WIDTH,I=Math.max(v.clientHeight?v.clientHeight:O,oa.FILE_SCAN_MIN_HEIGHT),G=b.computeCanvasDrawConfig(D,O,L,I);if(h){var Y=b.createCanvasElement(L,I,"qr-canvas-visible");Y.style.display="inline-block",v.appendChild(Y);var oe=Y.getContext("2d");if(!oe)throw"Unable to get 2d context from canvas";oe.canvas.width=L,oe.canvas.height=I,oe.drawImage(T,0,0,D,O,G.x,G.y,G.width,G.height)}var le=oa.FILE_SCAN_HIDDEN_CANVAS_PADDING,ie=Math.max(T.width,G.width),be=Math.max(T.height,G.height),xe=ie+2*le,ae=be+2*le,Ee=b.createCanvasElement(xe,ae);v.appendChild(Ee);var Re=Ee.getContext("2d");if(!Re)throw"Unable to get 2d context from canvas";Re.canvas.width=xe,Re.canvas.height=ae,Re.drawImage(T,0,0,D,O,le,le,ie,be);try{b.qrcode.decodeRobustlyAsync(Ee).then(function(Ie){E(Kd.createFromQrcodeResult(Ie))}).catch(w)}catch(Ie){w("QR code parse error, error = ".concat(Ie))}},T.onerror=w,T.onabort=w,T.onstalled=w,T.onsuspend=w,T.src=URL.createObjectURL(m)})},f.prototype.clear=function(){this.clearElement()},f.getCameras=function(){return Sm.retrieve()},f.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},f.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},f.prototype.applyVideoConstraints=function(m){if(m){if(!Vh.isMediaStreamConstraintsValid(m,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(m)},f.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},f.prototype.getSupportedFormats=function(m){var h=[Ne.QR_CODE,Ne.AZTEC,Ne.CODABAR,Ne.CODE_39,Ne.CODE_93,Ne.CODE_128,Ne.DATA_MATRIX,Ne.MAXICODE,Ne.ITF,Ne.EAN_13,Ne.EAN_8,Ne.PDF_417,Ne.RSS_14,Ne.RSS_EXPANDED,Ne.UPC_A,Ne.UPC_E,Ne.UPC_EAN_EXTENSION];if(!m||typeof m=="boolean"||!m.formatsToSupport)return h;if(!Array.isArray(m.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(m.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var b=[],E=0,w=m.formatsToSupport;E<w.length;E++){var T=w[E];lm(T)?b.push(T):this.logger.warn("Invalid format: ".concat(T," passed in config, ignoring."))}if(b.length===0)throw"None of formatsToSupport match supported values.";return b},f.prototype.getUseBarCodeDetectorIfSupported=function(m){if(bi(m))return!0;if(!bi(m.useBarCodeDetectorIfSupported))return m.useBarCodeDetectorIfSupported!==!1;if(bi(m.experimentalFeatures))return!0;var h=m.experimentalFeatures;return bi(h.useBarCodeDetectorIfSupported)?!0:h.useBarCodeDetectorIfSupported!==!1},f.prototype.validateQrboxSize=function(m,h,b){var E=this,w=b.qrbox;this.validateQrboxConfig(w);var T=this.toQrdimensions(m,h,w),D=function(v){if(v<oa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(oa.MIN_QR_BOX_SIZE,"px.")},O=function(v){return v>m&&(E.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=m),v};D(T.width),D(T.height),T.width=O(T.width)},f.prototype.validateQrboxConfig=function(m){if(typeof m!="number"&&typeof m!="function"&&(m.width===void 0||m.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},f.prototype.toQrdimensions=function(m,h,b){if(typeof b=="number")return{width:b,height:b};if(typeof b=="function")try{return b(m,h)}catch(E){throw new Error("qrbox config was passed as a function but it failed with unknown error"+E)}return b},f.prototype.setupUi=function(m,h,b){b.isShadedBoxEnabled()&&this.validateQrboxSize(m,h,b);var E=bi(b.qrbox)?{width:m,height:h}:b.qrbox;this.validateQrboxConfig(E);var w=this.toQrdimensions(m,h,E);w.height>h&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var T=b.isShadedBoxEnabled()&&w.height<=h,D={x:0,y:0,width:m,height:h},O=T?this.getShadedRegionBounds(m,h,w):D,v=this.createCanvasElement(O.width,O.height),L={willReadFrequently:!0},I=v.getContext("2d",L);I.canvas.width=O.width,I.canvas.height=O.height,this.element.append(v),T&&this.possiblyInsertShadingElement(this.element,m,h,w),this.createScannerPausedUiElement(this.element),this.qrRegion=O,this.context=I,this.canvasElement=v},f.prototype.createScannerPausedUiElement=function(m){var h=document.createElement("div");h.innerText=Al.scannerPaused(),h.style.display="none",h.style.position="absolute",h.style.top="0px",h.style.zIndex="1",h.style.background="rgba(9, 9, 9, 0.46)",h.style.color="#FFECEC",h.style.textAlign="center",h.style.width="100%",m.appendChild(h),this.scannerPausedUiElement=h},f.prototype.scanContext=function(m,h){var b=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(E){return m(E.text,Kd.createFromQrcodeResult(E)),b.possiblyUpdateShaders(!0),!0}).catch(function(E){b.possiblyUpdateShaders(!1);var w=Al.codeParseError(E);return h(w,om.createFrom(w)),!1})},f.prototype.foreverScan=function(m,h,b){var E=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),T=w.videoWidth/w.clientWidth,D=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var O=this.qrRegion.width*T,v=this.qrRegion.height*D,L=this.qrRegion.x*T,I=this.qrRegion.y*D;this.context.drawImage(w,L,I,O,v,0,0,this.qrRegion.width,this.qrRegion.height);var G=function(){E.foreverScanTimeout=setTimeout(function(){E.foreverScan(m,h,b)},E.getTimeoutFps(m.fps))};this.scanContext(h,b).then(function(Y){!Y&&m.disableFlip!==!0?(E.context.translate(E.context.canvas.width,0),E.context.scale(-1,1),E.scanContext(h,b).finally(function(){G()})):G()}).catch(function(Y){E.logger.logError("Error happend while scanning context",Y),G()})}},f.prototype.createVideoConstraints=function(m){if(typeof m=="string")return{deviceId:{exact:m}};if(typeof m=="object"){var h="facingMode",b="deviceId",E={user:!0,environment:!0},w="exact",T=function(oe){if(oe in E)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(oe,"'")},D=Object.keys(m);if(D.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(D.length," keys");var O=Object.keys(m)[0];if(O!==h&&O!==b)throw"Only '".concat(h,"' and '").concat(b,"' ")+" are supported for 'cameraIdOrConfig'";if(O===h){var v=m.facingMode;if(typeof v=="string"){if(T(v))return{facingMode:v}}else if(typeof v=="object")if(w in v){if(T(v["".concat(w)]))return{facingMode:{exact:v["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var L=typeof v;throw"Invalid type of 'facingMode' = ".concat(L)}}else{var I=m.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(w in I)return{deviceId:{exact:I["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var G=typeof I;throw"Invalid type of 'deviceId' = ".concat(G)}}}var Y=typeof m;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Y)},f.prototype.computeCanvasDrawConfig=function(m,h,b,E){if(m<=b&&h<=E){var w=(b-m)/2,T=(E-h)/2;return{x:w,y:T,width:m,height:h}}else{var D=m,O=h;return m>b&&(h=b/m*h,m=b),h>E&&(m=E/h*m,h=E),this.logger.log("Image downsampled from "+"".concat(D,"X").concat(O)+" to ".concat(m,"X").concat(h,".")),this.computeCanvasDrawConfig(m,h,b,E)}},f.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var m=document.getElementById(this.elementId);m&&(m.innerHTML="")},f.prototype.possiblyUpdateShaders=function(m){this.qrMatch!==m&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(h){h.style.backgroundColor=m?oa.BORDER_SHADER_MATCH_COLOR:oa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=m)},f.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},f.prototype.createCanvasElement=function(m,h,b){var E=m,w=h,T=document.createElement("canvas");return T.style.width="".concat(E,"px"),T.style.height="".concat(w,"px"),T.style.display="none",T.id=bi(b)?"qr-canvas":b,T},f.prototype.getShadedRegionBounds=function(m,h,b){if(b.width>m||b.height>h)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(m-b.width)/2,y:(h-b.height)/2,width:b.width,height:b.height}},f.prototype.possiblyInsertShadingElement=function(m,h,b,E){if(!(h-E.width<1||b-E.height<1)){var w=document.createElement("div");w.style.position="absolute";var T=(h-E.width)/2,D=(b-E.height)/2;if(w.style.borderLeft="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(oa.SHADED_REGION_ELEMENT_ID),h-E.width<11||b-E.height<11)this.hasBorderShaders=!1;else{var O=5,v=40;this.insertShaderBorders(w,v,O,-O,null,0,!0),this.insertShaderBorders(w,v,O,-O,null,0,!1),this.insertShaderBorders(w,v,O,null,-O,0,!0),this.insertShaderBorders(w,v,O,null,-O,0,!1),this.insertShaderBorders(w,O,v+O,-O,null,-O,!0),this.insertShaderBorders(w,O,v+O,null,-O,-O,!0),this.insertShaderBorders(w,O,v+O,-O,null,-O,!1),this.insertShaderBorders(w,O,v+O,null,-O,-O,!1),this.hasBorderShaders=!0}m.append(w)}},f.prototype.insertShaderBorders=function(m,h,b,E,w,T,D){var O=document.createElement("div");O.style.position="absolute",O.style.backgroundColor=oa.BORDER_SHADER_DEFAULT_COLOR,O.style.width="".concat(h,"px"),O.style.height="".concat(b,"px"),E!==null&&(O.style.top="".concat(E,"px")),w!==null&&(O.style.bottom="".concat(w,"px")),D?O.style.left="".concat(T,"px"):O.style.right="".concat(T,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(O),m.appendChild(O)},f.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},f.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},f.prototype.getTimeoutFps=function(m){return 1e3/m},f})(),ih;(function(f){f[f.STATUS_DEFAULT=0]="STATUS_DEFAULT",f[f.STATUS_SUCCESS=1]="STATUS_SUCCESS",f[f.STATUS_WARNING=2]="STATUS_WARNING",f[f.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ih||(ih={}));const Im=()=>{const[f,m]=F.useState(""),[h,b]=F.useState(""),[E,w]=F.useState(""),[T,D]=F.useState("reg"),[O,v]=F.useState(null),[L,I]=F.useState(null),[G,Y]=F.useState(!1),oe=F.useRef(null),le=F.useRef(!1),{login:ie}=F.useContext(Ei),be=xe=>{xe.preventDefault(),w("");const ae=h.trim()||"User";ie(f,ae)?window.location.hash="/":w("Invalid Registration Number.")};return F.useEffect(()=>{const xe=()=>{oe.current&&(oe.current.stop().catch(()=>{}).finally(()=>{var Ee,Re;(Re=(Ee=oe.current)==null?void 0:Ee.clear)==null||Re.call(Ee)}),oe.current=null)};if(T!=="qr"){xe(),Y(!1),v(null),I(null),le.current=!1;return}return(async()=>{try{Y(!0),v(null),I("Starting camera...");const Ee=new Yh("login-qr-scanner"),Re=ee=>{if(le.current)return;let Ce=ee.trim();try{const ue=JSON.parse(ee);Ce=ue.registrationId||ue.regId||ue.id||Ce}catch{}if(!Ce){const ue=ee.match(/registration\s*id\s*[:#-]?\s*([A-Za-z0-9-]+)/i);ue&&(Ce=ue[1])}if(!Ce){const ue=ee.match(/\b\d{10,20}\b/);ue&&(Ce=ue[0])}if(Ce=Ce.trim(),!Ce){v("Invalid QR code. Please scan a Registration ID QR.");return}m(Ce),v(null),I("Logging you in..."),le.current=!0,xe(),Y(!1),ie(Ce)?window.location.hash="/":(w("Invalid Registration Number."),I(null))},Ie=ee=>{};await Ee.start({facingMode:"environment"},{fps:10,qrbox:{width:220,height:220}},Re,Ie),oe.current=Ee,le.current=!1,I("Point your camera at a Registration ID QR code.")}catch(Ee){const Re=Ee instanceof Error?Ee.message:"Failed to initialize scanner";Re.includes("NotAllowedError")||Re.includes("permission")||Re.includes("Permission")?v("Camera access denied. Please allow camera permissions."):Re.includes("NotFoundError")?v("No camera found. Please check your device."):Re.includes("Only secure origins")||Re.includes("secure context")?v("Camera requires a secure context. Use https or localhost to enable scanning."):v(Re),Y(!1),I(null)}})(),()=>{xe(),Y(!1),I(null)}},[T,ie]),y.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-sans flex flex-col min-h-screen relative overflow-hidden text-[#111318] dark:text-white transition-colors duration-300",children:[y.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-primary/5 rounded-full blur-[100px]"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-[500px] h-[500px] bg-blue-400/5 rounded-full blur-[100px]"})]}),y.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center flex-grow w-full px-4 py-8",children:y.jsxs("div",{className:"w-full max-w-[440px] flex flex-col gap-8 bg-white dark:bg-[#1a202c] rounded-2xl shadow-[0_20px_40px_-12px_rgba(0,0,0,0.08)] dark:shadow-[0_20px_40px_-12px_rgba(0,0,0,0.4)] p-8 border border-white/50 dark:border-gray-800 backdrop-blur-sm",children:[y.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[y.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-primary/10 text-primary mb-1",children:y.jsx("span",{className:"material-symbols-outlined text-[32px]",children:"school"})}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("h1",{className:"text-2xl font-bold tracking-tight text-[#111318] dark:text-white",children:"AcadIntel"}),y.jsx("p",{className:"text-[#636f88] dark:text-gray-400 text-sm font-normal leading-relaxed",children:"Welcome to your focused study space."})]})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex p-1.5 bg-[#f0f2f4] dark:bg-[#111621] rounded-xl",children:[y.jsxs("button",{onClick:()=>D("reg"),className:`flex-1 relative group py-2.5 px-3 rounded-[10px] text-sm font-semibold transition-all duration-200 flex items-center justify-center ${T==="reg"?"bg-white dark:bg-[#2d3748] text-[#111318] dark:text-white shadow-sm":"text-[#636f88] dark:text-gray-400 hover:text-[#111318] dark:hover:text-white"}`,children:[y.jsx("span",{className:"material-symbols-outlined mr-2 text-[18px]",children:"badge"}),y.jsx("span",{children:"Registration ID"})]}),y.jsxs("button",{onClick:()=>D("qr"),className:`flex-1 relative group py-2.5 px-3 rounded-[10px] text-sm font-semibold transition-all duration-200 flex items-center justify-center ${T==="qr"?"bg-white dark:bg-[#2d3748] text-[#111318] dark:text-white shadow-sm":"text-[#636f88] dark:text-gray-400 hover:text-[#111318] dark:hover:text-white"}`,children:[y.jsx("span",{className:"material-symbols-outlined mr-2 text-[18px]",children:"qr_code_scanner"}),y.jsx("span",{children:"QR Scan"})]})]}),T==="reg"?y.jsxs("form",{onSubmit:be,className:"flex flex-col gap-5",children:[y.jsxs("label",{className:"flex flex-col gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-[#111318] dark:text-gray-200 ml-1",children:"Your Name"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:y.jsx("span",{className:"material-symbols-outlined text-[#636f88] dark:text-gray-500 text-[20px]",children:"person"})}),y.jsx("input",{className:"w-full h-12 pl-12 pr-4 rounded-xl bg-white dark:bg-[#1a202c] border border-[#dcdfe5] dark:border-gray-700 text-[#111318] dark:text-white placeholder-[#a1a8b3] dark:placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all font-normal text-base",placeholder:"Enter your full name",type:"text",value:h,onChange:xe=>b(xe.target.value)})]})]}),y.jsxs("label",{className:"flex flex-col gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-[#111318] dark:text-gray-200 ml-1",children:"Registration Number"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:y.jsx("span",{className:"material-symbols-outlined text-[#636f88] dark:text-gray-500 text-[20px]",children:"id_card"})}),y.jsx("input",{className:"w-full h-12 pl-12 pr-4 rounded-xl bg-white dark:bg-[#1a202c] border border-[#dcdfe5] dark:border-gray-700 text-[#111318] dark:text-white placeholder-[#a1a8b3] dark:placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all font-normal text-base",placeholder:"e.g. 2117240020105",type:"text",value:f,onChange:xe=>m(xe.target.value)})]}),E&&y.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1",children:E})]}),y.jsxs("button",{type:"submit",className:"group flex items-center justify-center w-full h-12 bg-primary hover:bg-[#1550c6] text-white text-[15px] font-bold tracking-wide rounded-xl transition-all shadow-[0_4px_14px_0_rgba(25,93,230,0.39)] hover:shadow-[0_6px_20px_rgba(25,93,230,0.23)] hover:-translate-y-0.5 active:translate-y-0 active:scale-[0.98]",children:[y.jsx("span",{children:"Enter Study Space"}),y.jsx("span",{className:"material-symbols-outlined ml-2 text-[20px] transition-transform group-hover:translate-x-1",children:"arrow_forward"})]})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 p-6 bg-gray-100 dark:bg-charcoal-dark rounded-xl",children:[y.jsx("div",{id:"login-qr-scanner",className:"w-full rounded-xl overflow-hidden bg-black",style:{minHeight:"260px"}}),G&&y.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Initializing camera..."}),O&&y.jsx("p",{className:"text-sm text-red-500 text-center",children:O}),L&&!O&&y.jsx("p",{className:"text-sm text-gray-500 text-center",children:L}),!G&&!O&&!L&&y.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Point your camera at a Registration ID QR code."}),y.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["Tip: QR codes can contain plain Registration ID text or JSON like ",'{"registrationId":"2024-STUD-8821"}',"."]})]}),y.jsxs("div",{className:"relative flex py-2 items-center",children:[y.jsx("div",{className:"flex-grow border-t border-[#e5e7eb] dark:border-gray-700"}),y.jsx("span",{className:"flex-shrink-0 mx-4 text-xs text-[#9ca3af] dark:text-gray-500 font-medium uppercase tracking-wider",children:"Help & Access"}),y.jsx("div",{className:"flex-grow border-t border-[#e5e7eb] dark:border-gray-700"})]}),y.jsxs("div",{className:"flex justify-between items-center px-1",children:[y.jsxs("a",{href:"#",className:"text-sm text-[#636f88] dark:text-gray-400 hover:text-primary dark:hover:text-primary font-medium transition-colors flex items-center gap-1.5",children:[y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"help"}),"Need Help?"]}),y.jsxs("a",{href:"#",className:"text-sm text-[#636f88] dark:text-gray-400 hover:text-primary dark:hover:text-primary font-medium transition-colors flex items-center gap-1.5",children:[y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"school"}),"Institutional Access"]})]})]}),y.jsx("div",{className:"pt-2 flex justify-center",children:y.jsxs("p",{className:"text-[11px] font-medium text-[#9ca3af] dark:text-gray-600 flex items-center gap-1.5 bg-[#f9fafb] dark:bg-[#111621] px-3 py-1.5 rounded-full border border-gray-100 dark:border-gray-800",children:[y.jsx("span",{className:"material-symbols-outlined text-[14px] text-green-600 dark:text-green-500",children:"lock"}),"Protected by AcadIntel Security"]})})]})})]})},rc=()=>{const{user:f,subjects:m,logout:h,deleteSubject:b}=F.useContext(Ei),E=qa(),[w,T]=F.useState(!1),[D,O]=F.useState(null),v=F.useRef(null);F.useEffect(()=>{const I=G=>{v.current&&!v.current.contains(G.target)&&T(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const L=[{path:"/",icon:"home",label:"Home"},{path:"/library",icon:"local_library",label:"Library"},{path:"/settings",icon:"settings",label:"Settings"}];return y.jsxs("aside",{className:"flex w-64 flex-col border-r border-white/5 bg-charcoal-dark pt-5 pb-4 px-3 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3 px-3 mb-6",children:[y.jsx("div",{className:"flex items-center justify-center size-8 rounded-lg bg-primary/10 text-primary",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"})}),y.jsx("h1",{className:"text-white text-base font-semibold tracking-tight",children:"AcadIntel"})]}),y.jsxs("a",{href:"#/subject/new",className:"mb-6 flex w-full cursor-pointer items-center justify-center gap-2 rounded-lg h-9 px-4 bg-primary hover:bg-primary/90 transition-colors text-white text-sm font-medium tracking-wide shadow-md shadow-primary/10 group",children:[y.jsx("span",{className:"material-symbols-outlined text-[20px] transition-transform group-hover:scale-110",children:"add"}),y.jsx("span",{children:"New Subject Notes"})]}),y.jsx("nav",{className:"flex flex-col gap-1 mb-6",children:L.map(I=>y.jsxs("a",{href:`#${I.path}`,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${E.pathname===I.path?"bg-black/5 dark:bg-white/5 text-[#111318] dark:text-white":"text-[#6b7280] dark:text-gray-400 hover:text-[#111318] dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5"}`,children:[y.jsx("span",{className:`material-symbols-outlined text-[20px] ${E.pathname===I.path?"text-primary":""}`,children:I.icon}),y.jsx("p",{className:"text-sm font-medium",children:I.label})]},I.path))}),y.jsx("div",{className:"px-3 mb-2 flex items-center justify-between",children:y.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Recent Subjects"})}),y.jsx("div",{className:"flex flex-col gap-0.5 overflow-y-auto flex-1 pr-1 -mr-2",children:m.map(I=>y.jsxs("div",{className:"group/item relative flex items-center gap-2 pr-2",children:[y.jsxs("a",{href:`#/subject/${I.id}`,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-[#6b7280] dark:text-gray-400 hover:text-[#111318] dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 transition-colors flex-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[20px] text-[#9ca3af] dark:text-gray-600 group-hover/item:text-[#6b7280] dark:group-hover/item:text-gray-400",children:"folder"}),y.jsx("p",{className:"text-sm font-medium truncate",children:I.name})]}),y.jsx("button",{onClick:()=>O(I.id),className:"opacity-0 group-hover/item:opacity-100 p-1.5 rounded-md text-[#6b7280] dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",title:"Delete subject",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"})})]},I.id))}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 relative",ref:v,children:[w&&y.jsxs("div",{className:"absolute bottom-full mb-2 w-full bg-surface-dark rounded-lg shadow-xl border border-white/10 p-1.5 z-10",children:[y.jsxs("a",{href:"#/settings",className:"flex items-center gap-2.5 w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-white/5 hover:text-white rounded-md transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-base",children:"person"}),"Profile"]}),y.jsxs("button",{onClick:h,className:"flex items-center gap-2.5 w-full text-left px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300 rounded-md transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-base",children:"logout"}),"Logout"]})]}),y.jsxs("button",{onClick:()=>T(!w),className:"flex items-center gap-3 px-2 w-full hover:bg-white/5 p-2 rounded-lg transition-colors text-left",children:[y.jsx("div",{className:"size-8 rounded-full bg-gradient-to-tr from-gray-600 to-gray-500 flex items-center justify-center text-xs font-bold text-white shadow-inner overflow-hidden",children:f!=null&&f.avatarUrl?y.jsx("img",{src:f.avatarUrl,alt:"Profile",className:"size-8 object-cover"}):f==null?void 0:f.avatarInitial}),y.jsx("div",{className:"flex flex-col overflow-hidden flex-1",children:y.jsx("p",{className:"text-sm font-medium text-white truncate",children:f==null?void 0:f.name})}),y.jsx("span",{className:`material-symbols-outlined text-gray-400 transition-transform ${w?"rotate-180":""}`,children:"expand_less"})]})]}),D&&y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-6 max-w-md mx-4 shadow-2xl border border-gray-200 dark:border-white/10",children:[y.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[y.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/20 rounded-full",children:y.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-2xl",children:"warning"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-lg font-semibold text-[#111318] dark:text-white mb-1",children:"Delete Subject"}),y.jsx("p",{className:"text-sm text-[#6b7280] dark:text-gray-400",children:"Are you sure you want to delete this subject? This action cannot be undone."})]})]}),y.jsxs("div",{className:"flex gap-3 justify-end",children:[y.jsx("button",{onClick:()=>O(null),className:"px-4 py-2 text-sm font-medium text-[#6b7280] dark:text-gray-400 hover:text-[#111318] dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{onClick:()=>{b&&(b(D),O(null),m.find(G=>G.id===D)&&E.pathname===`/subject/${D}`&&(window.location.hash="/"))},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Delete"})]})]})})]})},Dm=f=>JSON.stringify(f),Mm=(f,m=300)=>{const h=Dm(f),b=encodeURIComponent(h);return`https://api.qrserver.com/v1/create-qr-code/?size=${m}x${m}&data=${b}`},Bm=({onClose:f})=>{const[m,h]=F.useState(""),[b,E]=F.useState(""),[w,T]=F.useState(""),[D,O]=F.useState(null),v=()=>{if(m&&b&&w){const Y=Mm({name:m,code:b,regulation:w},400);O(Y)}},L=()=>{if(D){const G=document.createElement("a");G.href=D,G.download=`${b}-qr-code.png`,G.click()}},I=()=>{const G={name:m,code:b,regulation:w};navigator.clipboard.writeText(JSON.stringify(G)),alert("QR code data copied to clipboard!")};return y.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-primary to-blue-600 px-6 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-white text-2xl",children:"qr_code_2"}),y.jsx("h2",{className:"text-white text-xl font-bold",children:"Generate Subject QR Code"})]}),y.jsx("button",{onClick:f,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),y.jsxs("div",{className:"p-6 lg:p-8",children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-[#111318] dark:text-white",children:"Subject Details"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-sm font-semibold text-[#111318] dark:text-gray-200",children:"Subject Name"}),y.jsx("input",{type:"text",value:m,onChange:G=>h(G.target.value),placeholder:"e.g., Advanced Calculus",className:"w-full rounded-xl px-4 py-3 border border-[#dcdfe5] dark:border-gray-700 bg-white dark:bg-background-dark text-[#111318] dark:text-white placeholder:text-[#9ca3af] focus:outline-0 focus:ring-2 focus:ring-primary/50 transition-all"})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-sm font-semibold text-[#111318] dark:text-gray-200",children:"Subject Code"}),y.jsx("input",{type:"text",value:b,onChange:G=>E(G.target.value),placeholder:"e.g., MAT-402",className:"w-full rounded-xl px-4 py-3 border border-[#dcdfe5] dark:border-gray-700 bg-white dark:bg-background-dark text-[#111318] dark:text-white placeholder:text-[#9ca3af] focus:outline-0 focus:ring-2 focus:ring-primary/50 transition-all"})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-sm font-semibold text-[#111318] dark:text-gray-200",children:"Regulation / Year"}),y.jsx("input",{type:"text",value:w,onChange:G=>T(G.target.value),placeholder:"e.g., R-2021",className:"w-full rounded-xl px-4 py-3 border border-[#dcdfe5] dark:border-gray-700 bg-white dark:bg-background-dark text-[#111318] dark:text-white placeholder:text-[#9ca3af] focus:outline-0 focus:ring-2 focus:ring-primary/50 transition-all"})]}),y.jsx("button",{onClick:v,disabled:!m||!b||!w,className:"w-full px-4 py-3 rounded-xl bg-primary hover:bg-blue-600 disabled:bg-gray-400 dark:disabled:bg-gray-700 text-white font-semibold transition-colors mt-4",children:"Generate QR Code"})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-[#111318] dark:text-white",children:"Preview"}),D?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex items-center justify-center p-6 bg-white rounded-xl border border-[#e5e7eb] dark:border-gray-700",children:y.jsx("img",{src:D,alt:"Generated QR Code",className:"max-w-xs"})}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:L,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/40 font-semibold transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Download QR Code"]}),y.jsxs("button",{onClick:I,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-primary hover:bg-blue-100 dark:hover:bg-blue-900/40 font-semibold transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"content_copy"}),"Copy Data"]})]}),y.jsx("div",{className:"p-4 bg-slate-50 dark:bg-black/20 rounded-lg",children:y.jsx("p",{className:"text-xs font-mono text-slate-600 dark:text-slate-400 break-all",children:JSON.stringify({name:m,code:b,regulation:w})})})]}):y.jsx("div",{className:"flex items-center justify-center p-12 bg-slate-50 dark:bg-black/20 rounded-xl border-2 border-dashed border-[#dcdfe5] dark:border-gray-700",children:y.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400",children:'Fill in the details and click "Generate QR Code" to preview'})})]})]}),y.jsx("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:y.jsxs("div",{className:"flex gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",children:"info"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-1",children:"How to use:"}),y.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-400",children:"Generate a QR code with subject information. Students can scan this code to quickly add the subject to their workspace."})]})]})})]}),y.jsx("div",{className:"sticky bottom-0 px-6 py-4 bg-slate-50 dark:bg-black/20 border-t border-[#e5e7eb] dark:border-gray-800",children:y.jsx("button",{onClick:f,className:"w-full px-4 py-2 rounded-lg border border-[#dcdfe5] dark:border-gray-700 text-[#111318] dark:text-white font-semibold hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:"Close"})})]})})},Lm=()=>{const[f,m]=F.useState(!1),[h,b]=F.useState(""),[E,w]=F.useState(!1),T=async()=>{h.trim()&&(w(!0),setTimeout(()=>{alert(`Processing your query: "${h}"

This feature will integrate with AI tutoring, note generation, and smart search capabilities.`),w(!1),b("")},1e3))},D=v=>{v.key==="Enter"&&!E&&T()},O=v=>{b(v)};return y.jsxs("div",{className:"flex h-screen w-full bg-background-dark text-white font-sans",children:[y.jsx(rc,{}),y.jsxs("main",{className:"flex-1 relative flex flex-col h-full overflow-hidden bg-background-dark",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-[50vh] bg-gradient-to-b from-primary/5 to-transparent pointer-events-none z-0"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full w-full max-w-[800px] mx-auto px-6 pb-20",children:[y.jsxs("div",{className:"flex flex-col items-center text-center gap-3 mb-10",children:[y.jsx("div",{className:"mb-4 p-3 bg-white/5 rounded-2xl border border-white/5 shadow-xl shadow-black/20 backdrop-blur-sm",children:y.jsx("span",{className:"material-symbols-outlined text-4xl text-primary bg-clip-text",children:"auto_awesome"})}),y.jsx("h1",{className:"text-white tracking-tight text-4xl md:text-5xl font-bold leading-tight px-4 text-center",children:"Unlock your academic potential."}),y.jsx("p",{className:"text-gray-400 text-lg font-normal leading-relaxed max-w-xl text-center",children:"Paste a lecture transcript, upload a PDF, or ask a question to get started. AcadIntel helps you master any subject faster."})]}),y.jsxs("div",{className:"w-full max-w-2xl px-4 py-3 relative group",children:[y.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary/30 to-purple-600/30 rounded-xl blur opacity-30 group-hover:opacity-60 transition duration-500"}),y.jsx("label",{className:"relative flex flex-col w-full h-14 z-10",children:y.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full bg-[#1a1f2b] border border-white/10 shadow-2xl overflow-hidden transition-all focus-within:outline-none focus-within:ring-0",children:[y.jsx("div",{className:"text-gray-400 flex items-center justify-center pl-4 pr-2",children:y.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"search"})}),y.jsx("input",{autoFocus:!0,value:h,onChange:v=>b(v.target.value),onKeyPress:D,disabled:E,className:"flex w-full min-w-0 flex-1 resize-none bg-transparent text-white border-none h-full placeholder:text-gray-500 px-2 text-lg font-normal leading-normal outline-none ring-0 focus:outline-none focus:ring-0 focus-visible:outline-none focus-visible:ring-0 disabled:opacity-50",placeholder:"Ask AcadIntel anything..."}),y.jsx("div",{className:"flex items-center gap-2 pr-3",children:h&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>b(""),className:"p-1 rounded-full hover:bg-white/10 transition-colors flex items-center justify-center",title:"Clear",children:y.jsx("span",{className:"material-symbols-outlined text-[20px] text-gray-500",children:"close"})}),y.jsx("button",{onClick:T,disabled:E,className:"p-2 rounded-full bg-primary hover:bg-primary/80 transition-colors disabled:opacity-50 flex items-center justify-center",title:"Search",children:E?y.jsx("span",{className:"material-symbols-outlined text-[18px] text-white animate-spin",children:"progress_activity"}):y.jsx("span",{className:"material-symbols-outlined text-[18px] text-white",children:"arrow_forward"})})]})})]})})]}),y.jsxs("div",{className:"flex gap-3 mt-6 flex-wrap justify-center",children:[y.jsxs("button",{onClick:()=>O("Summarize my uploaded PDF on Machine Learning"),className:"group flex h-9 items-center justify-center gap-x-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 pl-3 pr-4 transition-all duration-200",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px] text-primary group-hover:text-primary/80",children:"summarize"}),y.jsx("p",{className:"text-gray-300 group-hover:text-white text-sm font-medium",children:"Summarize a PDF"})]}),y.jsxs("button",{onClick:()=>O("Quiz me on History of Ancient Rome"),className:"group flex h-9 items-center justify-center gap-x-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 pl-3 pr-4 transition-all duration-200",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px] text-purple-400 group-hover:text-purple-300",children:"quiz"}),y.jsx("p",{className:"text-gray-300 group-hover:text-white text-sm font-medium",children:"Quiz me on History"})]}),y.jsxs("button",{onClick:()=>O("Create flashcards for my study notes"),className:"group flex h-9 items-center justify-center gap-x-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 pl-3 pr-4 transition-all duration-200",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px] text-emerald-400 group-hover:text-emerald-300",children:"style"}),y.jsx("p",{className:"text-gray-300 group-hover:text-white text-sm font-medium",children:"Create Flashcards"})]}),y.jsxs("button",{onClick:()=>m(!0),className:"group flex h-9 items-center justify-center gap-x-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 pl-3 pr-4 transition-all duration-200",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px] text-orange-400 group-hover:text-orange-300",children:"qr_code_2"}),y.jsx("p",{className:"text-gray-300 group-hover:text-white text-sm font-medium",children:"Generate QR Code"})]})]})]}),y.jsx("div",{className:"absolute bottom-6 w-full text-center",children:y.jsxs("p",{className:"text-xs text-gray-600",children:["Powered by AcadIntel AI  ",y.jsx("a",{href:"#",className:"hover:text-gray-400 transition-colors",children:"Help & Support"})]})})]}),f&&y.jsx(Bm,{onClose:()=>m(!1)})]})},km=({onScan:f,onClose:m})=>{const h=F.useRef(null),[b,E]=F.useState(null),[w,T]=F.useState(!0),D=F.useRef(!0),O=F.useRef(f),v=F.useRef(m);F.useEffect(()=>{O.current=f,v.current=m},[f,m]);const L=()=>{D.current&&(D.current=!1,T(!1),h.current&&h.current.stop().catch(()=>{}),v.current())},I=G=>{G.target===G.currentTarget&&L()};return F.useEffect(()=>{document.body.style.overflow="hidden";const G=Y=>{Y.key==="Escape"&&D.current&&L()};return document.addEventListener("keydown",G),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",G)}},[]),F.useEffect(()=>((async()=>{if(D.current)try{const Y=new Yh("qr-scanner-container"),oe=ie=>{if(D.current){try{const be=JSON.parse(ie);if(be.name&&be.code&&be.regulation){T(!1),h.current&&h.current.stop().catch(()=>{}),O.current(be);return}}catch{const be=ie.match(/Subject:\s*(.+?)(?:\||$)/i),xe=ie.match(/Code:\s*(.+?)(?:\||$)/i),ae=ie.match(/Regulation:\s*(.+?)(?:\||$)/i);if(be&&xe&&ae){T(!1),h.current&&h.current.stop().catch(()=>{}),O.current({name:be[1].trim(),code:xe[1].trim(),regulation:ae[1].trim()});return}}D.current&&E('Invalid QR code format. Expected: {"name":"...", "code":"...", "regulation":"..."}')}},le=ie=>{};await Y.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},oe,le),D.current&&(h.current=Y)}catch(Y){if(D.current){const oe=Y instanceof Error?Y.message:"Failed to initialize scanner";oe.includes("NotAllowedError")||oe.includes("permission")||oe.includes("Permission")?E("Camera access denied. Please allow camera permissions."):oe.includes("NotFoundError")?E("No camera found. Please check your device."):E(oe),T(!1)}}})(),()=>{D.current=!1,h.current&&h.current.stop().catch(()=>{})}),[]),y.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-center justify-center p-4",onClick:I,children:y.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[y.jsx("div",{className:"bg-gradient-to-r from-primary to-blue-600 px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-white text-2xl",children:"qr_code"}),y.jsx("h2",{className:"text-white text-xl font-bold",children:"Scan Subject QR Code"})]}),y.jsx("button",{onClick:L,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]})}),y.jsxs("div",{className:"p-6",children:[w?y.jsxs(y.Fragment,{children:[y.jsx("div",{id:"qr-scanner-container",className:"mb-4 rounded-xl overflow-hidden bg-black w-full",style:{minHeight:"300px",width:"100%"}}),y.jsx("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Point your camera at a QR code to scan subject details"})]}):null,b&&y.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:y.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 flex items-start gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-lg flex-shrink-0 mt-0.5",children:"error"}),b]})}),!w&&!b&&y.jsxs("div",{className:"text-center py-8",children:[y.jsx("span",{className:"material-symbols-outlined text-5xl text-primary mb-4 block",children:"check_circle"}),y.jsx("p",{className:"text-lg font-semibold text-[#111318] dark:text-white mb-2",children:"QR Code Scanned!"}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Your subject details have been loaded."})]})]}),y.jsxs("div",{className:"px-6 py-4 bg-slate-50 dark:bg-black/20 border-t border-[#e5e7eb] dark:border-gray-800 flex gap-3",children:[y.jsx("button",{onClick:L,className:"flex-1 px-4 py-2 rounded-lg border border-[#dcdfe5] dark:border-gray-700 text-[#111318] dark:text-white font-semibold hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:"Close"}),b&&y.jsx("button",{onClick:()=>{E(null),T(!0)},className:"flex-1 px-4 py-2 rounded-lg bg-primary hover:bg-blue-600 text-white font-semibold transition-colors",children:"Try Again"})]})]})})},jm=()=>{const[f,m]=F.useState(""),[h,b]=F.useState(""),[E,w]=F.useState(""),[T,D]=F.useState(!1),{addSubject:O}=F.useContext(Ei),v=I=>{I.preventDefault(),f&&h&&E&&(O({name:f,code:h,regulation:E}),window.location.hash="/")},L=I=>{m(I.name),b(I.code),w(I.regulation),D(!1)};return y.jsxs("div",{className:"relative flex min-h-screen w-full flex-col bg-background-light dark:bg-background-dark font-display antialiased text-[#111318] dark:text-white transition-colors duration-200",children:[y.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-solid border-[#e5e7eb] dark:border-gray-800 bg-surface-light/80 dark:bg-background-dark/80 backdrop-blur-md px-6 py-4 lg:px-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"flex items-center justify-center size-10 rounded-lg bg-primary/10 text-primary",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"})}),y.jsx("h2",{className:"text-[#111318] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em]",children:"AcadIntel"})]}),y.jsxs("button",{onClick:()=>window.history.back(),className:"flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-transparent hover:bg-black/5 dark:hover:bg-white/5 text-[#111318] dark:text-white text-sm font-bold leading-normal tracking-[0.015em] transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined mr-2 text-lg",children:"arrow_back"}),y.jsx("span",{className:"truncate",children:"Back to Dashboard"})]})]}),y.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6 lg:p-8",children:y.jsxs("div",{className:"w-full max-w-[560px] flex flex-col gap-8",children:[y.jsxs("div",{className:"flex flex-col gap-3 text-center",children:[y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-[#111318] dark:text-white",children:"Add a New Subject"}),y.jsx("span",{className:"material-symbols-outlined text-primary animate-pulse",title:"AI Powered",children:"auto_awesome"})]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-medium leading-normal max-w-[440px] mx-auto",children:"Tell us what you're learning, and our AI will prepare your study materials immediately."})]}),y.jsxs("form",{onSubmit:v,className:"bg-surface-light dark:bg-surface-dark rounded-2xl shadow-[0_4px_24px_rgba(0,0,0,0.04)] dark:shadow-none border border-[#e5e7eb] dark:border-gray-800 p-6 sm:p-8 flex flex-col gap-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-[#111318] dark:text-white",children:"Enter Subject Details"}),y.jsxs("button",{type:"button",onClick:()=>D(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-primary hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors font-medium text-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-lg",children:"qr_code"}),"Scan QR Code"]})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-[#111318] dark:text-gray-200 text-sm font-semibold leading-normal",htmlFor:"subject-name",children:"Subject Name"}),y.jsx("input",{autoFocus:!0,value:f,onChange:I=>m(I.target.value),required:!0,className:"form-input w-full resize-none overflow-hidden rounded-xl text-[#111318] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dcdfe5] dark:border-gray-700 bg-white dark:bg-background-dark h-14 placeholder:text-[#9ca3af] px-4 py-3 text-base font-normal leading-tight transition-all",id:"subject-name",placeholder:"e.g., Advanced Calculus"})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[y.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[y.jsx("label",{className:"text-[#111318] dark:text-gray-200 text-sm font-semibold leading-normal",htmlFor:"subject-code",children:"Subject Code"}),y.jsx("input",{value:h,onChange:I=>b(I.target.value),required:!0,className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111318] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dcdfe5] dark:border-gray-700 bg-white dark:bg-background-dark h-14 placeholder:text-[#9ca3af] px-4 text-base font-normal leading-normal transition-all",id:"subject-code",placeholder:"e.g., MAT-402"})]}),y.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[y.jsx("label",{className:"text-[#111318] dark:text-gray-200 text-sm font-semibold leading-normal",htmlFor:"regulation",children:"Regulation / Year"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{value:E,onChange:I=>w(I.target.value),required:!0,className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111318] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dcdfe5] dark:border-gray-700 bg-white dark:bg-background-dark h-14 placeholder:text-[#9ca3af] px-4 text-base font-normal leading-normal transition-all",id:"regulation",placeholder:"e.g., R-2021"}),y.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:y.jsx("span",{className:"material-symbols-outlined text-xl",children:"calendar_month"})})]})]})]}),y.jsx("div",{className:"h-2"}),y.jsxs("button",{type:"submit",className:"group flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-xl h-14 bg-primary hover:bg-blue-600 active:bg-blue-700 text-white text-lg font-bold leading-normal tracking-[0.015em] transition-all shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40",children:[y.jsx("span",{className:"mr-2",children:"Start Studying"}),y.jsx("span",{className:"material-symbols-outlined text-xl group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]}),y.jsx("p",{className:"text-center text-xs text-slate-400 dark:text-slate-500 mt-2",children:"AcadIntel will generate a syllabus structure based on these details."})]})]})}),T&&y.jsx(km,{onScan:L,onClose:()=>D(!1)}),y.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none -z-10 overflow-hidden",children:[y.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl opacity-50 dark:opacity-20"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-blue-400/5 rounded-full blur-3xl opacity-50 dark:opacity-10"})]})]})},Nf="http://localhost:8000",Um=async f=>{try{const m=await fetch(`${Nf}/api/generate/answer-key`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return await m.json()}catch(m){throw console.error("Error generating answer key:",m),m}},Fm=async f=>{try{const m=await fetch(`${Nf}/api/generate/notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return await m.json()}catch(m){throw console.error("Error generating notes:",m),m}},zm=async f=>{try{const m=await fetch(`${Nf}/api/download/${f}`);if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return await m.blob()}catch(m){throw console.error("Error downloading PDF:",m),m}},Hm=(f,m)=>{const h=window.navigator;if(h.msSaveOrOpenBlob){h.msSaveOrOpenBlob(f,m);return}const b=window.URL.createObjectURL(f),E=document.createElement("a");E.href=b,E.download=m,E.rel="noopener noreferrer",E.target="_self",E.style.display="none",document.body.appendChild(E),requestAnimationFrame(()=>{E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(b)})},Pm=({onClose:f,subjectId:m})=>{const{subjects:h}=F.useContext(Ei),b=h.find(oe=>oe.id===m),E=wf(),[w,T]=F.useState(!1),[D,O]=F.useState(null),[v,L]=F.useState(null),[I,G]=F.useState(null),Y=async oe=>{if(b){T(!0),O(oe),L(null),G(null);try{const le={subject_id:m,subject_name:b.name,include_citations:!0,smart_highlights:!0,dark_export:!1};let ie;if(oe==="answer-key"?ie=await Um(le):ie=await Fm(le),!(ie!=null&&ie.success)){L((ie==null?void 0:ie.message)||"Failed to generate PDF. Please try again.");return}G("Generated successfully. Open preview to download."),console.log("Generation metadata:",ie.metadata),setTimeout(()=>{f(),E(`/subject/${m}/preview`,{state:{filename:ie.filename,subjectName:b==null?void 0:b.name,generationType:oe}})},800)}catch(le){console.error("Generation error:",le),L("Failed to generate PDF. Make sure the backend server is running at http://localhost:8000")}finally{T(!1),O(null)}}};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 dark:bg-black/40 backdrop-blur-sm",onClick:f,children:y.jsx("div",{className:"w-full max-w-4xl rounded-2xl p-1 shadow-2xl overflow-hidden relative bg-white/90 dark:bg-[rgba(17,22,33,0.75)] backdrop-blur-[16px] border border-black/10 dark:border-[rgba(255,255,255,0.08)]",onClick:oe=>oe.stopPropagation(),children:y.jsxs("div",{className:"bg-background-light/90 dark:bg-background-dark/40 rounded-xl p-8 md:p-10 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-primary/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-purple-600/10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/3 pointer-events-none"}),y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-10 relative z-10",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[y.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-primary to-blue-400",children:y.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"auto_awesome"})}),y.jsx("h2",{className:"text-2xl font-bold text-[#111318] dark:text-white tracking-tight",children:"AI Study Assistant"})]}),y.jsx("p",{className:"text-[#6b7280] dark:text-slate-400 text-sm ml-11",children:"Transform your raw notes into structured study materials."})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white dark:bg-[#1c2333] border border-[#e5e7eb] dark:border-[#292e38] text-xs font-medium text-[#6b7280] dark:text-slate-300",children:[y.jsx("span",{className:"material-symbols-outlined text-[16px] text-primary",children:"bolt"}),"5/10 Generations left"]}),y.jsx("button",{onClick:f,className:"text-[#6b7280] dark:text-slate-400 hover:text-[#111318] dark:hover:text-white transition-colors rounded-full p-1 hover:bg-black/5 dark:hover:bg-white/5",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]})]}),v&&y.jsx("div",{className:"relative z-10 mb-6 p-4 rounded-lg bg-red-500/10 border border-red-500/50",children:y.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:v})}),I&&y.jsx("div",{className:"relative z-10 mb-6 p-4 rounded-lg bg-green-500/10 border border-green-500/50",children:y.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:I})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative z-10 mb-8",children:[y.jsxs("button",{onClick:()=>Y("answer-key"),disabled:w,className:"group text-left p-6 rounded-xl flex flex-col h-full relative overflow-hidden bg-white dark:bg-[rgba(28,35,51,0.6)] border border-[#e5e7eb] dark:border-[rgba(255,255,255,0.05)] transition-all duration-200 hover:bg-[#f3f4f6] dark:hover:bg-[rgba(28,35,51,0.9)] hover:border-primary/50 hover:-translate-y-0.5 hover:shadow-2xl hover:shadow-primary/10 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#eef1f6] dark:bg-[#292e38] group-hover:bg-primary group-hover:scale-110 transition-all duration-300 flex items-center justify-center mb-5 text-[#111318] dark:text-white shadow-lg",children:w&&D==="answer-key"?y.jsx("span",{className:"material-symbols-outlined text-[28px] animate-spin",children:"progress_activity"}):y.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"picture_as_pdf"})}),y.jsx("h3",{className:"text-lg font-bold text-[#111318] dark:text-white mb-2 group-hover:text-primary transition-colors",children:w&&D==="answer-key"?"Generating...":"Generate Answer Key"}),y.jsx("p",{className:"text-sm text-[#6b7280] dark:text-slate-400 leading-relaxed",children:w&&D==="answer-key"?"Creating comprehensive answer key with source references...":"Create a comprehensive, downloadable PDF with step-by-step solutions and detailed explanations with source references."})]}),y.jsxs("button",{onClick:()=>Y("notes"),disabled:w,className:"group text-left p-6 rounded-xl flex flex-col h-full relative overflow-hidden bg-white dark:bg-[rgba(28,35,51,0.6)] border border-[#e5e7eb] dark:border-[rgba(255,255,255,0.05)] transition-all duration-200 hover:bg-[#f3f4f6] dark:hover:bg-[rgba(28,35,51,0.9)] hover:border-purple-500/50 hover:-translate-y-0.5 hover:shadow-2xl hover:shadow-purple-500/10 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#eef1f6] dark:bg-[#292e38] group-hover:bg-purple-600 group-hover:scale-110 transition-all duration-300 flex items-center justify-center mb-5 text-[#111318] dark:text-white shadow-lg",children:w&&D==="notes"?y.jsx("span",{className:"material-symbols-outlined text-[28px] animate-spin",children:"progress_activity"}):y.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"psychology"})}),y.jsx("h3",{className:"text-lg font-bold text-[#111318] dark:text-white mb-2 group-hover:text-purple-400 transition-colors",children:w&&D==="notes"?"Generating...":"Generate Exam-Ready Notes"}),y.jsx("p",{className:"text-sm text-[#6b7280] dark:text-slate-400 leading-relaxed",children:w&&D==="notes"?"Creating structured study notes organized by chapters...":"Condense lecture material into high-yield summaries with chapter-wise organization optimized for exam preparation."})]})]}),y.jsxs("div",{className:"flex items-center justify-between border-t border-[#e5e7eb] dark:border-white/5 pt-6 relative z-10",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{className:"text-xs text-[#6b7280] dark:text-slate-400 hover:text-[#111318] dark:hover:text-white flex items-center gap-1.5 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"history"}),"View History"]}),y.jsxs("button",{className:"text-xs text-[#6b7280] dark:text-slate-400 hover:text-[#111318] dark:hover:text-white flex items-center gap-1.5 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"settings"}),"Configure Output"]})]}),y.jsx("div",{className:"text-[10px] text-[#9da6b8] dark:text-slate-600 font-mono",children:"POWERED BY AcadIntel AI v1.0"})]})]})})})};var rh;(function(f){f.STRING="string",f.NUMBER="number",f.INTEGER="integer",f.BOOLEAN="boolean",f.ARRAY="array",f.OBJECT="object"})(rh||(rh={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lh;(function(f){f.LANGUAGE_UNSPECIFIED="language_unspecified",f.PYTHON="python"})(lh||(lh={}));var sh;(function(f){f.OUTCOME_UNSPECIFIED="outcome_unspecified",f.OUTCOME_OK="outcome_ok",f.OUTCOME_FAILED="outcome_failed",f.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(sh||(sh={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=["user","model","function","system"];var ch;(function(f){f.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",f.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",f.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",f.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",f.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(ch||(ch={}));var uh;(function(f){f.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",f.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",f.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",f.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",f.BLOCK_NONE="BLOCK_NONE"})(uh||(uh={}));var fh;(function(f){f.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",f.NEGLIGIBLE="NEGLIGIBLE",f.LOW="LOW",f.MEDIUM="MEDIUM",f.HIGH="HIGH"})(fh||(fh={}));var dh;(function(f){f.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",f.SAFETY="SAFETY",f.OTHER="OTHER"})(dh||(dh={}));var As;(function(f){f.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",f.STOP="STOP",f.MAX_TOKENS="MAX_TOKENS",f.SAFETY="SAFETY",f.RECITATION="RECITATION",f.LANGUAGE="LANGUAGE",f.OTHER="OTHER"})(As||(As={}));var hh;(function(f){f.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",f.RETRIEVAL_QUERY="RETRIEVAL_QUERY",f.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",f.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",f.CLASSIFICATION="CLASSIFICATION",f.CLUSTERING="CLUSTERING"})(hh||(hh={}));var xh;(function(f){f.MODE_UNSPECIFIED="MODE_UNSPECIFIED",f.AUTO="AUTO",f.ANY="ANY",f.NONE="NONE"})(xh||(xh={}));var gh;(function(f){f.MODE_UNSPECIFIED="MODE_UNSPECIFIED",f.MODE_DYNAMIC="MODE_DYNAMIC"})(gh||(gh={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Error{constructor(m){super(`[GoogleGenerativeAI Error]: ${m}`)}}class El extends Zn{constructor(m,h){super(m),this.response=h}}class qh extends Zn{constructor(m,h,b,E){super(m),this.status=h,this.statusText=b,this.errorDetails=E}}class or extends Zn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="https://generativelanguage.googleapis.com",Vm="v1beta",Xm="0.21.0",Ym="genai-js";var Br;(function(f){f.GENERATE_CONTENT="generateContent",f.STREAM_GENERATE_CONTENT="streamGenerateContent",f.COUNT_TOKENS="countTokens",f.EMBED_CONTENT="embedContent",f.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Br||(Br={}));class qm{constructor(m,h,b,E,w){this.model=m,this.task=h,this.apiKey=b,this.stream=E,this.requestOptions=w}toString(){var m,h;const b=((m=this.requestOptions)===null||m===void 0?void 0:m.apiVersion)||Vm;let w=`${((h=this.requestOptions)===null||h===void 0?void 0:h.baseUrl)||Gm}/${b}/${this.model}:${this.task}`;return this.stream&&(w+="?alt=sse"),w}}function Zm(f){const m=[];return f!=null&&f.apiClient&&m.push(f.apiClient),m.push(`${Ym}/${Xm}`),m.join(" ")}async function Qm(f){var m;const h=new Headers;h.append("Content-Type","application/json"),h.append("x-goog-api-client",Zm(f.requestOptions)),h.append("x-goog-api-key",f.apiKey);let b=(m=f.requestOptions)===null||m===void 0?void 0:m.customHeaders;if(b){if(!(b instanceof Headers))try{b=new Headers(b)}catch(E){throw new or(`unable to convert customHeaders value ${JSON.stringify(b)} to Headers: ${E.message}`)}for(const[E,w]of b.entries()){if(E==="x-goog-api-key")throw new or(`Cannot set reserved header name ${E}`);if(E==="x-goog-api-client")throw new or(`Header name ${E} can only be set using the apiClient field`);h.append(E,w)}}return h}async function Km(f,m,h,b,E,w){const T=new qm(f,m,h,b,w);return{url:T.toString(),fetchOptions:Object.assign(Object.assign({},ep(w)),{method:"POST",headers:await Qm(T),body:E})}}async function _s(f,m,h,b,E,w={},T=fetch){const{url:D,fetchOptions:O}=await Km(f,m,h,b,E,w);return Wm(D,O,T)}async function Wm(f,m,h=fetch){let b;try{b=await h(f,m)}catch(E){Jm(E,f)}return b.ok||await $m(b,f),b}function Jm(f,m){let h=f;throw f instanceof qh||f instanceof or||(h=new Zn(`Error fetching from ${m.toString()}: ${f.message}`),h.stack=f.stack),h}async function $m(f,m){let h="",b;try{const E=await f.json();h=E.error.message,E.error.details&&(h+=` ${JSON.stringify(E.error.details)}`,b=E.error.details)}catch{}throw new qh(`Error fetching from ${m.toString()}: [${f.status} ${f.statusText}] ${h}`,f.status,f.statusText,b)}function ep(f){const m={};if((f==null?void 0:f.signal)!==void 0||(f==null?void 0:f.timeout)>=0){const h=new AbortController;(f==null?void 0:f.timeout)>=0&&setTimeout(()=>h.abort(),f.timeout),f!=null&&f.signal&&f.signal.addEventListener("abort",()=>{h.abort()}),m.signal=h.signal}return m}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(f){return f.text=()=>{if(f.candidates&&f.candidates.length>0){if(f.candidates.length>1&&console.warn(`This response had ${f.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Jo(f.candidates[0]))throw new El(`${sr(f)}`,f);return tp(f)}else if(f.promptFeedback)throw new El(`Text not available. ${sr(f)}`,f);return""},f.functionCall=()=>{if(f.candidates&&f.candidates.length>0){if(f.candidates.length>1&&console.warn(`This response had ${f.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jo(f.candidates[0]))throw new El(`${sr(f)}`,f);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),mh(f)[0]}else if(f.promptFeedback)throw new El(`Function call not available. ${sr(f)}`,f)},f.functionCalls=()=>{if(f.candidates&&f.candidates.length>0){if(f.candidates.length>1&&console.warn(`This response had ${f.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jo(f.candidates[0]))throw new El(`${sr(f)}`,f);return mh(f)}else if(f.promptFeedback)throw new El(`Function call not available. ${sr(f)}`,f)},f}function tp(f){var m,h,b,E;const w=[];if(!((h=(m=f.candidates)===null||m===void 0?void 0:m[0].content)===null||h===void 0)&&h.parts)for(const T of(E=(b=f.candidates)===null||b===void 0?void 0:b[0].content)===null||E===void 0?void 0:E.parts)T.text&&w.push(T.text),T.executableCode&&w.push("\n```"+T.executableCode.language+`
`+T.executableCode.code+"\n```\n"),T.codeExecutionResult&&w.push("\n```\n"+T.codeExecutionResult.output+"\n```\n");return w.length>0?w.join(""):""}function mh(f){var m,h,b,E;const w=[];if(!((h=(m=f.candidates)===null||m===void 0?void 0:m[0].content)===null||h===void 0)&&h.parts)for(const T of(E=(b=f.candidates)===null||b===void 0?void 0:b[0].content)===null||E===void 0?void 0:E.parts)T.functionCall&&w.push(T.functionCall);if(w.length>0)return w}const np=[As.RECITATION,As.SAFETY,As.LANGUAGE];function Jo(f){return!!f.finishReason&&np.includes(f.finishReason)}function sr(f){var m,h,b;let E="";if((!f.candidates||f.candidates.length===0)&&f.promptFeedback)E+="Response was blocked",!((m=f.promptFeedback)===null||m===void 0)&&m.blockReason&&(E+=` due to ${f.promptFeedback.blockReason}`),!((h=f.promptFeedback)===null||h===void 0)&&h.blockReasonMessage&&(E+=`: ${f.promptFeedback.blockReasonMessage}`);else if(!((b=f.candidates)===null||b===void 0)&&b[0]){const w=f.candidates[0];Jo(w)&&(E+=`Candidate was blocked due to ${w.finishReason}`,w.finishMessage&&(E+=`: ${w.finishMessage}`))}return E}function vs(f){return this instanceof vs?(this.v=f,this):new vs(f)}function ap(f,m,h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=h.apply(f,m||[]),E,w=[];return E={},T("next"),T("throw"),T("return"),E[Symbol.asyncIterator]=function(){return this},E;function T(G){b[G]&&(E[G]=function(Y){return new Promise(function(oe,le){w.push([G,Y,oe,le])>1||D(G,Y)})})}function D(G,Y){try{O(b[G](Y))}catch(oe){I(w[0][3],oe)}}function O(G){G.value instanceof vs?Promise.resolve(G.value.v).then(v,L):I(w[0][2],G)}function v(G){D("next",G)}function L(G){D("throw",G)}function I(G,Y){G(Y),w.shift(),w.length&&D(w[0][0],w[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function ip(f){const m=f.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),h=sp(m),[b,E]=h.tee();return{stream:lp(b),response:rp(E)}}async function rp(f){const m=[],h=f.getReader();for(;;){const{done:b,value:E}=await h.read();if(b)return Tf(op(m));m.push(E)}}function lp(f){return ap(this,arguments,function*(){const h=f.getReader();for(;;){const{value:b,done:E}=yield vs(h.read());if(E)break;yield yield vs(Tf(b))}})}function sp(f){const m=f.getReader();return new ReadableStream({start(b){let E="";return w();function w(){return m.read().then(({value:T,done:D})=>{if(D){if(E.trim()){b.error(new Zn("Failed to parse stream"));return}b.close();return}E+=T;let O=E.match(ph),v;for(;O;){try{v=JSON.parse(O[1])}catch{b.error(new Zn(`Error parsing JSON response: "${O[1]}"`));return}b.enqueue(v),E=E.substring(O[0].length),O=E.match(ph)}return w()})}}})}function op(f){const m=f[f.length-1],h={promptFeedback:m==null?void 0:m.promptFeedback};for(const b of f){if(b.candidates)for(const E of b.candidates){const w=E.index;if(h.candidates||(h.candidates=[]),h.candidates[w]||(h.candidates[w]={index:E.index}),h.candidates[w].citationMetadata=E.citationMetadata,h.candidates[w].groundingMetadata=E.groundingMetadata,h.candidates[w].finishReason=E.finishReason,h.candidates[w].finishMessage=E.finishMessage,h.candidates[w].safetyRatings=E.safetyRatings,E.content&&E.content.parts){h.candidates[w].content||(h.candidates[w].content={role:E.content.role||"user",parts:[]});const T={};for(const D of E.content.parts)D.text&&(T.text=D.text),D.functionCall&&(T.functionCall=D.functionCall),D.executableCode&&(T.executableCode=D.executableCode),D.codeExecutionResult&&(T.codeExecutionResult=D.codeExecutionResult),Object.keys(T).length===0&&(T.text=""),h.candidates[w].content.parts.push(T)}}b.usageMetadata&&(h.usageMetadata=b.usageMetadata)}return h}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(f,m,h,b){const E=await _s(m,Br.STREAM_GENERATE_CONTENT,f,!0,JSON.stringify(h),b);return ip(E)}async function Qh(f,m,h,b){const w=await(await _s(m,Br.GENERATE_CONTENT,f,!1,JSON.stringify(h),b)).json();return{response:Tf(w)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(f){if(f!=null){if(typeof f=="string")return{role:"system",parts:[{text:f}]};if(f.text)return{role:"system",parts:[f]};if(f.parts)return f.role?f:{role:"system",parts:f.parts}}}function Ss(f){let m=[];if(typeof f=="string")m=[{text:f}];else for(const h of f)typeof h=="string"?m.push({text:h}):m.push(h);return cp(m)}function cp(f){const m={role:"user",parts:[]},h={role:"function",parts:[]};let b=!1,E=!1;for(const w of f)"functionResponse"in w?(h.parts.push(w),E=!0):(m.parts.push(w),b=!0);if(b&&E)throw new Zn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!b&&!E)throw new Zn("No content is provided for sending chat message.");return b?m:h}function up(f,m){var h;let b={model:m==null?void 0:m.model,generationConfig:m==null?void 0:m.generationConfig,safetySettings:m==null?void 0:m.safetySettings,tools:m==null?void 0:m.tools,toolConfig:m==null?void 0:m.toolConfig,systemInstruction:m==null?void 0:m.systemInstruction,cachedContent:(h=m==null?void 0:m.cachedContent)===null||h===void 0?void 0:h.name,contents:[]};const E=f.generateContentRequest!=null;if(f.contents){if(E)throw new or("CountTokensRequest must have one of contents or generateContentRequest, not both.");b.contents=f.contents}else if(E)b=Object.assign(Object.assign({},b),f.generateContentRequest);else{const w=Ss(f);b.contents=[w]}return{generateContentRequest:b}}function bh(f){let m;return f.contents?m=f:m={contents:[Ss(f)]},f.systemInstruction&&(m.systemInstruction=Kh(f.systemInstruction)),m}function fp(f){return typeof f=="string"||Array.isArray(f)?{content:Ss(f)}:f}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],dp={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function hp(f){let m=!1;for(const h of f){const{role:b,parts:E}=h;if(!m&&b!=="user")throw new Zn(`First content should be with role 'user', got ${b}`);if(!oh.includes(b))throw new Zn(`Each item should include role field. Got ${b} but valid roles are: ${JSON.stringify(oh)}`);if(!Array.isArray(E))throw new Zn("Content should have 'parts' property with an array of Parts");if(E.length===0)throw new Zn("Each Content should have at least one part");const w={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const D of E)for(const O of yh)O in D&&(w[O]+=1);const T=dp[b];for(const D of yh)if(!T.includes(D)&&w[D]>0)throw new Zn(`Content with role '${b}' can't contain '${D}' part`);m=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="SILENT_ERROR";class xp{constructor(m,h,b,E={}){this.model=h,this.params=b,this._requestOptions=E,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=m,b!=null&&b.history&&(hp(b.history),this._history=b.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(m,h={}){var b,E,w,T,D,O;await this._sendPromise;const v=Ss(m),L={safetySettings:(b=this.params)===null||b===void 0?void 0:b.safetySettings,generationConfig:(E=this.params)===null||E===void 0?void 0:E.generationConfig,tools:(w=this.params)===null||w===void 0?void 0:w.tools,toolConfig:(T=this.params)===null||T===void 0?void 0:T.toolConfig,systemInstruction:(D=this.params)===null||D===void 0?void 0:D.systemInstruction,cachedContent:(O=this.params)===null||O===void 0?void 0:O.cachedContent,contents:[...this._history,v]},I=Object.assign(Object.assign({},this._requestOptions),h);let G;return this._sendPromise=this._sendPromise.then(()=>Qh(this._apiKey,this.model,L,I)).then(Y=>{var oe;if(Y.response.candidates&&Y.response.candidates.length>0){this._history.push(v);const le=Object.assign({parts:[],role:"model"},(oe=Y.response.candidates)===null||oe===void 0?void 0:oe[0].content);this._history.push(le)}else{const le=sr(Y.response);le&&console.warn(`sendMessage() was unsuccessful. ${le}. Inspect response object for details.`)}G=Y}),await this._sendPromise,G}async sendMessageStream(m,h={}){var b,E,w,T,D,O;await this._sendPromise;const v=Ss(m),L={safetySettings:(b=this.params)===null||b===void 0?void 0:b.safetySettings,generationConfig:(E=this.params)===null||E===void 0?void 0:E.generationConfig,tools:(w=this.params)===null||w===void 0?void 0:w.tools,toolConfig:(T=this.params)===null||T===void 0?void 0:T.toolConfig,systemInstruction:(D=this.params)===null||D===void 0?void 0:D.systemInstruction,cachedContent:(O=this.params)===null||O===void 0?void 0:O.cachedContent,contents:[...this._history,v]},I=Object.assign(Object.assign({},this._requestOptions),h),G=Zh(this._apiKey,this.model,L,I);return this._sendPromise=this._sendPromise.then(()=>G).catch(Y=>{throw new Error(wh)}).then(Y=>Y.response).then(Y=>{if(Y.candidates&&Y.candidates.length>0){this._history.push(v);const oe=Object.assign({},Y.candidates[0].content);oe.role||(oe.role="model"),this._history.push(oe)}else{const oe=sr(Y);oe&&console.warn(`sendMessageStream() was unsuccessful. ${oe}. Inspect response object for details.`)}}).catch(Y=>{Y.message!==wh&&console.error(Y)}),G}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(f,m,h,b){return(await _s(m,Br.COUNT_TOKENS,f,!1,JSON.stringify(h),b)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(f,m,h,b){return(await _s(m,Br.EMBED_CONTENT,f,!1,JSON.stringify(h),b)).json()}async function pp(f,m,h,b){const E=h.requests.map(T=>Object.assign(Object.assign({},T),{model:m}));return(await _s(m,Br.BATCH_EMBED_CONTENTS,f,!1,JSON.stringify({requests:E}),b)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(m,h,b={}){this.apiKey=m,this._requestOptions=b,h.model.includes("/")?this.model=h.model:this.model=`models/${h.model}`,this.generationConfig=h.generationConfig||{},this.safetySettings=h.safetySettings||[],this.tools=h.tools,this.toolConfig=h.toolConfig,this.systemInstruction=Kh(h.systemInstruction),this.cachedContent=h.cachedContent}async generateContent(m,h={}){var b;const E=bh(m),w=Object.assign(Object.assign({},this._requestOptions),h);return Qh(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(b=this.cachedContent)===null||b===void 0?void 0:b.name},E),w)}async generateContentStream(m,h={}){var b;const E=bh(m),w=Object.assign(Object.assign({},this._requestOptions),h);return Zh(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(b=this.cachedContent)===null||b===void 0?void 0:b.name},E),w)}startChat(m){var h;return new xp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(h=this.cachedContent)===null||h===void 0?void 0:h.name},m),this._requestOptions)}async countTokens(m,h={}){const b=up(m,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),E=Object.assign(Object.assign({},this._requestOptions),h);return gp(this.apiKey,this.model,b,E)}async embedContent(m,h={}){const b=fp(m),E=Object.assign(Object.assign({},this._requestOptions),h);return mp(this.apiKey,this.model,b,E)}async batchEmbedContents(m,h={}){const b=Object.assign(Object.assign({},this._requestOptions),h);return pp(this.apiKey,this.model,m,b)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(m){this.apiKey=m}getGenerativeModel(m,h){if(!m.model)throw new Zn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Eh(this.apiKey,m,h)}getGenerativeModelFromCachedContent(m,h,b){if(!m.name)throw new or("Cached content must contain a `name` field.");if(!m.model)throw new or("Cached content must contain a `model` field.");const E=["model","systemInstruction"];for(const T of E)if(h!=null&&h[T]&&m[T]&&(h==null?void 0:h[T])!==m[T]){if(T==="model"){const D=h.model.startsWith("models/")?h.model.replace("models/",""):h.model,O=m.model.startsWith("models/")?m.model.replace("models/",""):m.model;if(D===O)continue}throw new or(`Different value for "${T}" specified in modelParams (${h[T]}) and cachedContent (${m[T]})`)}const w=Object.assign(Object.assign({},h),{model:m.model,tools:m.tools,toolConfig:m.toolConfig,systemInstruction:m.systemInstruction,cachedContent:m});return new Eh(this.apiKey,w,b)}}const yp="YOUR_API_KEY_HERE";let gf=null;gf=new bp(yp);const wp=async f=>{if(!gf)return new Promise(m=>{setTimeout(()=>{m(`This is a mock AI response for: "${f}"

In a real scenario, this would be intelligent content generated based on your trusted academic sources including:

 Previous year question papers
 E-textbooks from your library
 Reference materials
 Verified academic resources

The response would include:
 Detailed explanations
 Source citations
 Structured study notes
 Example problems and solutions

To enable real AI responses, add your Gemini API key to the .env file.`)},1500)});try{const E=(await(await gf.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}}).generateContent(f)).response).text();return E||"No content generated. The response was empty."}catch(m){return console.error("Error calling Gemini API:",m),m instanceof Error?`Error generating content: ${m.message}

Please check your API key configuration.`:"An unknown error occurred while generating content."}},Ep=({onClose:f,subjectName:m})=>{const[h,b]=F.useState([]),[E,w]=F.useState(""),[T,D]=F.useState(!1),O=F.useRef(null),v=()=>{var I;(I=O.current)==null||I.scrollIntoView({behavior:"smooth"})};F.useEffect(v,[h]);const L=async I=>{if(I.preventDefault(),!E.trim()||T)return;const G={sender:"user",text:E};b(ie=>[...ie,G]),w(""),D(!0);const Y=`You are an expert academic tutor for ${m}. Provide a clear, concise answer to the following question.

Guidelines:
- Keep response under 150 words
- Use bullet points for clarity
- Include 1 simple example if relevant
- Show key formulas using plain text (e.g., E = mc)
- Be direct and precise

Question: ${E}

Answer:`,le={sender:"ai",text:await wp(Y)};b(ie=>[...ie,le]),D(!1)};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:f,children:y.jsxs("div",{className:"w-full max-w-2xl h-[80vh] flex flex-col rounded-2xl shadow-2xl overflow-hidden relative bg-surface-dark border border-white/10",onClick:I=>I.stopPropagation(),children:[y.jsxs("header",{className:"p-4 border-b border-white/10 flex items-center justify-between shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-primary to-blue-400",children:y.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"support_agent"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-white tracking-tight",children:"AI Tutor"}),y.jsxs("p",{className:"text-xs text-slate-400",children:["Focusing on ",m]})]})]}),y.jsx("button",{onClick:f,className:"text-slate-400 hover:text-white transition-colors rounded-full p-1 hover:bg-white/5",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),y.jsx("div",{className:"flex-1 p-4 overflow-y-auto bg-white/95 dark:bg-transparent",children:y.jsxs("div",{className:"space-y-4",children:[h.map((I,G)=>y.jsxs("div",{className:`flex gap-3 ${I.sender==="user"?"justify-end":""}`,children:[I.sender==="ai"&&y.jsx("div",{className:"size-8 rounded-full bg-primary/20 text-primary flex items-center justify-center shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-lg",children:"auto_awesome"})}),y.jsx("div",{className:`p-3 rounded-xl max-w-md text-sm ${I.sender==="user"?"bg-primary text-white":"bg-[#eef1f6] dark:bg-[#292e38] text-[#111318] dark:text-slate-200"}`,children:y.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:I.text.split(`
`).map((Y,oe)=>{if(Y.includes("=")&&/[A-Za-z]/.test(Y))return y.jsx("div",{className:Y.trim().startsWith("")||Y.trim().startsWith("-")?"ml-2":"",children:y.jsx("code",{className:"bg-white/50 dark:bg-black/20 px-1.5 py-0.5 rounded text-xs font-mono",children:Y})},oe);const le=Y.split(/(\*\*.*?\*\*)/g);return y.jsx("div",{className:Y.trim().startsWith("")||Y.trim().startsWith("-")?"ml-2":"",children:le.map((ie,be)=>ie.startsWith("**")&&ie.endsWith("**")?y.jsx("strong",{className:"font-bold",children:ie.slice(2,-2)},be):y.jsx("span",{children:ie},be))},oe)})})})]},G)),T&&y.jsxs("div",{className:"flex gap-3",children:[y.jsx("div",{className:"size-8 rounded-full bg-primary/20 text-primary flex items-center justify-center shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-lg animate-spin",children:"progress_activity"})}),y.jsx("div",{className:"p-3 rounded-xl bg-[#eef1f6] dark:bg-[#292e38] text-[#111318] dark:text-slate-400 italic text-sm",children:"AI is thinking..."})]}),y.jsx("div",{ref:O})]})}),y.jsx("div",{className:"p-4 border-t border-white/10 shrink-0",children:y.jsxs("form",{onSubmit:L,className:"relative",children:[y.jsx("input",{type:"text",value:E,onChange:I=>w(I.target.value),placeholder:"Ask a question about your subject...",className:"w-full h-12 pl-4 pr-12 rounded-lg bg-white dark:bg-[#292e38] text-[#111318] dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-primary/50",disabled:T}),y.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 size-8 bg-primary rounded-lg text-white disabled:bg-slate-600 transition-colors",disabled:T||!E.trim(),children:y.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_upward"})})]})})]})})},Ap=[{id:"qp-1",title:"Fall 2023 Final Exam",source:"Prof. Schrodinger",duration:"3 hours",status:"Solved",difficulty:"High",type:"Exam"},{id:"qp-2",title:"Spring 2022 Midterm",source:"Prof. Heisenberg",duration:"1.5 hours",status:"Unsolved",difficulty:"Medium",type:"Midterm"},{id:"qp-3",title:"Practice Problem Set 4",source:"TA Session",duration:"20 Questions",status:"Solved",difficulty:"Low",type:"Practice"}],Cp=[{id:"tb-1",title:"Intro to Quantum Mechanics",author:"David J. Griffiths",coverUrl:"https://m.media-amazon.com/images/I/71pU-3f90sL._AC_UF1000,1000_QL80_.jpg",readPercentage:65},{id:"tb-2",title:"Principles of QM",author:"R. Shankar",coverUrl:"https://m.media-amazon.com/images/I/71cSKTcmr3L._AC_UF1000,1000_QL80_.jpg",readPercentage:12}],vp=[{id:"lb-1",title:"Griffiths - QM (3rd Ed.)",status:"Available",availableCopies:2,location:"Stack 4, Row B"},{id:"lb-2",title:"Feynman Lectures Vol 3",status:"Checked Out",dueDate:"Nov 14"}],Sp=()=>{const{id:f}=o2(),{subjects:m,user:h}=F.useContext(Ei),b=m.find(O=>O.id===f),[E,w]=F.useState(!1),[T,D]=F.useState(!1);return b?y.jsxs("div",{className:"flex h-screen w-full bg-background-dark font-display text-white",children:[y.jsx(rc,{}),y.jsxs("main",{className:"flex-1 overflow-y-auto",children:[y.jsxs("header",{className:"sticky top-0 z-40 flex items-center justify-between whitespace-nowrap border-b border-solid border-[#e5e7eb] dark:border-[#292e38] bg-white/80 dark:bg-background-dark/80 backdrop-blur-md px-6 lg:px-10 py-3",children:[y.jsx("div",{}),y.jsxs("div",{className:"flex flex-1 justify-end gap-4 md:gap-8 items-center",children:[y.jsxs("div",{className:"hidden md:flex items-center gap-9",children:[y.jsx("a",{href:"#/",className:"text-[#111318] dark:text-white text-sm font-medium hover:text-primary transition-colors",children:"Dashboard"}),y.jsx("span",{className:"text-primary text-sm font-medium",children:"Semester 4"}),y.jsx("a",{href:"#",className:"text-[#111318] dark:text-white text-sm font-medium hover:text-primary transition-colors",children:"Profile"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"flex items-center justify-center rounded-lg size-10 bg-[#eef1f6] dark:bg-[#292e38] text-[#111318] dark:text-white hover:bg-[#e5e7eb] dark:hover:bg-[#363c4a] transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"notifications"})}),y.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-gradient-to-tr from-gray-600 to-gray-500 text-sm font-bold shadow-inner overflow-hidden",children:h!=null&&h.avatarUrl?y.jsx("img",{src:h.avatarUrl,alt:"Profile",className:"size-10 object-cover"}):h==null?void 0:h.avatarInitial})]})]})]}),y.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 md:px-10 lg:px-20 py-6 flex flex-col gap-6",children:[y.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-sm text-text-secondary",children:[y.jsx("a",{href:"#/",className:"hover:text-primary transition-colors",children:"Dashboard"}),y.jsx("span",{children:"/"}),y.jsx("span",{children:"Semester 4"}),y.jsx("span",{children:"/"}),y.jsx("span",{className:"text-white font-medium",children:b.name})]}),y.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6 md:items-end pb-4 border-b border-[#e5e7eb] dark:border-[#292e38]",children:[y.jsxs("div",{className:"flex flex-col gap-3 max-w-2xl",children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-black leading-tight tracking-tight text-[#111318] dark:text-white",children:b.name}),y.jsx("p",{className:"text-[#6b7280] dark:text-text-secondary text-lg font-light leading-normal",children:"Manage your study materials, exams, and library resources efficiently."})]}),y.jsxs("div",{className:"flex gap-3 shrink-0",children:[y.jsxs("button",{className:"flex items-center gap-2 px-5 h-12 rounded-xl bg-[#eef1f6] dark:bg-[#292e38] hover:bg-[#e5e7eb] dark:hover:bg-[#363c4a] text-[#111318] dark:text-white font-bold transition-all",onClick:()=>w(!0),children:[y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"auto_awesome"}),y.jsx("span",{className:"hidden sm:inline",children:"Generate Notes"})]}),y.jsxs("button",{className:"flex items-center gap-2 px-5 h-12 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-primary/20 transition-all",onClick:()=>D(!0),children:[y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"support_agent"}),y.jsx("span",{children:"Ask AI Tutor"})]})]})]}),y.jsxs("div",{className:"w-full relative",children:[y.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-[#6b7280] dark:text-text-secondary",children:"search"}),y.jsx("input",{className:"w-full h-14 pl-12 pr-4 rounded-xl bg-white dark:bg-surface-dark text-[#111318] dark:text-white placeholder:text-[#9ca3af] dark:placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-primary/50 border border-[#e5e7eb] dark:border-transparent focus:border-primary/50",placeholder:"Search resources, topics, or ask AI a question..."})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mt-4",children:[y.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center justify-between pb-2",children:[y.jsxs("h2",{className:"text-xl font-bold tracking-tight flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"description"}),"Question Papers"]}),y.jsx("button",{className:"text-sm font-medium text-primary hover:text-blue-400",children:"View All"})]}),Ap.map(O=>y.jsxs("div",{className:"group flex flex-col p-4 rounded-xl bg-surface-dark border border-transparent hover:border-slate-700 hover:shadow-lg transition-all cursor-pointer",children:[y.jsx("div",{className:"flex justify-between items-start mb-3",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`size-10 rounded-lg flex items-center justify-center ${O.type==="Practice"?"bg-blue-500/10 text-blue-500":"bg-red-500/10 text-red-500"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:O.type==="Practice"?"quiz":"picture_as_pdf"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-base leading-tight text-[#111318] dark:text-white group-hover:text-primary transition-colors",children:O.title}),y.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:[O.source,"  ",O.duration]})]})]})}),y.jsxs("div",{className:"flex flex-wrap gap-2 mt-auto",children:[y.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${O.status==="Solved"?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-yellow-500/10 text-yellow-500 border border-yellow-500/20"}`,children:O.status}),y.jsxs("span",{className:"px-2 py-1 rounded bg-[#eef1f6] dark:bg-slate-700 text-[#6b7280] dark:text-slate-300 text-xs font-medium",children:[O.difficulty," Difficulty"]})]})]},O.id))]}),y.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center justify-between pb-2",children:[y.jsxs("h2",{className:"text-xl font-bold tracking-tight flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"menu_book"}),"Textbooks"]}),y.jsx("button",{className:"text-sm font-medium text-primary hover:text-blue-400",children:"Manage"})]}),Cp.map(O=>y.jsxs("div",{className:"flex gap-4 p-4 rounded-xl bg-surface-dark border border-transparent hover:border-slate-700 hover:shadow-lg transition-all",children:[y.jsx("div",{className:"shrink-0 w-20 h-28 rounded-lg bg-cover bg-center shadow-md",style:{backgroundImage:`url(${O.coverUrl})`}}),y.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[y.jsx("h3",{className:"font-bold text-base truncate text-[#111318] dark:text-white",children:O.title}),y.jsx("p",{className:"text-sm text-text-secondary mb-2",children:O.author}),y.jsx("div",{className:"w-full bg-[#e5e7eb] dark:bg-slate-700 h-1.5 rounded-full mb-1",children:y.jsx("div",{className:"bg-primary h-1.5 rounded-full",style:{width:`${O.readPercentage}%`}})}),y.jsxs("p",{className:"text-xs text-text-secondary mb-3 text-right",children:[O.readPercentage,"% Read"]}),y.jsxs("div",{className:"flex gap-2 mt-auto",children:[y.jsx("button",{className:"flex-1 h-8 rounded-lg bg-[#e5e7eb] dark:bg-slate-700 text-[#111318] dark:text-white text-xs font-bold hover:bg-[#dfe3ea] dark:hover:bg-slate-600 transition-colors",children:"Read"}),y.jsxs("button",{className:"flex-1 h-8 rounded-lg bg-primary/10 text-primary text-xs font-bold hover:bg-primary/20 transition-colors flex items-center justify-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"auto_awesome"}),"Summary"]})]})]})]},O.id))]}),y.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4",children:[y.jsx("div",{className:"flex items-center justify-between pb-2",children:y.jsxs("h2",{className:"text-xl font-bold tracking-tight flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"domain"}),"Library Status"]})}),y.jsxs("div",{className:"p-5 rounded-xl bg-surface-dark border border-transparent shadow-sm",children:[y.jsx("h3",{className:"font-bold text-sm text-text-secondary uppercase tracking-wider mb-4",children:"Physical Copies"}),vp.map(O=>y.jsxs("div",{className:"flex flex-col gap-2 pb-4 mb-4 border-b border-dashed border-[#e5e7eb] dark:border-slate-700 last:border-b-0 last:pb-0 last:mb-0",children:[y.jsx("span",{className:"font-bold text-[#111318] dark:text-white",children:O.title}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`size-2 rounded-full ${O.status==="Available"?"bg-green-500 animate-pulse":"bg-red-500"}`}),y.jsxs("span",{className:`text-xs font-medium ${O.status==="Available"?"text-green-500":"text-red-500"}`,children:[O.status,O.availableCopies?` (${O.availableCopies} copies)`:""]})]}),y.jsx("span",{className:"text-xs text-[#6b7280] dark:text-text-secondary bg-[#eef1f6] dark:bg-slate-800 px-2 py-1 rounded",children:O.location||`Due: ${O.dueDate}`})]})]},O.id))]}),y.jsx("div",{className:"p-5 rounded-xl bg-gradient-to-br from-primary/20 to-transparent border border-primary/20",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"size-10 rounded-lg bg-primary text-white flex items-center justify-center shrink-0",children:y.jsx("span",{className:"material-symbols-outlined",children:"timer"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg text-[#111318] dark:text-white",children:"Study Session"}),y.jsx("p",{className:"text-sm text-text-secondary leading-snug mb-3",children:"You have an upcoming exam in 5 days. Start a focused timer?"}),y.jsx("button",{className:"px-4 py-2 rounded-lg bg-primary text-white dark:bg-white dark:text-slate-900 text-sm font-bold shadow hover:scale-105 transition-transform",children:"Start 25m Focus"})]})]})})]})]})]})]}),E&&y.jsx(Pm,{subjectId:b.id,onClose:()=>w(!1)}),T&&y.jsx(Ep,{subjectName:b.name,onClose:()=>D(!1)})]}):y.jsx("div",{className:"text-white",children:"Subject not found"})},Np=()=>{const m=qa().state||{},[h,b]=F.useState(100),[E,w]=F.useState(!0),[T,D]=F.useState(!0),[O,v]=F.useState(!1),[L,I]=F.useState(!1),G=oe=>{b(le=>Math.max(50,Math.min(200,le+oe)))},Y=async()=>{if(!m.filename){console.warn("No filename found for download.");return}I(!0);try{const oe=await zm(m.filename);Hm(oe,m.filename),console.log("PDF downloaded successfully:",m.filename)}catch(oe){console.error("PDF download failed:",oe)}finally{I(!1)}};return y.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-[#111318] dark:text-white font-display overflow-hidden h-screen flex flex-col",children:[y.jsx("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-[#e5e7eb] dark:border-[#292e38] px-6 py-3 bg-white dark:bg-[#111318] z-20 shrink-0",children:y.jsxs("div",{className:"flex items-center gap-4 text-[#111318] dark:text-white",children:[y.jsx("div",{className:"size-8 flex items-center justify-center bg-primary/20 rounded-lg text-primary",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"})}),y.jsx("h2",{className:"text-[#111318] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em]",children:"AcadIntel"})]})}),y.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 px-6 py-4 bg-white dark:bg-[#111621] border-b border-[#e5e7eb] dark:border-[#292e38] shrink-0 z-10",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("h1",{className:"text-[#111318] dark:text-white tracking-tight text-xl font-bold leading-tight",children:m.subjectName||"Introduction to Quantum Mechanics"}),y.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/20",children:"Generated"})]}),y.jsx("p",{className:"text-[#6b7280] dark:text-[#9da6b8] text-sm",children:"Created just now via AI Assistant"})]}),y.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center justify-center gap-2 rounded-lg h-9 px-4 bg-[#eef1f6] dark:bg-[#292e38] hover:bg-[#e5e7eb] dark:hover:bg-[#3c4453] text-[#111318] dark:text-white text-sm font-medium transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"edit"}),y.jsx("span",{className:"hidden sm:inline",children:"Back to Workspace"})]})]}),y.jsxs("main",{className:"flex flex-1 overflow-hidden relative",children:[y.jsx("div",{className:"flex-1 bg-[#f3f4f6] dark:bg-[#0d1017] relative flex flex-col items-center overflow-y-auto pt-8 pb-20 px-4 md:px-8",children:y.jsxs("div",{className:"a4-page bg-white text-gray-900 shadow-lg shadow-black/20 rounded-sm p-[25mm] relative mb-8 origin-top transition-transform duration-200",style:{transform:`scale(${h/100})`},children:[y.jsxs("div",{className:"border-b-2 border-gray-900 pb-4 mb-8 flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold font-sans text-gray-900 mb-2",children:m.subjectName||"Course Study Notes"}),y.jsx("p",{className:"text-sm text-gray-600 font-sans italic",children:"AI Generated Study Material - AcadIntel"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"PHY-301"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Page 1 of 3"})]})]}),y.jsxs("div",{className:"space-y-6 font-sans leading-relaxed text-[11pt]",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"Introduction"}),y.jsx("p",{className:"text-justify mb-4",children:"This document provides a comprehensive overview of the key concepts and theories covered in this course. The material is organized to facilitate effective study and understanding of the subject matter."}),y.jsx("p",{className:"text-justify",children:"Students are encouraged to review this material regularly and refer to additional resources as needed for deeper understanding of complex topics."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"Key Topics"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[y.jsx("li",{children:"Fundamental principles and theoretical foundations"}),y.jsx("li",{children:"Mathematical frameworks and analytical methods"}),y.jsx("li",{children:"Practical applications and real-world examples"}),y.jsx("li",{children:"Problem-solving techniques and strategies"})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"Study Notes"}),y.jsx("p",{className:"text-justify mb-3",children:"The content presented here has been carefully curated to align with the course objectives and learning outcomes. Each section builds upon previous concepts to provide a coherent understanding of the material."}),y.jsxs("div",{className:"bg-gray-50 border-l-4 border-primary p-4 mt-4",children:[y.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"Important Note"}),y.jsx("p",{className:"text-sm text-gray-700",children:"This is a generated preview document. The actual content will be customized based on your specific subject and course requirements."})]})]})]}),y.jsxs("div",{className:"absolute bottom-[15mm] left-[25mm] right-[25mm] border-t border-gray-200 pt-3 flex justify-between text-[9pt] text-gray-400 font-sans",children:[y.jsx("span",{children:"Generated by AcadIntel"}),y.jsx("span",{children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})}),y.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 md:translate-x-[-160px] bg-white/90 dark:bg-[#292e38]/90 backdrop-blur-md border border-[#e5e7eb] dark:border-[#3c4453] rounded-full p-1.5 flex gap-1 shadow-2xl z-40",children:[y.jsx("button",{onClick:()=>G(-10),className:"size-9 flex items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/10 text-[#111318] dark:text-white transition-colors",title:"Zoom Out",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"remove"})}),y.jsx("div",{className:"flex items-center justify-center px-2 min-w-[60px]",children:y.jsxs("span",{className:"text-xs font-medium text-[#111318] dark:text-white",children:[h,"%"]})}),y.jsx("button",{onClick:()=>G(10),className:"size-9 flex items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/10 text-[#111318] dark:text-white transition-colors",title:"Zoom In",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"})})]}),y.jsxs("aside",{className:"w-80 bg-white dark:bg-[#111621] border-l border-[#e5e7eb] dark:border-[#292e38] flex-col shadow-xl z-20 shrink-0 hidden md:flex",children:[y.jsxs("div",{className:"p-6 border-b border-[#e5e7eb] dark:border-[#292e38]",children:[y.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-4 text-[#6b7280] dark:text-[#9da6b8]",children:"Export & Share"}),y.jsx("button",{onClick:Y,disabled:L,className:"w-full h-12 bg-primary hover:bg-blue-600 text-white rounded-lg font-bold text-sm flex items-center justify-center gap-2 shadow-lg shadow-primary/20 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:L?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"material-symbols-outlined animate-spin",children:"progress_activity"}),"Generating..."]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Download PDF"]})}),y.jsxs("p",{className:"text-xs text-[#6b7280] mt-2 text-center",children:["High-quality PDF with ",E&&"citations, ",T&&"highlights, ",O?"dark theme":"light theme"]})]}),y.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[y.jsx("h3",{className:"text-[#111318] dark:text-white text-sm font-bold uppercase tracking-wider mb-5 text-[#6b7280] dark:text-[#9da6b8]",children:"Preview Settings"}),y.jsxs("div",{className:"flex items-start justify-between gap-4 mb-6",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-medium text-[#111318] dark:text-white block",children:"Include Citations"}),y.jsx("span",{className:"text-xs text-[#6b7280] block mt-0.5",children:"Add footnotes at bottom"})]}),y.jsx("button",{onClick:()=>w(!E),className:`flex-shrink-0 w-11 h-6 rounded-full relative transition-colors ${E?"bg-primary":"bg-[#e5e7eb] dark:bg-[#292e38]"}`,"aria-label":"Toggle citations",children:y.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 ${E?"translate-x-5":"translate-x-0"}`})})]}),y.jsxs("div",{className:"flex items-start justify-between gap-4 mb-6",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-medium text-[#111318] dark:text-white block",children:"Smart Highlights"}),y.jsx("span",{className:"text-xs text-[#6b7280] block mt-0.5",children:"Bold key terms automatically"})]}),y.jsx("button",{onClick:()=>D(!T),className:`flex-shrink-0 w-11 h-6 rounded-full relative transition-colors ${T?"bg-primary":"bg-[#e5e7eb] dark:bg-[#292e38]"}`,"aria-label":"Toggle smart highlights",children:y.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 ${T?"translate-x-5":"translate-x-0"}`})})]}),y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-medium text-[#111318] dark:text-white block",children:"Dark Export"}),y.jsx("span",{className:"text-xs text-[#6b7280] block mt-0.5",children:"Invert colors for screens"})]}),y.jsx("button",{onClick:()=>v(!O),className:`flex-shrink-0 w-11 h-6 rounded-full relative transition-colors ${O?"bg-primary":"bg-[#e5e7eb] dark:bg-[#292e38]"}`,"aria-label":"Toggle dark export",children:y.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 ${O?"translate-x-5":"translate-x-0"}`})})]})]})]})]})]})},Tp=[{id:"res-1",type:"Textbook",title:"Intro to Quantum Mechanics",author:"D. Griffiths",subject:"Quantum Physics I",status:"Available",coverUrl:"https://m.media-amazon.com/images/I/71pU-3f90sL._AC_UF1000,1000_QL80_.jpg"},{id:"res-2",type:"Q. Paper",title:"Fall 2023 Final Exam",subject:"Quantum Physics I",status:"In Use"},{id:"res-3",type:"Textbook",title:"Calculus: A Modern Approach",author:"H. Anton",subject:"Advanced Calculus",status:"Available",coverUrl:"https://pictures.abebooks.com/isbn/9780471153061-us.jpg"},{id:"res-4",type:"Article",title:"The European Renaissance",subject:"European History",status:"Available"},{id:"res-5",type:"Textbook",title:"Pattern Recognition & ML",author:"C. Bishop",subject:"Machine Learning",status:"Available",coverUrl:"https://m.media-amazon.com/images/I/71cSKTcmr3L._AC_UF1000,1000_QL80_.jpg"},{id:"res-6",type:"Q. Paper",title:"Spring 2022 Midterm",subject:"Advanced Calculus",status:"Available"}],_p=()=>{const[f,m]=F.useState(Tp),[h,b]=F.useState("All"),[E,w]=F.useState(""),[T,D]=F.useState(!1),[O,v]=F.useState(""),[L,I]=F.useState("Textbook"),[G,Y]=F.useState(""),[oe,le]=F.useState(""),[ie,be]=F.useState(""),[xe,ae]=F.useState(null),[Ee,Re]=F.useState(""),Ie=f.filter(Me=>{const We=h==="All"||Me.type.startsWith(h.slice(0,4)),ve=Me.title.toLowerCase().includes(E.toLowerCase());return We&&ve}),ee=["All","Textbooks","Q. Papers","Articles"],Ce=()=>{v(""),I("Textbook"),Y(""),le(""),be(""),ae(null),Re("")},ue=Me=>{Me.preventDefault();const We=O.trim(),ve=G.trim(),Qe=ie.trim();if(!We){Re("Name is required.");return}if(!ve){Re("Subject is required.");return}if(!xe&&!Qe){Re("Please provide a file or a URL.");return}const xt={id:`res-${Date.now()}`,type:L,title:We,author:oe.trim()||void 0,subject:ve,status:"Available"};m(te=>[xt,...te]),Ce(),D(!1)};return y.jsxs("div",{className:"flex h-screen w-full bg-background-dark text-white font-sans",children:[y.jsx(rc,{}),y.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden bg-background-dark",children:[y.jsxs("div",{className:"px-10 py-6 border-b border-[#292e38]",children:[y.jsx("h1",{className:"text-white tracking-tight text-3xl font-bold",children:"Library"}),y.jsx("p",{className:"text-text-secondary mt-1",children:"Your central hub for all academic resources."})]}),y.jsxs("div",{className:"px-10 py-4 flex flex-col sm:flex-row items-center justify-between gap-4 border-b border-[#292e38]",children:[y.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[y.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary text-xl",children:"search"}),y.jsx("input",{type:"text",placeholder:"Search resources...",value:E,onChange:Me=>w(Me.target.value),className:"w-full h-10 pl-10 pr-4 rounded-lg bg-surface-dark text-white placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-primary/50 border border-transparent"})]}),y.jsx("div",{className:"flex items-center gap-2 p-1 rounded-lg bg-surface-dark",children:ee.map(Me=>y.jsx("button",{onClick:()=>b(Me),className:`px-3 py-1.5 text-sm font-semibold rounded-md transition-colors ${h===Me?"bg-[#363c4a] text-white shadow-sm":"text-text-secondary hover:text-white"}`,children:Me},Me))})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-10",children:y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[Ie.map(Me=>y.jsxs("div",{className:"group flex flex-col bg-surface-dark rounded-xl border border-transparent hover:border-primary/50 transition-all cursor-pointer shadow-lg hover:shadow-primary/10",children:[Me.coverUrl?y.jsx("div",{className:"w-full h-48 bg-cover bg-center rounded-t-xl",style:{backgroundImage:`url(${Me.coverUrl})`}}):y.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-charcoal-dark rounded-t-xl",children:y.jsx("span",{className:"material-symbols-outlined text-5xl text-text-secondary",children:Me.type==="Q. Paper"?"description":"article"})}),y.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Me.type==="Textbook"?"bg-blue-500/10 text-blue-400":"bg-green-500/10 text-green-400"}`,children:Me.type}),y.jsx("div",{className:`size-2 rounded-full mt-1 ${Me.status==="Available"?"bg-green-500":"bg-yellow-500"}`,title:Me.status})]}),y.jsx("h3",{className:"font-bold text-white group-hover:text-primary transition-colors flex-1",children:Me.title}),y.jsx("p",{className:"text-xs text-text-secondary mt-1",children:Me.author||Me.subject})]})]},Me.id)),y.jsxs("button",{onClick:()=>D(!0),className:"group flex flex-col items-center justify-center bg-transparent rounded-xl border-2 border-dashed border-[#292e38] hover:border-primary transition-all cursor-pointer min-h-[280px]",children:[y.jsx("div",{className:"size-14 rounded-full bg-[#292e38] group-hover:bg-primary flex items-center justify-center text-text-secondary group-hover:text-white transition-colors mb-4",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})}),y.jsx("p",{className:"font-bold text-white",children:"Upload New"}),y.jsx("p",{className:"text-xs text-text-secondary",children:"PDF, DOCX, or URL"})]})]})}),T&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-6",children:y.jsxs("div",{className:"w-full max-w-xl rounded-2xl bg-surface-dark border border-white/10 shadow-2xl",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#292e38]",children:[y.jsx("h2",{className:"text-lg font-bold text-white",children:"Upload Resource"}),y.jsx("button",{onClick:()=>{D(!1),Ce()},className:"text-text-secondary hover:text-white",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),y.jsxs("form",{onSubmit:ue,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Name *"}),y.jsx("input",{type:"text",value:O,onChange:Me=>v(Me.target.value),className:"w-full h-11 px-4 rounded-lg bg-white dark:bg-[#151a24] text-[#111318] dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"e.g., Quantum Mechanics Notes"})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Type"}),y.jsxs("select",{value:L,onChange:Me=>I(Me.target.value),className:"w-full h-11 px-4 rounded-lg bg-white dark:bg-[#151a24] text-[#111318] dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50",children:[y.jsx("option",{value:"Textbook",children:"Textbook"}),y.jsx("option",{value:"Q. Paper",children:"Q. Paper"}),y.jsx("option",{value:"Article",children:"Article"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Subject *"}),y.jsx("input",{type:"text",value:G,onChange:Me=>Y(Me.target.value),className:"w-full h-11 px-4 rounded-lg bg-white dark:bg-[#151a24] text-[#111318] dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"e.g., Quantum Physics I"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Author (optional)"}),y.jsx("input",{type:"text",value:oe,onChange:Me=>le(Me.target.value),className:"w-full h-11 px-4 rounded-lg bg-white dark:bg-[#151a24] text-[#111318] dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"e.g., D. Griffiths"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Resource URL (optional)"}),y.jsx("input",{type:"url",value:ie,onChange:Me=>be(Me.target.value),className:"w-full h-11 px-4 rounded-lg bg-white dark:bg-[#151a24] text-[#111318] dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"https://..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Upload File (optional)"}),y.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:Me=>{var We;return ae(((We=Me.target.files)==null?void 0:We[0])??null)},className:"w-full text-sm text-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-white dark:file:bg-[#151a24] file:text-[#111318] dark:file:text-white hover:file:bg-[#eef1f6] dark:hover:file:bg-[#1f2532]"}),xe&&y.jsxs("p",{className:"text-xs text-text-secondary mt-2",children:["Selected: ",xe.name]})]}),Ee&&y.jsx("p",{className:"text-sm text-red-400",children:Ee}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:()=>{D(!1),Ce()},className:"h-10 px-4 rounded-lg bg-white/5 hover:bg-white/10 text-white font-medium",children:"Cancel"}),y.jsx("button",{type:"submit",className:"h-10 px-5 rounded-lg bg-primary hover:bg-blue-600 text-white font-semibold",children:"Save Upload"})]})]})]})})]})]})},Rp=()=>{const[f,m]=F.useState("Profile"),{user:h,logout:b,theme:E,setTheme:w,updateProfile:T}=F.useContext(Ei),[D,O]=F.useState((h==null?void 0:h.name)??""),[v,L]=F.useState((h==null?void 0:h.semester)??4),[I,G]=F.useState(h==null?void 0:h.avatarUrl),[Y,oe]=F.useState(""),[le,ie]=F.useState(!1),[be,xe]=F.useState(!0),[ae,Ee]=F.useState(!0),[Re,Ie]=F.useState(!0),[ee,Ce]=F.useState(!1),[ue,Me]=F.useState("Weekly"),We=F.useRef(null);F.useEffect(()=>{O((h==null?void 0:h.name)??""),L((h==null?void 0:h.semester)??4),G(h==null?void 0:h.avatarUrl)},[h]);const ve=[{name:"Profile",icon:"person"},{name:"Appearance",icon:"palette"},{name:"Notifications",icon:"notifications"},{name:"Account",icon:"manage_accounts"}],Qe=()=>{b()},xt=()=>{var K;(K=We.current)==null||K.click()},te=K=>{var Je;const Be=(Je=K.target.files)==null?void 0:Je[0];if(!Be)return;if(oe(""),ie(!1),!Be.type.startsWith("image/")){oe("Please select a valid image file.");return}if(Be.size>1024*1024){oe("Image must be 1MB or smaller.");return}const Ve=new FileReader;Ve.onload=()=>{const H=typeof Ve.result=="string"?Ve.result:void 0;G(H)},Ve.readAsDataURL(Be)},$=()=>{const K=D.trim();if(!K){oe("Full name cannot be empty."),ie(!1);return}T({name:K,semester:v,avatarUrl:I}),oe(""),ie(!0)};return y.jsxs("div",{className:"flex h-screen w-full bg-background-dark text-white font-sans",children:[y.jsx(rc,{}),y.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden bg-background-dark",children:[y.jsxs("div",{className:"px-10 py-6 border-b border-[#292e38]",children:[y.jsx("h1",{className:"text-white tracking-tight text-3xl font-bold",children:"Settings"}),y.jsx("p",{className:"text-text-secondary mt-1",children:"Manage your account and application preferences."})]}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsx("aside",{className:"w-56 p-6 border-r border-[#292e38]",children:y.jsx("nav",{className:"flex flex-col gap-2",children:ve.map(K=>y.jsxs("button",{onClick:()=>m(K.name),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-semibold transition-colors ${f===K.name?"bg-primary/10 text-primary":"text-text-secondary hover:bg-black/5 dark:hover:bg-white/5 hover:text-[#111318] dark:hover:text-white"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-xl",children:K.icon}),y.jsx("span",{children:K.name})]},K.name))})}),y.jsxs("div",{className:"flex-1 p-10 overflow-y-auto",children:[f==="Profile"&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Profile Information"}),y.jsx("p",{className:"text-text-secondary mb-8",children:"Update your personal details here."}),y.jsxs("div",{className:"space-y-6 max-w-lg",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"size-20 rounded-full bg-gradient-to-tr from-gray-600 to-gray-500 flex items-center justify-center text-2xl font-bold text-white shadow-inner overflow-hidden",children:I?y.jsx("img",{src:I,alt:"Profile",className:"size-20 object-cover"}):h==null?void 0:h.avatarInitial}),y.jsxs("div",{children:[y.jsx("button",{onClick:xt,className:"px-4 py-2 text-sm font-bold bg-surface-dark hover:bg-[#292e38] rounded-lg",children:"Change Photo"}),y.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"JPG, GIF or PNG. 1MB max."}),y.jsx("input",{ref:We,type:"file",accept:"image/*",className:"hidden",onChange:te})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Full Name"}),y.jsx("input",{type:"text",value:D,onChange:K=>{O(K.target.value),ie(!1)},className:"w-full h-12 px-4 rounded-xl bg-surface-dark text-white focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Registration ID"}),y.jsx("input",{type:"text",readOnly:!0,defaultValue:h==null?void 0:h.registrationId,className:"w-full h-12 px-4 rounded-xl bg-charcoal-dark text-text-secondary cursor-not-allowed"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Current Semester"}),y.jsx("select",{value:v,onChange:K=>{L(parseInt(K.target.value,10)),ie(!1)},className:"w-full h-12 px-4 rounded-xl bg-surface-dark text-white focus:outline-none focus:ring-2 focus:ring-primary/50",children:[1,2,3,4,5,6,7,8].map(K=>y.jsxs("option",{value:K,children:["Semester ",K]},K))})]}),Y&&y.jsx("p",{className:"text-sm text-red-400",children:Y}),le&&y.jsx("p",{className:"text-sm text-green-400",children:"Profile updated successfully."}),y.jsx("button",{onClick:$,className:"h-11 px-6 bg-primary hover:bg-blue-600 font-bold rounded-lg transition-colors",children:"Save Changes"})]})]}),f==="Appearance"&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Appearance"}),y.jsx("p",{className:"text-text-secondary mb-8",children:"Customize the look and feel of AcadIntel."}),y.jsxs("div",{className:"space-y-4 max-w-lg",children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Theme"}),y.jsxs("div",{className:"flex gap-2 p-1 rounded-xl bg-surface-dark",children:[y.jsx("button",{onClick:()=>w("light"),className:`flex-1 text-center py-2.5 rounded-lg font-semibold ${E==="light"?"bg-[#363c4a] text-white":"text-text-secondary"}`,children:"Light"}),y.jsx("button",{onClick:()=>w("dark"),className:`flex-1 text-center py-2.5 rounded-lg font-semibold ${E==="dark"?"bg-[#363c4a] text-white":"text-text-secondary"}`,children:"Dark"})]})]})]}),f==="Notifications"&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Notifications"}),y.jsx("p",{className:"text-text-secondary mb-8",children:"Control how and when you get updates."}),y.jsxs("div",{className:"space-y-6 max-w-2xl",children:[y.jsxs("div",{className:"flex items-center justify-between gap-6 rounded-xl bg-surface-dark px-5 py-4 border border-white/5",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold",children:"Email notifications"}),y.jsx("p",{className:"text-sm text-text-secondary",children:"Receive important account and activity updates."})]}),y.jsx("button",{onClick:()=>xe(K=>!K),className:`h-8 w-14 rounded-full transition-colors ${be?"bg-primary":"bg-[#363c4a]"}`,"aria-pressed":be,children:y.jsx("span",{className:`block size-6 bg-white rounded-full transition-transform ${be?"translate-x-7":"translate-x-1"}`})})]}),y.jsxs("div",{className:"flex items-center justify-between gap-6 rounded-xl bg-surface-dark px-5 py-4 border border-white/5",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold",children:"Push notifications"}),y.jsx("p",{className:"text-sm text-text-secondary",children:"Stay on top of reminders and study alerts."})]}),y.jsx("button",{onClick:()=>Ee(K=>!K),className:`h-8 w-14 rounded-full transition-colors ${ae?"bg-primary":"bg-[#363c4a]"}`,"aria-pressed":ae,children:y.jsx("span",{className:`block size-6 bg-white rounded-full transition-transform ${ae?"translate-x-7":"translate-x-1"}`})})]}),y.jsxs("div",{className:"flex items-center justify-between gap-6 rounded-xl bg-surface-dark px-5 py-4 border border-white/5",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold",children:"Deadline reminders"}),y.jsx("p",{className:"text-sm text-text-secondary",children:"Get notified before exams and assignments."})]}),y.jsx("button",{onClick:()=>Ie(K=>!K),className:`h-8 w-14 rounded-full transition-colors ${Re?"bg-primary":"bg-[#363c4a]"}`,"aria-pressed":Re,children:y.jsx("span",{className:`block size-6 bg-white rounded-full transition-transform ${Re?"translate-x-7":"translate-x-1"}`})})]}),y.jsxs("div",{className:"flex items-center justify-between gap-6 rounded-xl bg-surface-dark px-5 py-4 border border-white/5",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-semibold",children:"Quiet hours"}),y.jsx("p",{className:"text-sm text-text-secondary",children:"Pause notifications during study sessions."})]}),y.jsx("button",{onClick:()=>Ce(K=>!K),className:`h-8 w-14 rounded-full transition-colors ${ee?"bg-primary":"bg-[#363c4a]"}`,"aria-pressed":ee,children:y.jsx("span",{className:`block size-6 bg-white rounded-full transition-transform ${ee?"translate-x-7":"translate-x-1"}`})})]}),y.jsxs("div",{className:"rounded-xl bg-surface-dark px-5 py-4 border border-white/5",children:[y.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2 block",children:"Digest frequency"}),y.jsx("div",{className:"flex gap-2",children:["Daily","Weekly","Off"].map(K=>y.jsx("button",{onClick:()=>Me(K),className:`px-4 h-10 rounded-lg text-sm font-semibold transition-colors ${ue===K?"bg-primary text-white":"bg-white/5 text-text-secondary hover:text-white"}`,children:K},K))})]})]})]}),f==="Account"&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Account"}),y.jsx("p",{className:"text-text-secondary mb-8",children:"Manage your account settings."}),y.jsxs("div",{className:"p-6 rounded-xl border border-red-300 bg-red-100 max-w-lg",children:[y.jsx("h3",{className:"font-bold text-red-700 mb-2",children:"Logout"}),y.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Logging out will end your current session. You will need to enter your Registration ID to log back in."}),y.jsx("button",{onClick:Qe,className:"h-10 px-5 bg-red-600 text-white hover:bg-red-700 font-bold rounded-lg transition-colors",children:"Logout from this device"})]})]})]})]})]})]})},Op=()=>y.jsx(rm,{children:y.jsx(Ip,{})}),Ip=()=>{const{theme:f}=F.useContext(Ei);return F.useEffect(()=>{const m=window.document.documentElement;f==="dark"?(m.classList.add("dark"),m.classList.remove("light")):(m.classList.remove("dark"),m.classList.add("light"))},[f]),y.jsx(Dp,{})},Dp=()=>{const{isAuthenticated:f}=Ch.useContext(Ei);return y.jsx(q2,{children:y.jsxs(C2,{children:[y.jsx(pi,{path:"/login",element:f?y.jsx(lr,{to:"/"}):y.jsx(Im,{})}),y.jsx(pi,{path:"/",element:f?y.jsx(Lm,{}):y.jsx(lr,{to:"/login"})}),y.jsx(pi,{path:"/subject/new",element:f?y.jsx(jm,{}):y.jsx(lr,{to:"/login"})}),y.jsx(pi,{path:"/subject/:id",element:f?y.jsx(Sp,{}):y.jsx(lr,{to:"/login"})}),y.jsx(pi,{path:"/subject/:id/preview",element:f?y.jsx(Np,{}):y.jsx(lr,{to:"/login"})}),y.jsx(pi,{path:"/library",element:f?y.jsx(_p,{}):y.jsx(lr,{to:"/login"})}),y.jsx(pi,{path:"/settings",element:f?y.jsx(Rp,{}):y.jsx(lr,{to:"/login"})}),y.jsx(pi,{path:"*",element:y.jsx(lr,{to:"/"})})]})})},Wh=document.getElementById("root");if(!Wh)throw new Error("Could not find root element to mount to");const Mp=Sg.createRoot(Wh);Mp.render(y.jsx(Ch.StrictMode,{children:y.jsx(Op,{})}));
